<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    
<!-- Mirrored from learnxinyminutes.com/docs/ru-ru/objective-c-ru/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 16:35:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <!-- Use title if it's in the page YAML frontmatter -->
        <title>Learn Objective-C in Y Minutes</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="css/normalize.html">
        <link rel="stylesheet" href="css/main.html">
        <link href="../../../css/screen.css" media="screen" rel="stylesheet" type="text/css" />
        <link href="../../../css/github.css" media="screen" rel="stylesheet" type="text/css" />

        <link rel="canonical" href="index.html">
        <script src="js/vendor/modernizr-2.6.1.min.html"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <div class="container">
            <div class="share">
    <span class="sharemsg">Share this page</span>
      <span class='st_facebook_large' displayText='Facebook'></span>
      <span class='st_twitter_large' displayText='Tweet'></span>
  </div>
  <h1><a href="../../../index.html">Learn X in Y minutes</a></h2>
  <h2>Where X=Objective-C</h2>
  
    <p class="filelink">
    Get the code:
    <a href="../../files/LearnObjectiveC-ru.m">LearnObjectiveC-ru.m</a>
    </p>
  
  <div id="doc">
    <p>Objective-C — основной язык программирования, используемый корпорацией Apple
для операционных систем OS X и iOS и их соответствующих фреймворках Cocoa и
Cocoa Touch.
Он является объектно-ориентированным языком программирования общего назначения,
который добавляет обмен сообщениями в Smalltalk-стиле к языку программирования C.</p>
<pre><code class="highlight objective_c"><span class="c1">// Однострочные комментарии начинаются с //
</span>
<span class="cm">/*
Так выглядят многострочные комментарии
*/</span>

<span class="c1">// Импорт заголовочных файлов фреймворка Foundation с помощью #import
// Используйте &lt;&gt;, чтобы импортировать глобальные файлы (обычно фреймворки)
// Используйте "", чтобы импортировать локальные файлы (из проекта)
</span><span class="cp">#import &lt;Foundation/Foundation.h&gt;
#import "MyClass.h"
</span>
<span class="c1">// Если вы включили модули для iOS &gt;= 7.0 или OS X &gt;= 10.9 проектов в
// Xcode 5, вы можете импортировать фреймворки подобным образом:
</span><span class="k">@import</span> <span class="n">Foundation</span><span class="p">;</span>

<span class="c1">// Точка входа в программу - это функция main,
// которая возвращает целый тип
</span><span class="kt">int</span> <span class="nf">main</span> <span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="c1">// Создание autorelease pool для управления памятью в программе
</span>    <span class="n">NSAutoreleasePool</span> <span class="o">*</span> <span class="n">pool</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSAutoreleasePool</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
    <span class="c1">// В место этого воспользуйтесь @autoreleasepool, если вы используете
</span>    <span class="c1">// автоматический подсчет ссылок (ARC)
</span>    <span class="err">@autoreleasepool</span> <span class="p">{</span>

    <span class="c1">// Используйте NSLog для печати в консоль
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Привет Мир!"</span><span class="p">);</span> <span class="c1">// Напечатает строку "Привет Мир!"
</span>
    <span class="c1">///////////////////////////////////////
</span>    <span class="c1">// Типы и переменные
</span>    <span class="c1">///////////////////////////////////////
</span>
    <span class="c1">// Объявление простых типов
</span>    <span class="kt">int</span> <span class="n">myPrimitive1</span>  <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kt">long</span> <span class="n">myPrimitive2</span> <span class="o">=</span> <span class="mi">234554664565</span><span class="p">;</span>

    <span class="c1">// Объявление объектов
</span>    <span class="c1">// Помещайте * в начало названия объекта для строго типизированного объявления
</span>    <span class="n">MyClass</span> <span class="o">*</span><span class="n">myObject1</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>  <span class="c1">// Строгая типизация 
</span>    <span class="n">id</span>       <span class="n">myObject2</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>  <span class="c1">// Слабая типизация 
</span>    <span class="c1">// %@ – это объект
</span>    <span class="c1">// 'description' - это общий для всех объектов метод вывода данных
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%@ and %@"</span><span class="p">,</span> <span class="n">myObject1</span><span class="p">,</span> <span class="p">[</span><span class="n">myObject2</span> <span class="nf">description</span><span class="p">]);</span> <span class="c1">// напечатает "(null) and (null)"
</span>
    <span class="c1">// Строка
</span>    <span class="n">NSString</span> <span class="o">*</span><span class="n">worldString</span> <span class="o">=</span> <span class="s">@"Мир"</span><span class="p">;</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Привет %@!"</span><span class="p">,</span> <span class="n">worldString</span><span class="p">);</span> <span class="c1">// напечатает "Привет Мир!"
</span>    <span class="c1">// NSMutableString - это изменяемая версия NSString-объекта
</span>    <span class="n">NSMutableString</span> <span class="o">*</span><span class="n">mutableString</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableString</span> <span class="nf">stringWithString</span><span class="p">:</span><span class="s">@"Привет"</span><span class="p">];</span>
    <span class="p">[</span><span class="n">mutableString</span> <span class="nf">appendString</span><span class="p">:</span><span class="s">@" Мир!"</span><span class="p">];</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%@"</span><span class="p">,</span> <span class="n">mutableString</span><span class="p">);</span> <span class="c1">// напечатает =&gt; "Привет Мир!"
</span>
    <span class="c1">// Символьные литералы
</span>    <span class="n">NSNumber</span> <span class="o">*</span><span class="n">theLetterZNumber</span> <span class="o">=</span> <span class="sc">@'Z'</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">theLetterZ</span>            <span class="o">=</span> <span class="p">[</span><span class="n">theLetterZNumber</span> <span class="nf">charValue</span><span class="p">];</span> <span class="c1">// или 'Z'
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%c"</span><span class="p">,</span> <span class="n">theLetterZ</span><span class="p">);</span>

    <span class="c1">// Целочисленные литералы
</span>    <span class="n">NSNumber</span> <span class="o">*</span><span class="n">fortyTwoNumber</span> <span class="o">=</span> <span class="mi">@42</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">fortyTwo</span>             <span class="o">=</span> <span class="p">[</span><span class="n">fortyTwoNumber</span> <span class="nf">intValue</span><span class="p">];</span> <span class="c1">// или '42'
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%i"</span><span class="p">,</span> <span class="n">fortyTwo</span><span class="p">);</span>

    <span class="c1">// Беззнаковый целочисленный литерал
</span>    <span class="n">NSNumber</span> <span class="o">*</span><span class="n">fortyTwoUnsignedNumber</span> <span class="o">=</span> <span class="mi">@42</span><span class="n">U</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">fortyTwoUnsigned</span>    <span class="o">=</span> <span class="p">[</span><span class="n">fortyTwoUnsignedNumber</span> <span class="nf">unsignedIntValue</span><span class="p">];</span> <span class="c1">// или 42
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%u"</span><span class="p">,</span> <span class="n">fortyTwoUnsigned</span><span class="p">);</span>

    <span class="n">NSNumber</span> <span class="o">*</span><span class="n">fortyTwoShortNumber</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSNumber</span> <span class="nf">numberWithShort</span><span class="p">:</span><span class="mi">42</span><span class="p">];</span>
    <span class="kt">short</span> <span class="n">fortyTwoShort</span>           <span class="o">=</span> <span class="p">[</span><span class="n">fortyTwoShortNumber</span> <span class="nf">shortValue</span><span class="p">];</span> <span class="c1">// или 42
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%hi"</span><span class="p">,</span> <span class="n">fortyTwoShort</span><span class="p">);</span>

    <span class="n">NSNumber</span> <span class="o">*</span><span class="n">fortyOneShortNumber</span>   <span class="o">=</span> <span class="p">[</span><span class="n">NSNumber</span> <span class="nf">numberWithShort</span><span class="p">:</span><span class="mi">41</span><span class="p">];</span>
    <span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">fortyOneUnsigned</span> <span class="o">=</span> <span class="p">[</span><span class="n">fortyOneShortNumber</span> <span class="nf">unsignedShortValue</span><span class="p">];</span> <span class="c1">// или 41
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%u"</span><span class="p">,</span> <span class="n">fortyOneUnsigned</span><span class="p">);</span>

    <span class="n">NSNumber</span> <span class="o">*</span><span class="n">fortyTwoLongNumber</span> <span class="o">=</span> <span class="mi">@42</span><span class="n">L</span><span class="p">;</span>
    <span class="kt">long</span> <span class="n">fortyTwoLong</span>            <span class="o">=</span> <span class="p">[</span><span class="n">fortyTwoLongNumber</span> <span class="nf">longValue</span><span class="p">];</span> <span class="c1">// или 42
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%li"</span><span class="p">,</span> <span class="n">fortyTwoLong</span><span class="p">);</span>

    <span class="n">NSNumber</span> <span class="o">*</span><span class="n">fiftyThreeLongNumber</span>   <span class="o">=</span> <span class="mi">@53</span><span class="n">L</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">fiftyThreeUnsigned</span> <span class="o">=</span> <span class="p">[</span><span class="n">fiftyThreeLongNumber</span> <span class="nf">unsignedLongValue</span><span class="p">];</span> <span class="c1">// или 53
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%lu"</span><span class="p">,</span> <span class="n">fiftyThreeUnsigned</span><span class="p">);</span>

    <span class="c1">// Вещественный литерал
</span>    <span class="n">NSNumber</span> <span class="o">*</span><span class="n">piFloatNumber</span> <span class="o">=</span> <span class="mf">@3.141592654F</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">piFloat</span>           <span class="o">=</span> <span class="p">[</span><span class="n">piFloatNumber</span> <span class="nf">floatValue</span><span class="p">];</span> <span class="c1">// или 3.141592654f
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%f"</span><span class="p">,</span> <span class="n">piFloat</span><span class="p">);</span> <span class="c1">// напечатает 3.141592654
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%5.2f"</span><span class="p">,</span> <span class="n">piFloat</span><span class="p">);</span> <span class="c1">// напечатает " 3.14"
</span>
    <span class="n">NSNumber</span> <span class="o">*</span><span class="n">piDoubleNumber</span> <span class="o">=</span> <span class="mf">@3.1415926535</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">piDouble</span>                 <span class="o">=</span> <span class="p">[</span><span class="n">piDoubleNumber</span> <span class="nf">doubleValue</span><span class="p">];</span> <span class="c1">// или 3.1415926535
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%f"</span><span class="p">,</span> <span class="n">piDouble</span><span class="p">);</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%4.2f"</span><span class="p">,</span> <span class="n">piDouble</span><span class="p">);</span> <span class="c1">// напечатает "3.14"
</span>
    <span class="c1">// NSDecimalNumber - это класс с фиксированной точкой, который является
</span>    <span class="c1">// более точным, чем float или double
</span>    <span class="n">NSDecimalNumber</span> <span class="o">*</span><span class="n">oneDecNum</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSDecimalNumber</span> <span class="nf">decimalNumberWithString</span><span class="p">:</span><span class="s">@"10.99"</span><span class="p">];</span>
    <span class="n">NSDecimalNumber</span> <span class="o">*</span><span class="n">twoDecNum</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSDecimalNumber</span> <span class="nf">decimalNumberWithString</span><span class="p">:</span><span class="s">@"5.002"</span><span class="p">];</span>
    <span class="c1">// NSDecimalNumber не способен использовать стандартные +, -, *, / операторы,
</span>    <span class="c1">// поэтому он предоставляет свои собственные:
</span>    <span class="p">[</span><span class="n">oneDecNum</span> <span class="nf">decimalNumberByAdding</span><span class="p">:</span><span class="n">twoDecNum</span><span class="p">];</span> 
    <span class="p">[</span><span class="n">oneDecNum</span> <span class="nf">decimalNumberBySubtracting</span><span class="p">:</span><span class="n">twoDecNum</span><span class="p">];</span>
    <span class="p">[</span><span class="n">oneDecNum</span> <span class="nf">decimalNumberByMultiplyingBy</span><span class="p">:</span><span class="n">twoDecNum</span><span class="p">];</span>
    <span class="p">[</span><span class="n">oneDecNum</span> <span class="nf">decimalNumberByDividingBy</span><span class="p">:</span><span class="n">twoDecNum</span><span class="p">];</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%@"</span><span class="p">,</span> <span class="n">oneDecNum</span><span class="p">);</span> <span class="c1">// напечатает "10.99", т.к. NSDecimalNumber - изменяемый
</span>
    <span class="c1">// BOOL (булевый) литерал
</span>    <span class="n">NSNumber</span> <span class="o">*</span><span class="n">yesNumber</span> <span class="o">=</span> <span class="nb">@YES</span><span class="p">;</span>
    <span class="n">NSNumber</span> <span class="o">*</span><span class="n">noNumber</span>  <span class="o">=</span> <span class="nb">@NO</span><span class="p">;</span>
    <span class="c1">// или
</span>    <span class="n">BOOL</span> <span class="n">yesBool</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>
    <span class="n">BOOL</span> <span class="n">noBool</span>  <span class="o">=</span> <span class="nb">NO</span><span class="p">;</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%i"</span><span class="p">,</span> <span class="n">yesBool</span><span class="p">);</span> <span class="c1">// напечатает 1
</span>
    <span class="c1">// Массив
</span>    <span class="c1">// Может содержать различные типы данных, но должен быть объектом Objective-C
</span>    <span class="n">NSArray</span> <span class="o">*</span><span class="n">anArray</span>      <span class="o">=</span> <span class="err">@</span><span class="p">[</span><span class="mi">@1</span><span class="p">,</span> <span class="mi">@2</span><span class="p">,</span> <span class="mi">@3</span><span class="p">,</span> <span class="mi">@4</span><span class="p">];</span>
    <span class="n">NSNumber</span> <span class="o">*</span><span class="n">thirdNumber</span> <span class="o">=</span> <span class="n">anArray</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Третье число = %@"</span><span class="p">,</span> <span class="n">thirdNumber</span><span class="p">);</span> <span class="c1">// Напечатает "Третье число = 3"
</span>    <span class="c1">// NSMutableArray - это изменяемая версия NSArray, допускающая вам изменять
</span>    <span class="c1">// элементы в массиве и расширять или сокращать массив.
</span>    <span class="c1">// Удобный, но не эффективный как NSArray.
</span>    <span class="n">NSMutableArray</span> <span class="o">*</span><span class="n">mutableArray</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableArray</span> <span class="nf">arrayWithCapacity</span><span class="p">:</span><span class="mi">2</span><span class="p">];</span>
    <span class="p">[</span><span class="n">mutableArray</span> <span class="nf">addObject</span><span class="p">:</span><span class="s">@"Привет"</span><span class="p">];</span>
    <span class="p">[</span><span class="n">mutableArray</span> <span class="nf">addObject</span><span class="p">:</span><span class="s">@"Мир"</span><span class="p">];</span>
    <span class="p">[</span><span class="n">mutableArray</span> <span class="nf">removeObjectAtIndex</span><span class="p">:</span><span class="mi">0</span><span class="p">];</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%@"</span><span class="p">,</span> <span class="p">[</span><span class="n">mutableArray</span> <span class="nf">objectAtIndex</span><span class="p">:</span><span class="mi">0</span><span class="p">]);</span> <span class="c1">// напечатает "Мир"
</span>
    <span class="c1">// Словарь
</span>    <span class="n">NSDictionary</span> <span class="o">*</span><span class="n">aDictionary</span> <span class="o">=</span> <span class="err">@</span><span class="p">{</span> <span class="s">@"ключ1"</span> <span class="o">:</span> <span class="s">@"значение1"</span><span class="p">,</span> <span class="s">@"ключ2"</span> <span class="o">:</span> <span class="s">@"значение2"</span> <span class="p">};</span>
    <span class="n">NSObject</span> <span class="o">*</span><span class="n">valueObject</span>     <span class="o">=</span> <span class="n">aDictionary</span><span class="p">[</span><span class="s">@"Ключ"</span><span class="p">];</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Объект = %@"</span><span class="p">,</span> <span class="n">valueObject</span><span class="p">);</span> <span class="c1">// Напечатает "Объект = (null)"
</span>    <span class="c1">// NSMutableDictionary тоже доступен, как изменяемый словарь
</span>    <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">mutableDictionary</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableDictionary</span> <span class="nf">dictionaryWithCapacity</span><span class="p">:</span><span class="mi">2</span><span class="p">];</span>
    <span class="p">[</span><span class="n">mutableDictionary</span> <span class="nf">setObject</span><span class="p">:</span><span class="s">@"значение1"</span> <span class="nf">forKey</span><span class="p">:</span><span class="s">@"ключ1"</span><span class="p">];</span>
    <span class="p">[</span><span class="n">mutableDictionary</span> <span class="nf">setObject</span><span class="p">:</span><span class="s">@"значение2"</span> <span class="nf">forKey</span><span class="p">:</span><span class="s">@"ключ2"</span><span class="p">];</span>
    <span class="p">[</span><span class="n">mutableDictionary</span> <span class="nf">removeObjectForKey</span><span class="p">:</span><span class="s">@"ключ1"</span><span class="p">];</span>

    <span class="c1">// Множество
</span>    <span class="n">NSSet</span> <span class="o">*</span><span class="n">set</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSSet</span> <span class="nf">setWithObjects</span><span class="p">:</span><span class="s">@"Привет"</span><span class="p">,</span> <span class="s">@"Привет"</span><span class="p">,</span> <span class="s">@"Мир"</span><span class="p">,</span> <span class="nb">nil</span><span class="p">];</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%@"</span><span class="p">,</span> <span class="n">set</span><span class="p">);</span> <span class="c1">// напечатает {(Hello, World)} (порядок может отличаться)
</span>    <span class="c1">// NSMutableSet тоже доступен, как изменяемое множество
</span>    <span class="n">NSMutableSet</span> <span class="o">*</span><span class="n">mutableSet</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableSet</span> <span class="nf">setWithCapacity</span><span class="p">:</span><span class="mi">2</span><span class="p">];</span>
    <span class="p">[</span><span class="n">mutableSet</span> <span class="nf">addObject</span><span class="p">:</span><span class="s">@"Привет"</span><span class="p">];</span>
    <span class="p">[</span><span class="n">mutableSet</span> <span class="nf">addObject</span><span class="p">:</span><span class="s">@"Привет"</span><span class="p">];</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%@"</span><span class="p">,</span> <span class="n">mutableSet</span><span class="p">);</span> <span class="c1">// напечатает =&gt; {(Привет)}
</span>
    <span class="c1">///////////////////////////////////////
</span>    <span class="c1">// Операторы
</span>    <span class="c1">///////////////////////////////////////
</span>
    <span class="c1">// Операторы работают также как в Си.
</span>    <span class="c1">// Например:
</span>    <span class="mi">2</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span> <span class="c1">// =&gt; 7
</span>    <span class="mi">4</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span> <span class="o">+</span> <span class="mi">5</span><span class="p">.</span><span class="mi">1</span><span class="n">f</span><span class="p">;</span> <span class="c1">// =&gt; 9.3f
</span>    <span class="mi">3</span> <span class="o">==</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// =&gt; 0 (НЕТ)
</span>    <span class="mi">3</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// =&gt; 1 (ДА)
</span>    <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// =&gt; 1 (логическое И)
</span>    <span class="mi">0</span> <span class="o">||</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// =&gt; 1 (логическое ИЛИ)
</span>    <span class="o">~</span><span class="mh">0x0F</span><span class="p">;</span> <span class="c1">// =&gt; 0xF0 (побитовое отрицание)
</span>    <span class="mh">0x0F</span> <span class="o">&amp;</span> <span class="mh">0xF0</span><span class="p">;</span> <span class="c1">// =&gt; 0x00 (побитовое И)
</span>    <span class="mh">0x01</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// =&gt; 0x02 (побитовый сдвиг влево (на 1))
</span>
    <span class="c1">///////////////////////////////////////
</span>    <span class="c1">// Структуры ветвления
</span>    <span class="c1">///////////////////////////////////////
</span>
    <span class="c1">// Условный оператор
</span>    <span class="k">if</span> <span class="p">(</span><span class="nb">NO</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Я никогда не выполнюсь"</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Я тоже никогда не выполнюсь"</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span>
    <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Я напечатаюсь"</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Ветвление с множественным выбором
</span>    <span class="k">switch</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>
        <span class="p">{</span>
            <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Я никогда не выполнюсь"</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
        <span class="p">{</span>
            <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Я тоже никогда не выполнюсь"</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">break</span><span class="p">;</span>
        <span class="nl">default:</span>
        <span class="p">{</span>
            <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Я напечатаюсь"</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Цикл с предусловием
</span>    <span class="kt">int</span> <span class="n">ii</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">ii</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%d,"</span><span class="p">,</span> <span class="n">ii</span><span class="o">++</span><span class="p">);</span> <span class="c1">// ii++ инкрементирует ii после передачи значения
</span>    <span class="p">}</span> <span class="c1">// =&gt; напечатает "0," 
</span>      <span class="c1">//               "1,"
</span>      <span class="c1">//               "2,"
</span>      <span class="c1">//               "3,"
</span>
    <span class="c1">// Цикл со счётчиком
</span>    <span class="kt">int</span> <span class="n">jj</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">jj</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">jj</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">jj</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%d,"</span><span class="p">,</span> <span class="n">jj</span><span class="p">);</span>
    <span class="p">}</span> <span class="c1">// =&gt; напечатает "0," 
</span>      <span class="c1">//               "1,"
</span>      <span class="c1">//               "2,"
</span>      <span class="c1">//               "3,"
</span>
    <span class="c1">// Цикл просмотра           
</span>    <span class="n">NSArray</span> <span class="o">*</span><span class="n">values</span> <span class="o">=</span> <span class="err">@</span><span class="p">[</span><span class="mi">@0</span><span class="p">,</span> <span class="mi">@1</span><span class="p">,</span> <span class="mi">@2</span><span class="p">,</span> <span class="mi">@3</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">NSNumber</span> <span class="o">*</span><span class="n">value</span> <span class="k">in</span> <span class="n">values</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%@,"</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>
    <span class="p">}</span> <span class="c1">// =&gt; напечатает "0," 
</span>      <span class="c1">//               "1,"
</span>      <span class="c1">//               "2,"
</span>      <span class="c1">//               "3,"
</span>
    <span class="c1">// Цикл for для объектов. Может использоваться с любым объектом Objective-C
</span>    <span class="k">for</span> <span class="p">(</span><span class="n">id</span> <span class="n">item</span> <span class="k">in</span> <span class="n">values</span><span class="p">)</span> <span class="p">{</span> 
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"%@,"</span><span class="p">,</span> <span class="n">item</span><span class="p">);</span> 
    <span class="p">}</span> <span class="c1">// напечатает =&gt; "0," 
</span>      <span class="c1">//           "1,"
</span>      <span class="c1">//           "2,"
</span>      <span class="c1">//           "3,"      
</span>
    <span class="c1">// Обработка исключений
</span>    <span class="k">@try</span>
    <span class="p">{</span>
        <span class="c1">// Ваше исключение здесь
</span>        <span class="k">@throw</span> <span class="p">[</span><span class="n">NSException</span> <span class="nf">exceptionWithName</span><span class="p">:</span><span class="s">@"FileNotFoundException"</span>
                            <span class="nf">reason</span><span class="p">:</span><span class="s">@"Файл не найден в системе"</span> <span class="nf">userInfo</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>
    <span class="p">}</span> <span class="k">@catch</span> <span class="p">(</span><span class="n">NSException</span> <span class="o">*</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Исключение: %@"</span><span class="p">,</span> <span class="n">e</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">@finally</span>
    <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"В конце отводится время для очистки."</span><span class="p">);</span>
    <span class="p">}</span> <span class="c1">// =&gt; напечатает "Исключение: Файл не найден в системе"
</span>      <span class="c1">//               "В конце отводится время для очистки."
</span>
    <span class="c1">// NSError - это полезные объекты для аргументов функции, чтобы заполнить их
</span>    <span class="c1">// пользовательскими ошибками.
</span>    <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSError</span> <span class="nf">errorWithDomain</span><span class="p">:</span><span class="s">@"Неправильный эл. адрес."</span> <span class="nf">code</span><span class="p">:</span><span class="mi">4</span> <span class="nf">userInfo</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>

    <span class="c1">///////////////////////////////////////
</span>    <span class="c1">// Объекты
</span>    <span class="c1">///////////////////////////////////////
</span>
    <span class="c1">// Создание объектов через выделение памяти и инициализацию.
</span>    <span class="c1">// Объект не является полнофункциональным пока обе части не выполнятся.
</span>    <span class="n">MyClass</span> <span class="o">*</span><span class="n">myObject</span> <span class="o">=</span> <span class="p">[[</span><span class="n">MyClass</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>

    <span class="c1">// В Objective-C модель ООП базируется на передаче сообщений.
</span>    <span class="c1">// В Objective-C Вы не просто вызваете метод; вы посылаете сообщение.
</span>    <span class="p">[</span><span class="n">myObject</span> <span class="nf">instanceMethodWithParameter</span><span class="p">:</span><span class="s">@"Стив Джобс"</span><span class="p">];</span>

    <span class="c1">// Очищайте память, перед завершением работы программы.
</span>    <span class="p">[</span><span class="n">pool</span> <span class="nf">drain</span><span class="p">];</span>

    <span class="c1">// Конец @autoreleasepool
</span>    <span class="p">}</span>

    <span class="c1">// Конец программы.
</span>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">///////////////////////////////////////
// Классы и функции
///////////////////////////////////////
</span>
<span class="c1">// Объявляйте свой класс в файле МойКласс.h
// Синтаксис объявления:
// @interface ИмяКласса : ИмяКлассаРодителя &lt;ИмплементируемыеПротоколы&gt;
// {
//    тип имя; &lt;= Объявление переменных;
// }
// @property тип имя; &lt;= объявление свойств
// -/+ (тип) Объявление метода(ов).
// @end
</span><span class="k">@interface</span> <span class="nc">MyClass</span> <span class="p">:</span> <span class="nc">NSObject</span> <span class="o">&lt;</span><span class="n">MyProtocol</span><span class="o">&gt;</span> <span class="c1">// NSObject - это базовый класс в Objective-C.
</span><span class="p">{</span>
    <span class="c1">// Объявления экземпляров переменных (может существовать в файлах интерфейса или реализвации)
</span>    <span class="kt">int</span> <span class="n">count</span><span class="p">;</span> <span class="c1">// По умолчанию защищенный доступ.
</span>    <span class="k">@private</span> <span class="n">id</span> <span class="n">data</span><span class="p">;</span> <span class="c1">// Приватный доступ (Намного удобнее объявлять в файле реализации)
</span>    <span class="n">NSString</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// Удобное обозначение для переменных с открытым (public) доступом
// автоматически генерируется сеттер-метод
// По умолчанию название сеттер-метода начинается с 'set' с последующим именем
// переменной из @property
</span><span class="k">@property</span> <span class="kt">int</span> <span class="n">propInt</span><span class="p">;</span> <span class="c1">// Имя сеттер-метода = 'setPropInt'
</span><span class="k">@property</span> <span class="p">(</span><span class="n">copy</span><span class="p">)</span> <span class="n">id</span> <span class="n">copyId</span><span class="p">;</span> <span class="c1">// (copy) =&gt; Скопировать объект в ходе присвоения.
// (readonly) =&gt; Не позволяет установить значение вне @interface
</span><span class="k">@property</span> <span class="p">(</span><span class="n">readonly</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">roString</span><span class="p">;</span> <span class="c1">// Используйте @synthesize 
</span>                               <span class="c1">// в @implementation, чтобы создать аксессор
// Вы можете настроить геттер и сеттер имена вместо используемого 'set'-имени по умолчанию:
</span><span class="k">@property</span> <span class="p">(</span><span class="n">getter</span><span class="o">=</span><span class="n">lengthGet</span><span class="p">,</span> <span class="n">setter</span><span class="o">=</span><span class="n">lengthSet</span><span class="o">:</span><span class="p">)</span> <span class="kt">int</span> <span class="n">length</span><span class="p">;</span>

<span class="c1">// Методы
</span><span class="o">+/-</span> <span class="p">(</span><span class="err">возвращаемый</span> <span class="err">тип</span><span class="p">)</span><span class="err">сигнатураМетода</span><span class="o">:</span><span class="p">(</span><span class="err">Параметр</span> <span class="err">типа</span> <span class="o">*</span><span class="p">)</span><span class="err">имяПараметра</span><span class="p">;</span>

<span class="c1">// + для методов класса
</span><span class="k">+</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">classMethod</span><span class="p">;</span>
<span class="k">+</span> <span class="p">(</span><span class="n">MyClass</span> <span class="o">*</span><span class="p">)</span><span class="nf">myClassFromHeight</span><span class="p">:(</span><span class="n">NSNumber</span> <span class="o">*</span><span class="p">)</span><span class="nv">defaultHeight</span><span class="p">;</span>

<span class="c1">// - для методов объекта
</span><span class="k">-</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">instanceMethodWithParameter</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">string</span><span class="p">;</span>
<span class="k">-</span> <span class="p">(</span><span class="n">NSNumber</span> <span class="o">*</span><span class="p">)</span><span class="nf">methodAParameterAsString</span><span class="p">:(</span><span class="n">NSString</span><span class="o">*</span><span class="p">)</span><span class="nv">string</span> <span class="nf">andAParameterAsNumber</span><span class="p">:(</span><span class="n">NSNumber</span> <span class="o">*</span><span class="p">)</span><span class="nv">number</span><span class="p">;</span>

<span class="c1">// Методы-конструктор с аргументом:
</span><span class="k">-</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="nf">initWithDistance</span><span class="p">:(</span><span class="kt">int</span><span class="p">)</span><span class="nv">defaultDistance</span><span class="p">;</span>
<span class="c1">// В Objective-C имена методов очень описательные. Всегда имена методов соответствуют своим аргументам
</span>
<span class="k">@end</span> <span class="c1">// Устанавливает конец интерфейса (interface)
</span>

<span class="c1">// Чтобы обратиться к открытым (public) переменным из файла реализации, @property генерирует сеттер-метод
// автоматически. Название метода - это 'set' с последующим именем переменной из @property:
</span><span class="n">MyClass</span> <span class="o">*</span><span class="n">myClass</span> <span class="o">=</span> <span class="p">[[</span><span class="n">MyClass</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span> <span class="c1">// создает экземпляр объекта класса MyClass
</span><span class="p">[</span><span class="n">myClass</span> <span class="nf">setCount</span><span class="p">:</span><span class="mi">10</span><span class="p">];</span> 
<span class="n">NSLog</span><span class="p">(</span><span class="s">@"%d"</span><span class="p">,</span> <span class="p">[</span><span class="n">myClass</span> <span class="nf">count</span><span class="p">]);</span> <span class="c1">// напечатает =&gt; 10
// Или используйте свой геттер и сеттер методы, которые определены в @interface:
</span><span class="p">[</span><span class="n">myClass</span> <span class="nf">lengthSet</span><span class="p">:</span><span class="mi">32</span><span class="p">];</span>
<span class="n">NSLog</span><span class="p">(</span><span class="s">@"%i"</span><span class="p">,</span> <span class="p">[</span><span class="n">myClass</span> <span class="nf">lengthGet</span><span class="p">]);</span> <span class="c1">// напечатает =&gt; 32
// Для удобства вы можете использовать точечную нотацию,
// чтобы установить и получить доступ к переменным объекта:
</span><span class="n">myClass</span><span class="p">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span>
<span class="n">NSLog</span><span class="p">(</span><span class="s">@"%i"</span><span class="p">,</span> <span class="n">myClass</span><span class="p">.</span><span class="n">count</span><span class="p">);</span> <span class="c1">// напечатает =&gt; 45
</span>
<span class="c1">// Вызов методов класса:
</span><span class="n">NSString</span> <span class="o">*</span><span class="n">classMethodString</span> <span class="o">=</span> <span class="p">[</span><span class="n">MyClass</span> <span class="nf">classMethod</span><span class="p">];</span>
<span class="n">MyClass</span> <span class="o">*</span><span class="n">classFromName</span> <span class="o">=</span> <span class="p">[</span><span class="n">MyClass</span> <span class="nf">myClassFromName</span><span class="p">:</span><span class="s">@"Привет"</span><span class="p">];</span>

<span class="c1">// Вызов методов экземпляра:
</span><span class="n">MyClass</span> <span class="o">*</span><span class="n">myClass</span> <span class="o">=</span> <span class="p">[[</span><span class="n">MyClass</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span> <span class="c1">// Создает экземпляр объекта MyClass
</span><span class="n">NSString</span> <span class="o">*</span><span class="n">stringFromInstanceMethod</span> <span class="o">=</span> <span class="p">[</span><span class="n">myClass</span> <span class="nf">instanceMethodWithParameter</span><span class="p">:</span><span class="s">@"Привет"</span><span class="p">];</span>

<span class="c1">// Селекторы
// Это способ динамически представить методы. Используйте для вызова методов класса, передайте методы
// через функции, чтобы сказать другим классам, что они должны вызвать их и сохранить методы
// как переменные
// SEL - это тип данных. @selector() вернет селектор из предоставленного имени метода
// methodAParameterAsString:andAParameterAsNumber: - это название метода в MyClass
</span><span class="n">SEL</span> <span class="n">selectorVar</span> <span class="o">=</span> <span class="k">@selector</span><span class="p">(</span><span class="n">methodAParameterAsString</span><span class="o">:</span><span class="n">andAParameterAsNumber</span><span class="o">:</span><span class="p">);</span> 
<span class="k">if</span> <span class="p">([</span><span class="n">myClass</span> <span class="nf">respondsToSelector</span><span class="p">:</span><span class="n">selectorVar</span><span class="p">])</span> <span class="p">{</span> <span class="c1">// Проверяет содержит ли класс метод
</span>    <span class="c1">// Необходимо установить все аргументы метода в один объект, что отправить его в performSelector-функцию
</span>    <span class="n">NSArray</span> <span class="o">*</span><span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSArray</span> <span class="nf">arrayWithObjects</span><span class="p">:</span><span class="s">@"Привет"</span><span class="p">,</span> <span class="mi">@4</span><span class="p">,</span> <span class="nb">nil</span><span class="p">];</span>
    <span class="p">[</span><span class="n">myClass</span> <span class="nf">performSelector</span><span class="p">:</span><span class="n">selectorVar</span> <span class="nf">withObject</span><span class="p">:</span><span class="n">arguments</span><span class="p">];</span> <span class="c1">// Вызывает метод
</span><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// NSStringFromSelector() вернет NSString название метода полученного селектором
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"MyClass не содержит метод: %@"</span><span class="p">,</span> <span class="n">NSStringFromSelector</span><span class="p">(</span><span class="n">selectedVar</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">// Имплементируйте методы в файле МойКласс.m:
</span><span class="k">@implementation</span> <span class="nc">MyClass</span> <span class="p">{</span>
    <span class="kt">long</span> <span class="n">distance</span><span class="p">;</span> <span class="c1">// Переменная экземпляра с закрытым (private) доступом
</span>    <span class="n">NSNumber</span> <span class="n">height</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// To access a public variable from the interface file, use '_' followed by variable name:
</span><span class="n">_count</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="c1">// References "int count" from MyClass interface
// Access variables defined in implementation file:
</span><span class="n">distance</span> <span class="o">=</span> <span class="mi">18</span><span class="p">;</span> <span class="c1">// References "long distance" from MyClass implementation
// To use @property variable in implementation, use @synthesize to create accessor variable:
</span><span class="k">@synthesize</span> <span class="n">roString</span> <span class="o">=</span> <span class="n">_roString</span><span class="p">;</span> <span class="c1">// _roString available now in @implementation
</span>
<span class="c1">// Called before calling any class methods or instantiating any objects
</span><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">initialize</span> 
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">self</span> <span class="o">==</span> <span class="p">[</span><span class="n">MyClass</span> <span class="nf">class</span><span class="p">])</span> <span class="p">{</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Вызывается при высвобождении памяти под объектом
</span><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">dealloc</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">height</span> <span class="nf">release</span><span class="p">];</span> <span class="c1">// Если не используется ARC, убедитесь в освобождении переменных объекта класса
</span>    <span class="p">[</span><span class="n">super</span> <span class="nf">dealloc</span><span class="p">];</span>  <span class="c1">// and call parent class dealloc
</span><span class="p">}</span>

<span class="c1">// Конструкторы – это способ создания объектов класса.
// Это конструктор по умолчанию, который вызывается, когда объект инициализируется.
</span><span class="o">-</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="n">init</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">((</span><span class="n">self</span> <span class="o">=</span> <span class="p">[</span><span class="n">super</span> <span class="nf">init</span><span class="p">]))</span> <span class="c1">// 'super' используется для того, чтобы обратиться к методам родительского класса
</span>    <span class="p">{</span>
        <span class="n">self</span><span class="p">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 'self' используется для вызова самого себя
</span>    <span class="p">}</span>
    <span class="k">return</span> <span class="n">self</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// Можно создать конструкторы, которые содержат аргументы:
</span><span class="o">-</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="n">initWithDistance</span><span class="o">:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">defaultDistance</span> 
<span class="p">{</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="n">defaultDistance</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">self</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">+</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">classMethod</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">[[</span><span class="n">self</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
<span class="p">}</span>

<span class="o">+</span> <span class="p">(</span><span class="n">MyClass</span> <span class="o">*</span><span class="p">)</span><span class="n">myClassFromHeight</span><span class="o">:</span><span class="p">(</span><span class="n">NSNumber</span> <span class="o">*</span><span class="p">)</span><span class="n">defaultHeight</span> 
<span class="p">{</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">defaultHeight</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">[[</span><span class="n">self</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">instanceMethodWithParameter</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">string</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="s">@"Новая строка"</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">-</span> <span class="p">(</span><span class="n">NSNumber</span> <span class="o">*</span><span class="p">)</span><span class="n">methodAParameterAsString</span><span class="o">:</span><span class="p">(</span><span class="n">NSString</span><span class="o">*</span><span class="p">)</span><span class="n">string</span> <span class="n">andAParameterAsNumber</span><span class="o">:</span><span class="p">(</span><span class="n">NSNumber</span> <span class="o">*</span><span class="p">)</span><span class="n">number</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="mi">@42</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Objective-C не содержит объявление приватных методов, но вы можете имитировать их.
// Чтобы сымитировать приватный метод, создайте метод в @implementation, но не в @interface.
</span><span class="o">-</span> <span class="p">(</span><span class="n">NSNumber</span> <span class="o">*</span><span class="p">)</span><span class="n">secretPrivateMethod</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">@72</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">[</span><span class="n">self</span> <span class="nf">secretPrivateMethod</span><span class="p">];</span> <span class="c1">// Вызывает приватный метод
</span>
<span class="c1">// Методы объявленные в МyProtocol (см. далее)
</span><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">myProtocolMethod</span>
<span class="p">{</span>
    <span class="c1">// операторы
</span><span class="p">}</span>

<span class="k">@end</span> <span class="c1">// Устанавливает конец реализации (implementation)
</span>
<span class="c1">///////////////////////////////////////
// Категории
///////////////////////////////////////
// Категория - это группа методов предназначенные для того, чтобы расширить класс. Они позволяют вам добавить новые методы
// к существующему классу для организационных целей. Это не стоит путать с подклассами.
// Подклассы предназначены для ИЗМЕНЕНИЯ функциональности объекта пока как категории ДОБАВЛЯЮТ
// функциональность в объект.
// Категории позволяют вам:
// -- Добавлять методы в существующий класс для организационных целей.
// -- Допускает вам расширять объекты Objective-C классов (напр.: NSString) добавить ваши собственные методы.
// -- Добавляет возможность создать защищенные и закрытые методы классов. 
// ПРИМЕЧАНИЕ: Не переопределяйте методы базового класса в категории даже если у вас есть возможность это сделать
// to. Переопределение методов может привести к ошибкам компиляции позднее между различными категориями и это 
// нарушает цель категорий, чтобы добавлять только функциональность. Вместо этого подклассы переопределяют методы.
</span>
<span class="c1">// Здесь простой базовый класс Car.
</span><span class="k">@interface</span> <span class="nc">Car</span> <span class="p">:</span> <span class="nc">NSObject</span>

<span class="k">@property</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">make</span><span class="p">;</span>
<span class="k">@property</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">color</span><span class="p">;</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">turnOn</span><span class="p">;</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">accelerate</span><span class="p">;</span>

<span class="k">@end</span>

<span class="c1">// И реализация базового класса Car:
</span><span class="cp">#import "Car.h"
</span>
<span class="k">@implementation</span> <span class="nc">Car</span>

<span class="k">@synthesize</span> <span class="n">make</span> <span class="o">=</span> <span class="n">_make</span><span class="p">;</span>
<span class="k">@synthesize</span> <span class="n">color</span> <span class="o">=</span> <span class="n">_color</span><span class="p">;</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">turnOn</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Машина заведена."</span><span class="p">);</span>
<span class="p">}</span>
<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">accelerate</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Ускорение."</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">@end</span>

<span class="c1">// Теперь, если мы хотели создать грузовой объект, мы должны вместо создания подкласса класса Car, как это будет
// изменять функциональность Car чтобы вести себя подобно грузовику. Но давайте посмотрим, если мы хотим только добавить
// функциональность в существующий Car. Хороший пример должен быть чистить автомобиль. Итак мы создадим
// категорию для добавления его очистительных методов:
// @interface ИмяФайла: Car+Clean.h (ИмяБазовогоКласса+ИмяКатегории.h)
</span><span class="cp">#import "Car.h" // Убедитесь в том, что базовый класс импортирован для расширения.
</span>
<span class="k">@interface</span> <span class="nc">Car</span> <span class="p">(</span><span class="nl">Clean</span><span class="p">)</span> <span class="c1">// Имя категории внутри (), следующие после имени базового класса.
</span>
<span class="err">-</span> <span class="err">(</span><span class="nc">void</span><span class="p">)</span><span class="n">washWindows</span><span class="p">;</span> <span class="c1">// Названия новых методов, которые мы добавляем в наш объект Car.
</span><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">wax</span><span class="p">;</span>

<span class="k">@end</span>

<span class="c1">// @implementation имя файла: Car+Clean.m (ИмяБазовогоКласса+ИмяКатегории.m)
</span><span class="cp">#import "Car+Clean.h" // Импортируйте Очистку файл @interface категории.
</span>
<span class="k">@implementation</span> <span class="nc">Car</span> <span class="p">(</span><span class="nl">Clean</span><span class="p">)</span>

<span class="err">-</span> <span class="err">(</span><span class="nc">void</span><span class="p">)</span><span class="n">washWindows</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Окна промыли."</span><span class="p">);</span>
<span class="p">}</span>
<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">wax</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Воском натерли."</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">@end</span> 

<span class="c1">// Любой экземпляр объекта Car имеет возможность воспользоваться категорией. Все, что нужно сделать, это импортировать ее:
</span><span class="cp">#import "Car+Clean.h" // Импортировать как множество различных категорий, как вы хотите использовать.
#import "Car.h" // Кроме того, необходимо импортировать базовый класс для использования его оригинальные функциональные возможности.
</span>
<span class="kt">int</span> <span class="n">main</span> <span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
    <span class="err">@autoreleasepool</span> <span class="p">{</span>
        <span class="n">Car</span> <span class="o">*</span><span class="n">mustang</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Car</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
        <span class="n">mustang</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="s">@"Красный"</span><span class="p">;</span>
        <span class="n">mustang</span><span class="p">.</span><span class="n">make</span> <span class="o">=</span> <span class="s">@"Форд"</span><span class="p">;</span>

        <span class="p">[</span><span class="n">mustang</span> <span class="nf">turnOn</span><span class="p">];</span> <span class="c1">// Используйте методы из базового класса Car.
</span>        <span class="p">[</span><span class="n">mustang</span> <span class="nf">washWindows</span><span class="p">];</span> <span class="c1">// Используйте методы категории Clean из класса Car.
</span>    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span> 
<span class="p">}</span>

<span class="c1">// Objective-C не поддерживает объявление защищенных методов, но вы можете имитировать их.
// Создайте категорию, содержащую все защищенные методы, затем импортируйте ее только в
// @implementation-файле класса, относящегося к классу Car:
</span><span class="k">@interface</span> <span class="nc">Car</span> <span class="p">(</span><span class="nl">Protected</span><span class="p">)</span> <span class="c1">// Наименование категории с помощью 'Protected'
// дает знать, что методы защищенные.
</span>
<span class="err">-</span> <span class="err">(</span><span class="nc">void</span><span class="p">)</span><span class="n">lockCar</span><span class="p">;</span> <span class="c1">// Здесь перечисляются методы, которые должны быть созданы
// только с помощью объектов класса Car.
</span>
<span class="k">@end</span>
<span class="c1">// Чтобы воспользоваться защищенными методами, импортируйте категорию, затем реализуйте методы:
</span><span class="cp">#import "Car+Protected.h" // Запомните, делайте импорт только в файле с @implementation.
</span>
<span class="k">@implementation</span> <span class="nc">Car</span> 

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">lockCar</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Машина закрыта."</span><span class="p">);</span> <span class="c1">// Экземпляры класса Car не могут использовать
// метод lockCar, потому что он объявлен не в @interface.
</span><span class="p">}</span>

<span class="k">@end</span>

<span class="c1">///////////////////////////////////////
// Расширения
///////////////////////////////////////
// Расширения позволяют вам переопределять атрибуты свойств и методов
// с открытым доступом в @interface.
// @interface имя файла: Shape.h
</span><span class="k">@interface</span> <span class="nc">Shape</span> <span class="p">:</span> <span class="nc">NSObject</span> <span class="c1">// Расширение базового класса Shape переопределяет
</span>                                        <span class="c1">// свои поля ниже.
</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">readonly</span><span class="p">)</span> <span class="n">NSNumber</span> <span class="o">*</span><span class="n">numOfSides</span><span class="p">;</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">getNumOfSides</span><span class="p">;</span>

<span class="k">@end</span>
<span class="c1">// Вы можете переопределить numOfSides-переменную или getNumOfSides-метод
// Внесение изменений с помощью расширения делается следующим образом:
// @implementation имя файла: Shape.m
</span><span class="cp">#import "Shape.h"
</span><span class="c1">// Расширения "живут" в том же файле, где и @implementation класса.
</span><span class="k">@interface</span> <span class="nc">Shape</span> <span class="p">()</span> <span class="c1">// После имени базового класса скобки () объявляют расширение.
</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">copy</span><span class="p">)</span> <span class="n">NSNumber</span> <span class="o">*</span><span class="n">numOfSides</span><span class="p">;</span> <span class="c1">// Делает numOfSides-свойство
</span>             <span class="c1">// копирующим (copy) вместо свойства только для чтения (readonly).
</span><span class="k">-</span><span class="p">(</span><span class="n">NSNumber</span><span class="p">)</span><span class="n">getNumOfSides</span><span class="p">;</span> <span class="c1">// Изменяет метод getNumOfSides так,
</span>                         <span class="c1">// чтобы он возвращал объект NSNumber вместо типа int.
</span><span class="k">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">privateMethod</span><span class="p">;</span> <span class="c1">// Вы также можете создать новый закрытый метод
</span>                              <span class="c1">// внутри расширения.
</span>
<span class="k">@end</span>
<span class="c1">// Главный @implementation:
</span><span class="k">@implementation</span> <span class="nc">Shape</span>

<span class="k">@synthesize</span> <span class="n">numOfSides</span> <span class="o">=</span> <span class="n">_numOfSides</span><span class="p">;</span>

<span class="k">-</span><span class="p">(</span><span class="n">NSNumber</span><span class="p">)</span><span class="n">getNumOfSides</span> <span class="p">{</span> <span class="c1">// Все операторы внутри расширения
</span>                                         <span class="c1">// должны быть в @implementation.
</span>    <span class="k">return</span> <span class="n">_numOfSides</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">privateMethod</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Закрытый метод созданный с помощью расширения."</span><span class="p">);</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Экземпляр Shape не может вызвать этот метод."</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">@end</span>

<span class="c1">///////////////////////////////////////
// Протоколы
///////////////////////////////////////
// Протокол объявляет методы, которые могут быть реализованы с помощью
// любого класса. Протоколы сами по себе не являются классами. Они просто
// определяют интерфейс, который должен быть реализован другими объектами.
// @protocol имя файла: "CarUtilities.h"
</span><span class="k">@protocol</span> <span class="nc">CarUtilities</span> <span class="o">&lt;</span><span class="n">NSObject</span><span class="o">&gt;</span> <span class="c1">// &lt;NSObject&gt; =&gt; Имя другого протокола,
// который включен в этот протокол.
</span>    <span class="k">@property</span> <span class="n">BOOL</span> <span class="n">engineOn</span><span class="p">;</span> <span class="c1">// Адаптирующий класс должен определить
// все @synthesize для @property и
</span>    <span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">turnOnEngine</span><span class="p">;</span> <span class="c1">// определить все методы.
</span><span class="k">@end</span>
<span class="c1">// Ниже пример класса, реализующий протокол.
</span><span class="cp">#import "CarUtilities.h" // Импорт файла с @protocol.
</span>
<span class="k">@interface</span> <span class="nc">Car</span> <span class="p">:</span> <span class="nc">NSObject</span> <span class="o">&lt;</span><span class="n">CarUtilities</span><span class="o">&gt;</span> <span class="c1">// Внутри &lt;&gt; имя протокола
// Здесь вам не нужно указывать @property или имена методов для CarUtilities.
// Они нужны только для @implementation.
</span><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">turnOnEngineWithUtilities</span><span class="o">:</span><span class="p">(</span><span class="n">id</span> <span class="o">&lt;</span><span class="n">CarUtilities</span><span class="o">&gt;</span><span class="p">)</span><span class="n">car</span><span class="p">;</span> <span class="c1">// Вы также можете
// указать тип протоколов.
</span><span class="k">@end</span>
<span class="c1">// В @implementation нужно реализовать все @property и методы для протокола.
</span><span class="k">@implementation</span> <span class="nc">Car</span> <span class="p">:</span> <span class="nc">NSObject</span> <span class="o">&lt;</span><span class="n">CarUtilities</span><span class="o">&gt;</span>

<span class="k">@synthesize</span> <span class="n">engineOn</span> <span class="o">=</span> <span class="n">_engineOn</span><span class="p">;</span> <span class="c1">// Создайте @synthesize-оператор
// для "@property engineOn".
</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">turnOnEngine</span> <span class="p">{</span> <span class="c1">// Реализуйте turnOnEngine как вам угодно. Протоколы
// не определят,
</span>    <span class="n">_engineOn</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span> <span class="c1">// как вам реализовать метод, он только требует,
// чтобы вы реализовали его.
</span><span class="p">}</span>
<span class="c1">// Вы можете использовать протокол как данные, если вы знаете, что он реализует
// методы и переменные.
</span><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">turnOnEngineWithCarUtilities</span><span class="o">:</span><span class="p">(</span><span class="n">id</span> <span class="o">&lt;</span><span class="n">CarUtilities</span><span class="o">&gt;</span><span class="p">)</span><span class="n">objectOfSomeKind</span> <span class="p">{</span> 
    <span class="p">[</span><span class="n">objectOfSomeKind</span> <span class="nf">engineOn</span><span class="p">];</span> <span class="c1">// У вас есть доступ к переменным объекта
</span>    <span class="p">[</span><span class="n">objectOfSomeKind</span> <span class="nf">turnOnEngine</span><span class="p">];</span> <span class="c1">// и методам.
</span>    <span class="p">[</span><span class="n">objectOfSomeKind</span> <span class="nf">engineOn</span><span class="p">];</span> <span class="c1">// Может или не может быть значение YES. Класс
// реализует как нужно.
</span><span class="p">}</span>

<span class="k">@end</span>
<span class="c1">// Экземпляры класса Car сейчас имеют доступ к протоколу.
</span><span class="n">Car</span> <span class="o">*</span><span class="n">carInstance</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Car</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
<span class="p">[</span><span class="n">carInstance</span> <span class="nf">setEngineOn</span><span class="p">:</span><span class="nb">NO</span><span class="p">];</span>
<span class="p">[</span><span class="n">carInstance</span> <span class="nf">turnOnEngine</span><span class="p">];</span>
<span class="k">if</span> <span class="p">([</span><span class="n">carInstance</span> <span class="nf">engineOn</span><span class="p">])</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Двигатель запущен."</span><span class="p">);</span> <span class="c1">// напечатает =&gt; "Двигатель запущен."
</span><span class="p">}</span>
<span class="c1">// Убедитись в том, что объект типа 'id' реализует протокол перед вызовом методов протокола:
</span><span class="k">if</span> <span class="p">([</span><span class="n">myClass</span> <span class="nf">conformsToProtocol</span><span class="p">:</span><span class="k">@protocol</span><span class="err">(</span><span class="nc">CarUtilities</span><span class="p">)])</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Не работает, т.к. класс MyClass не реализует протокол CarUtilities."</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">([</span><span class="n">carInstance</span> <span class="nf">conformsToProtocol</span><span class="p">:</span><span class="k">@protocol</span><span class="err">(</span><span class="nc">CarUtilities</span><span class="p">)])</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Работает как класс Car, который реализует протокол CarUtilities."</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// Категории тоже могут реализовать протоколы:
// @interface Car (CarCategory) &lt;CarUtilities&gt;
// Вы можете реализовать много протоколов:
// @interface Car : NSObject &lt;CarUtilities, CarCleaning&gt;
// ЗАМЕЧАНИЕ: Если два или более протоколов полагаются друг на друга,
// убедитесь, что они ранее объявлены:
</span><span class="cp">#import "Brother.h"
</span>
<span class="k">@protocol</span> <span class="nc">Brother</span><span class="p">;</span> <span class="c1">// Оператор раннего объявления. Без него компилятор
// выдаст ошибку.
</span>
<span class="k">@protocol</span> <span class="nc">Sister</span> <span class="o">&lt;</span><span class="n">NSObject</span><span class="o">&gt;</span>

<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">beNiceToBrother</span><span class="o">:</span><span class="p">(</span><span class="n">id</span> <span class="o">&lt;</span><span class="n">Brother</span><span class="o">&gt;</span><span class="p">)</span><span class="n">brother</span><span class="p">;</span>

<span class="k">@end</span>

<span class="c1">// Рассмотрите проблему, где протокол Sister полагается на протокол Brother,
// а Brother полагается на Sister.
</span><span class="cp">#import "Sister.h"
</span>
<span class="k">@protocol</span> <span class="nc">Sister</span><span class="p">;</span> <span class="c1">// Эти строки предотвращают рекурсию, решая этим проблему.
</span>
<span class="k">@protocol</span> <span class="nc">Brother</span> <span class="o">&lt;</span><span class="n">NSObject</span><span class="o">&gt;</span>

<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">beNiceToSister</span><span class="o">:</span><span class="p">(</span><span class="n">id</span> <span class="o">&lt;</span><span class="n">Sister</span><span class="o">&gt;</span><span class="p">)</span><span class="n">sister</span><span class="p">;</span>

<span class="k">@end</span>


<span class="c1">///////////////////////////////////////
// Блоки
///////////////////////////////////////
// Блоки - это операторы кода, наподобие функции, которую возможно использовать
// как данные.
// Ниже простой блок с целочисленным аргументом, и возвращает аргумент плюс 4.
</span><span class="kt">int</span> <span class="p">(</span><span class="o">^</span><span class="n">addUp</span><span class="p">)(</span><span class="kt">int</span> <span class="n">n</span><span class="p">);</span> <span class="c1">// Объявите переменную, чтобы сохранить блок.
</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="n">noParameterBlockVar</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span> <span class="c1">// Пример объявления блока-переменной
// без аргументов.
// Блоки имею доступ к переменным в той же области видимости. Но переменные
// будут только для чтения, и значения переданных в блок станут значением
// переменной, когда блок создастся.
</span><span class="kt">int</span> <span class="n">outsideVar</span> <span class="o">=</span> <span class="mi">17</span><span class="p">;</span> <span class="c1">// Если мы редактируем outsideVar после объявления addUp,
// outsideVar остается равным 17.
</span><span class="n">__block</span> <span class="kt">long</span> <span class="n">mutableVar</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// __block делают переменные перезаписываемыми
// в блоках, в отличие от outsideVar.
</span><span class="n">addUp</span> <span class="o">=</span> <span class="o">^</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Удалите (int n) в блоке, чтобы не принимать
// какие-либо параметры.
</span>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Вы можете иметь столько строк в блоке, сколько вы хотели."</span><span class="p">);</span>
    <span class="n">NSSet</span> <span class="o">*</span><span class="n">blockSet</span><span class="p">;</span> <span class="c1">// Также вы можете объявить локальные переменные.
</span>    <span class="n">mutableVar</span> <span class="o">=</span> <span class="mi">32</span><span class="p">;</span> <span class="c1">// Присвоить новое значение к __block-переменной.
</span>    <span class="k">return</span> <span class="n">n</span> <span class="o">+</span> <span class="n">outsideVar</span><span class="p">;</span> <span class="c1">// Необязательный оператор возврата.
</span><span class="p">}</span>
<span class="kt">int</span> <span class="n">addUp</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="mi">10</span> <span class="o">+</span> <span class="mi">16</span><span class="p">);</span> <span class="c1">// Вызывает блок кода с аргументами.
// Блоки часто используются как аргументы функции, чтобы позже их вызвать, или
// как функции обратного вызова (callbacks).
</span><span class="k">@implementation</span> <span class="nc">BlockExample</span> <span class="p">:</span> <span class="nc">NSObject</span> 

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">runBlock</span><span class="p">:(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSString</span><span class="p">))</span><span class="nv">block</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"В аргументе блок ничего не возвращает и принимает NSString-объект."</span><span class="p">);</span>
    <span class="n">block</span><span class="p">(</span><span class="s">@"Аргумент передан блоку на исполнение."</span><span class="p">);</span> <span class="c1">// Вызов блока.
</span><span class="p">}</span>

<span class="k">@end</span>


<span class="c1">///////////////////////////////////////
// Управление памятью
///////////////////////////////////////
</span><span class="cm">/* 
Для каждого объекта, используемого в приложении, должна быть выделена память
для таких объектов. Когда приложение прекращает использование объекта, память
должна быть освобождена, чтобы гарантировать эффективность приложения.
Objective-C не использует сборщик мусора, а вместо этого применяет подсчет ссылок.
Пока существует по крайней мере одна ссылка на объект (также называется
"владение" объектом), то объект будет доступен к использованию (еще известно
как "право владения").

Когда экземпляр владеет объектом, его ссылка увеличивается на один. Когда
объекта освобождается, счетчик ссылки уменьшается на один. Когда счетчик ссылки
равен нулю, объект удаляется из памяти.

Над всеми объектами взаимодействуют, следуя паттерну:
(1) создание объекта, (2) использование объекта, (3) затем освобождение объекта из памяти.
*/</span>

<span class="n">MyClass</span> <span class="o">*</span><span class="n">classVar</span> <span class="o">=</span> <span class="p">[</span><span class="n">MyClass</span> <span class="nf">alloc</span><span class="p">];</span> <span class="c1">// 'alloc' устанавливает счетчик ссылки
// объекта classVar на 1 и возвращает указатель на объект.
</span><span class="p">[</span><span class="n">classVar</span> <span class="nf">release</span><span class="p">];</span> <span class="c1">// Уменьшает счетчик ссылки объекта classVar
// 'retain' заявляет право собственности на существующий экземпляр объекта
// и увеличивает счетчик ссылки. Затем вернет указатель на объект.
</span><span class="n">MyClass</span> <span class="o">*</span><span class="n">newVar</span> <span class="o">=</span> <span class="p">[</span><span class="n">classVar</span> <span class="nf">retain</span><span class="p">];</span> <span class="c1">// Если classVar освободится, объект
// останется в памяти, потому что newVar - владелец
</span><span class="p">[</span><span class="n">classVar</span> <span class="nf">autorelease</span><span class="p">];</span> <span class="c1">// Удалит право на владение объектом
// в конце @autoreleasepool блока. Вернет указатель на объект.
</span>
<span class="c1">// @property может использовать 'retain' и 'assign' тоже для маленького
// удобного определения
</span><span class="k">@property</span> <span class="p">(</span><span class="n">retain</span><span class="p">)</span> <span class="n">MyClass</span> <span class="o">*</span><span class="n">instance</span><span class="p">;</span> <span class="c1">// Освободит старое значение и сохранит
// одно новое (строгая ссылка)
</span><span class="k">@property</span> <span class="p">(</span><span class="n">assign</span><span class="p">)</span> <span class="n">NSSet</span> <span class="o">*</span><span class="n">set</span><span class="p">;</span> <span class="c1">// Укажет на новое значение
// без сохранения/освобождения старого значения (слабая ссылка)
</span>
<span class="c1">// Автоматический подсчет ссылок (ARC)
// Управление памятью может быть трудным, поэтому в Xcode 4.2 и iOS 4 введен
// автоматический подсчет ссылок (ARC).
// ARC - это особенность компилятора, который помещает "retain", "release"
// и "autorelease" автоматически за вас тогда, когда используется ARC,
// вам не нужно больше обращаться к "retain", "relase" или "autorelease"
</span><span class="n">MyClass</span> <span class="o">*</span><span class="n">arcMyClass</span> <span class="o">=</span> <span class="p">[[</span><span class="n">MyClass</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
<span class="c1">// ... код, использующий объект arcMyClass
// Без ARC, вам нужно было бы вызвать: [arcMyClass release] после того, как вы
// завершите работу с объектом arcMyClass. Но с ARC,
// теперь этого не нужно делать. Он будет помещать release-вызов за вас
</span>
<span class="c1">// Что касается 'assign' и 'retain' @property атрибутов, в ARC вы должны
// использовать 'weak' и 'strong'
</span><span class="k">@property</span> <span class="p">(</span><span class="n">weak</span><span class="p">)</span> <span class="n">MyClass</span> <span class="o">*</span><span class="n">weakVar</span><span class="p">;</span> <span class="c1">// 'weak' не принимает право на владение
// объектом. Если исходный счетчик ссылки экземпляра обнуляется,
// weakVar-свойство автоматически примет значение nil,
// во избежание падения приложения
</span><span class="k">@property</span> <span class="p">(</span><span class="n">strong</span><span class="p">)</span> <span class="n">MyClass</span> <span class="o">*</span><span class="n">strongVar</span><span class="p">;</span> <span class="c1">// 'strong' принимает право на владение
// объектом. Гарантирует, что объект останится в памяти для использования
</span>
<span class="c1">// Для обычных переменных (не объявленных с помощью @property), используйте
// следующий способ:
</span><span class="n">__strong</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">strongString</span><span class="p">;</span> <span class="c1">// По умолчанию. Переменная сохраняется в памяти,
// пока она не покинет область видимости
</span><span class="n">__weak</span> <span class="n">NSSet</span> <span class="o">*</span><span class="n">weakSet</span><span class="p">;</span> <span class="c1">// Слабая ссылка на существующий объект. Когда существующий
// объект освобождается, weakSet принимает nil
</span><span class="n">__unsafe_unretained</span> <span class="n">NSArray</span> <span class="o">*</span><span class="n">unsafeArray</span><span class="p">;</span> <span class="c1">// Похож на __weak, но unsafeArray
// не принимает nil, когда существующий объект освобождается
</span>
</code></pre>

<h2>На почитать</h2>

<p><a href="http://en.wikipedia.org/wiki/Objective-C">Wikipedia Objective-C</a></p>

<p><a href="http://developer.apple.com/library/ios/referencelibrary/GettingStarted/Learning_Objective-C_A_Primer/">Learning Objective-C</a></p>

<p><a href="http://www.raywenderlich.com/5600/ios-for-high-school-students-getting-started">iOS For High School Students: Getting Started</a></p>

<p><a href="http://habrahabr.ru/post/166213/">iOS разработчик: Обзор книг для новичка</a></p>

<p><a href="http://www.pvsm.ru/ios/12662/print/">Хочешь быть iOS разработчиком? Будь им!</a></p>

    <hr>
    <p>Got a suggestion? A correction, perhaps? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Open an Issue</a> on the Github Repo, or make a pull request yourself!
    </p>
    <p class="contributed">
    Originally contributed by Eugene Yagrushkin, and updated by <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/ru-ru/objective-c-ru.html.markdown">1 contributor(s)</a>.
    </p>

    <footer>
    <a style="float: left" rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
    <p>
    &copy; 2015
    
      
        <a href="www.about.me/yagrushkin.html">Eugene Yagrushkin</a>,
      
    
      
        <a href="https://github.com/YannickL">Yannick Loriot</a>,
      
    
      
        <a href="https://github.com/levibostian">Levi Bostian</a>
      
    
    </p>

    <p>
    
      Translated by:
      
        <a href="http://evlogii.com/">Evlogy Sutormin</a>
      
        <a href="https://github.com/TheDmitry">Dmitry Bessonov</a>
      
    

    </footer>
  </div>
<script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
<script type="text/javascript">stLight.options({publisher: "ur-510ed322-cbdc-7d3a-c1d1-8a1a745aa7", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script>

        </div>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.8.0.min.html"><\/script>')</script>
        <script src="js/script.html"></script>

        <script>
            var _gaq=[['_setAccount','UA-3525624-21'],['_trackPageview']];
            (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
        </script>
    </body>

<!-- Mirrored from learnxinyminutes.com/docs/ru-ru/objective-c-ru/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 16:35:18 GMT -->
</html>

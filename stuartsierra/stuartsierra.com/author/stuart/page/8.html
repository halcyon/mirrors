<!DOCTYPE html>
<html lang="en-US" class="no-js">

<!-- Mirrored from stuartsierra.com/author/stuart/page/8 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 17:06:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Stuart &#8211; Page 8 &#8211; Digital Digressions by Stuart Sierra</title>
<link rel='dns-prefetch' href='http://s0.wp.com/'>
<link rel='dns-prefetch' href='http://secure.gravatar.com/'>
<link rel='dns-prefetch' href='http://fonts.googleapis.com/'>
<link rel='dns-prefetch' href='http://s.w.org/'>
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Feed" href="http://feeds2.feedburner.com/StuartSierra" />
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Comments Feed" href="../../../comments/feed" />
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Posts by Stuart Feed" href="http://feeds2.feedburner.com/StuartSierra" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/stuartsierra.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='twentysixteen-jetpack-css'  href='../../../wp-content/plugins/jetpack/modules/theme-tools/compat/twentysixteen3a05.css?ver=4.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='../../../wp-content/plugins/jetpack/_inc/genericons/genericons/genericons128b.css?ver=3.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-style-css'  href='../../../wp-content/themes/twentysixteen/style167b.css?ver=4.6' type='text/css' media='all' />
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='jetpack_css-css'  href='../../../wp-content/plugins/jetpack/css/jetpack3a05.css?ver=4.2.2' type='text/css' media='all' />
<script type='text/javascript' src='../../../wp-includes/js/jquery/jqueryb8ff.js?ver=1.12.4'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/jquery-migrate.min330a.js?ver=1.4.1'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://stuartsierra.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<link rel='https://api.w.org/' href='../../../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6" />

<link rel='dns-prefetch' href='http://v0.wordpress.com/'>

<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="profile" />
<meta property="og:title" content="Stuart" />
<meta property="og:url" content="https://stuartsierra.com/" />
<meta property="profile:first_name" content="Stuart" />
<meta property="profile:last_name" content="Sierra" />
<meta property="og:site_name" content="Digital Digressions by Stuart Sierra" />
<meta property="og:image" content="https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=200&amp;d=blank&amp;r=g" />
<meta property="og:locale" content="en_US" />
</head>

<body class="archive paged author author-stuart author-1 paged-8 author-paged-8 hfeed">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="../../../index.html" rel="home">Digital Digressions by Stuart Sierra</a></p>
											<p class="site-description">From programming to everything else</p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">Menu</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="Primary Menu">
								<div class="menu-main-menu-container"><ul id="menu-main-menu" class="primary-menu"><li id="menu-item-635" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="../../../about-me.html">About Me</a></li>
<li id="menu-item-633" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-633"><a href="../../../writing.html">Writing</a></li>
<li id="menu-item-634" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="../../../presentations.html">Presentations</a></li>
<li id="menu-item-636" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="../../../software.html">Software</a></li>
<li id="menu-item-637" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="../../../contact.html">Contact</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

											<div class="header-image">
					<a href="../../../index.html" rel="home">
						<img src="../../../wp-content/uploads/2015/12/header.jpg" srcset="https://stuartsierra.com/wp-content/uploads/2015/12/header-300x70.jpg 300w, https://stuartsierra.com/wp-content/uploads/2015/12/header-768x179.jpg 768w, https://stuartsierra.com/wp-content/uploads/2015/12/header-1024x239.jpg 1024w, https://stuartsierra.com/wp-content/uploads/2015/12/header.jpg 1200w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 81vw, (max-width: 1362px) 88vw, 1200px" width="1200" height="280" alt="Digital Digressions by Stuart Sierra">
					</a>
				</div><!-- .header-image -->
					</header><!-- .site-header -->

		<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">Author: <span class="vcard">Stuart</span></h1>			</header><!-- .page-header -->

			
<article id="post-327" class="post-327 post type-post status-publish format-standard hentry category-programming">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/10/27/impedence-mismatch.html" rel="bookmark">Impedence Mismatch</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Data formats are annoying.  As much as half the code in any large software project consists of translating from one data representation &#8212; objects, SQL tables, files, XML, RDF, JSON, YAML, CSV, Protocol Buffers, Avro, XML-RPC &#8212; to another.</p>
<p>Each format has its own strengths and weaknesses.  Often, no single representation is complete enough to be considered &#8220;canonical.&#8221;  The only canonical representation is an abstract one, a platonic ideal in the mind of some developer.  Since this platonic ideal cannot be implemented in code, different people have different expectations for how a particular model is supposed to work.</p>
<p>There are two options: Either you re-implement the model, with all its features and constraints, for each format, and hand-code all the translations; or you use a &#8220;smart&#8221; library that automatically translates between different representations.  ActiveRecord and Hibernate are popular examples of the latter.</p>
<p>The problem with &#8220;smart&#8221; libraries is that they can never be smart enough.  At some point you always have to dig into the generated SQL or whatever to make them work efficiently, or even correctly.  Frequently this is impossible without hacking the library sources, a daunting tangle of generated and meta-programmed code.  The library that was supposed to make your life easier instead makes it hell.</p>
<p>Do these &#8220;smart&#8221; libraries really save any time?  Would it be easier to just write the translation code in the first place?  We&#8217;ll never know, because programmers can&#8217;t resist &#8220;smart&#8221; systems, the myth that you can &#8220;do more with less code.&#8221;  You can never do more with less, unless what you&#8217;re doing is the lowest common denominator of what everyone else is doing.  And if that <em>is </em>what you&#8217;re doing, then why bother?</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/10/27/impedence-mismatch.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-10-27T16:39:32+00:00">October 27, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="comments-link"><a href="../../../2009/10/27/impedence-mismatch.html#comments">2 Comments<span class="screen-reader-text"> on Impedence Mismatch</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-322" class="post-322 post type-post status-publish format-standard hentry category-programming tag-clojure tag-java tag-owl tag-rdf">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/10/08/generating-clojure-from-an-ontology.html" rel="bookmark">Generating Clojure from an Ontology</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>I&#8217;ve been fascinated with RDF for years, but I always end up frustrated when I try to use it.  How do you read/write/manipulate RDF data in code?  Sure, there are lots of libraries, but they all represent RDF data as its primitive structures: statements, resources, literals, etc.  Working with data through these APIs feels like using a <a href="http://en.wikipedia.org/wiki/Glovebox">glovebox</a>.  To get anything useful done, you have to define mappings between RDF properties/classes and normal data structures in your programming language &#8212; classes, maps, lists, whatever.  In effect, you have to define everything twice.</p>
<p>Some Java APIs allow one to <a href="http://www.semanticuniverse.com/articles-binding-java-objects-rdf.html">add annotation properties</a> to classes and methods, with the annotations defining the mapping between Java objects and RDF triples.  It&#8217;s convenient, and familiar if you&#8217;ve used Java persistence frameworks like Hibernate, but you still have to define everything twice &#8212; once in your RDF schema, once in Java code.</p>
<p>Other libraries generate Java source code from RDFS or OWL ontologies.  This means you don&#8217;t have to define everything twice, but adds another step to the write-compile-run cycle, and limits you to the semantics that the code generator can understand.  In particular, certain features of RDFS/OWL &#8212; multiple inheritance, sub-properties &#8212; do not map well into Java.</p>
<p>What I really wanted was a way to create and work with RDF data in <a href="http://clojure.org/">Clojure</a>, using the same map/set/sequence APIs that I use for any other Clojure data structure.  I flirted with <a href="http://github.com/stuartsierra/clojure-rdf">implementing RDF in Clojure</a> but lost interest when I realized that 1) there&#8217;s a lot more to implementing RDF than datatype conversions; and 2) my Clojure library suffered from the same glovebox problem as the Java RDF libraries.</p>
<p>The solution, however, was staring me in the face all along.  Clojure is a Lisp.  I can generate functions directly, without any intermediate &#8220;source&#8221; representation.  I can use my own customized validation and type-checking functions.  Furthermore, I can extend the definitions in my RDF schema with new Clojure functions.</p>
<p>Here&#8217;s what I ended up with: I designed a <a href="http://github.com/stuartsierra/altlaw-vocab">simple OWL ontology</a> using <a href="http://protege.stanford.edu/">Protege 4</a> and saved it as RDF/XML.  Then I used the <a href="http://www.openrdf.org/">Sesame 2</a> library to find all the RDF classes and properties defined in my ontology, and create the appropriate getter, setter, and constructor functions in Clojure.  It looks something like this:</p>
<pre>
(defn intern-classes [] 
  (doseq [cls (find-all-classes *ontology*)]
    (let [name (resource-to-symbol cls)]
      (intern *ns* name (fn [] {:type name})))))
</pre>
<p>The <code>resource-to-symbol</code> function creates a symbol named for the local name of the RDF class, with the full URI of its XML namespace in the symbol&#8217;s metadata.  The call to <code>intern</code> defines a new function that takes no arguments and returns a Clojure map with the symbol as its <code>:type</code>.</p>
<p>Suppose I have a class named <code>Document</code> in my ontology.  I now have a Clojure function named <code>Document</code> that creates a new instance of that class, represented as a Clojure map.  Furthermore, using <a href="http://clojure.org/multimethods">Clojure hierarchies</a> and the <code>isa?</code> function, I can generate Clojure code that implements the subclass relationships defined in the ontology.  Whee!</p>
<p>I don&#8217;t entirely know where I&#8217;m headed with this, but I like the way it&#8217;s going.  I can define my own data types, decide how they map to Clojure data structures, and have code that&#8217;s always up-to-date with my RDF vocabulary.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/10/08/generating-clojure-from-an-ontology.html" rel="bookmark"><time class="entry-date published" datetime="2009-10-08T14:48:59+00:00">October 8, 2009</time><time class="updated" datetime="2015-08-28T10:55:33+00:00">August 28, 2015</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../tag/clojure.html" rel="tag">Clojure</a>, <a href="../../../tag/java.html" rel="tag">Java</a>, <a href="../../../tag/owl.html" rel="tag">OWL</a>, <a href="../../../tag/rdf.html" rel="tag">RDF</a></span><span class="comments-link"><a href="../../../2009/10/08/generating-clojure-from-an-ontology.html#comments">4 Comments<span class="screen-reader-text"> on Generating Clojure from an Ontology</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-320" class="post-320 post type-post status-publish format-standard hentry category-uncategorized">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/10/02/clojurehadoop-slides.html" rel="bookmark">Clojure+Hadoop Slides</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>My Hadoop World NYC talk went off well; here are my <a href="../../../download/hadoopworld-2009-clojure-slides.pdf">slides [PDF]</a></p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/10/02/clojurehadoop-slides.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-10-02T17:50:41+00:00">October 2, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/uncategorized.html" rel="category tag">Uncategorized</a></span><span class="comments-link"><a href="../../../2009/10/02/clojurehadoop-slides.html#comments">1 Comment<span class="screen-reader-text"> on Clojure+Hadoop Slides</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-318" class="post-318 post type-post status-publish format-standard hentry category-uncategorized">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/09/28/two-upcoming-clojurehadoop-talks.html" rel="bookmark">Two Upcoming Clojure/Hadoop Talks</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Hello, everyone.</p>
<p>I&#8217;ll be performing my Clojure+Hadoop magic tricks at the following events:</p>
<p>Friday, October 2: <a title="Hadoop World NYC" href="http://www.cloudera.com/hadoop-world-nyc">Hadoop World NYC</a>.  Use the code <strong>hadoopworld_friend</strong> for 10% off the registration fee.</p>
<p>Monday, October 5: <a title="NoSQL NYC Meetup" href="http://anyvite.com/1aczrvxjp6">NoSQL NYC Meetup</a>.  Free!</p>
<p>At both events I&#8217;ll be talking about:</p>
<ul>
<li>Why Clojure and Hadoop are a perfect fit.</li>
<li>How to write Hadoop jobs in Clojure.</li>
<li>My <a title="clojure-hadoop library download" href="http://github.com/stuartsierra/clojure-hadoop">clojure-hadoop</a> library.</li>
<li>Storage options for Clojure data structures.</li>
</ul>
<p>Will post slides after, and recordings if they are available.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/09/28/two-upcoming-clojurehadoop-talks.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-09-28T12:18:58+00:00">September 28, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/uncategorized.html" rel="category tag">Uncategorized</a></span><span class="comments-link"><a href="../../../2009/09/28/two-upcoming-clojurehadoop-talks.html#comments">3 Comments<span class="screen-reader-text"> on Two Upcoming Clojure/Hadoop Talks</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-314" class="post-314 post type-post status-publish format-standard hentry category-programming tag-clojure tag-java tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/09/22/its-about-the-platform.html" rel="bookmark">It&#8217;s About the Platform</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>I&#8217;ve said <a href="../../../2009/02/22/its-about-the-libraries.html">It&#8217;s About the Libraries</a>, and indeed, one of the major selling points of <a title="Clojure home page" href="http://clojure.org/">Clojure</a> is that it can call Java libraries directly.</p>
<p>But there&#8217;s more to it than that.  Libraries are just one benefit to building Clojure on top of Java, or, more accurately, on top of <em>Java the platform</em>.</p>
<p>Look around you, and you&#8217;ll see that 99% of all the software in the world runs on just three platforms:</p>
<ol>
<li>Unix/C</li>
<li>Java Virtual Machine</li>
<li>.NET Common Language Runtime</li>
</ol>
<p>Where did these platforms come from?  Let&#8217;s see:</p>
<ol>
<li>AT&amp;T</li>
<li>Sun</li>
<li>Microsoft</li>
</ol>
<p>Notice something?  All three were all developed by huge corporations.</p>
<p>Building a new platform isn&#8217;t just about writing the code.  In fact, very little of it is about code.  You need books, articles, conferences, workshops, and university courses.  You need multinational corporations to trust their entire business to your platform.  It takes millions of dollars and tens of thousands of hours of labor to create a new platform.  Think of the massive ad campaigns Sun ran for Java.  Can you do that?  Of course not.</p>
<p>So when you&#8217;re designing a new language, you have to build on an existing platform.  Most of the so-called &#8220;scripting&#8221; languages grew up on Unix, so they&#8217;re written in C.  Now, Unix/C is a great platform, still going strong after 40 years.  It provides powerful tools and standardized interfaces such as files, sockets, and pipes.</p>
<p>The problem is that each of the &#8220;scripting&#8221; languages has developed into its own mini-platform.  Perl, Python, and Ruby each define their own set of data structures for fundamental types like strings, lists, and maps.  The only &#8220;types&#8221; that Unix recognizes are text and binary.  You can&#8217;t exchange data between two languages without serializing everything to some agreed-upon format.  And you can&#8217;t do callbacks between languages below the level of a whole process.</p>
<p>The other problem with languages written in C is, well, C.  Pointers are hard.  Memory management is hard.  I know from bitter experience that Ruby libraries can have segfaults or memory leaks.  That just doesn&#8217;t happen in Java.</p>
<p>Clojure was created to leverage capabilities of Java-the-platform &#8212; garbage collection, dynamic code generation, JIT compilation, threads, locks &#8212; some of which are difficult to use effectively in Java-the-language.  To implement Clojure in C, for example, you would first have to build your own platform with these features.  That&#8217;s effectively what most Common Lisp implementations do, and they suffer because the Common Lisp world is too small to sustain its own platform.</p>
<p>The brilliant thing about Java-the-platform is that it allows many languages to coexist.  I can mix code written in Java, Clojure, JRuby, Jython, etc. and it&#8217;s pretty easy, because they all implement the same fundamental interfaces like java.util.List and  java.lang.Runnable.  For example, right now I have Hadoop (Java code) calling Clojure code calling JRuby code.  It all just works.</p>
<p>(The .NET CLR provides similar capabilities, and there is a Clojure CLR port.)</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/09/22/its-about-the-platform.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-09-22T17:55:37+00:00">September 22, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../tag/clojure.html" rel="tag">Clojure</a>, <a href="../../../tag/java.html" rel="tag">Java</a>, <a href="../../../tag/lisp.html" rel="tag">Lisp</a></span><span class="comments-link"><a href="../../../2009/09/22/its-about-the-platform.html#comments">1 Comment<span class="screen-reader-text"> on It&#8217;s About the Platform</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-306" class="post-306 post type-post status-publish format-standard hentry category-programming tag-maven">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/09/08/run-your-own-maven-repository.html" rel="bookmark">Run Your Own Maven Repository With Nothing but an FTP Server</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>I hope I&#8217;ve demonstrated in the last few posts that <a title="Maven home page" href="http://maven.apache.org/">Maven</a> is pretty cool, not so scary. But the public Maven repositories sometimes leave a bit to be desired. They don&#8217;t have entries for every possible library, and occasionally they have incorrect dependencies or other metadata. Also, the process of <a title="Maven Guide to uploading artifacts to the Central Repository" href="http://maven.apache.org/guides/mini/guide-central-repository-upload.html">adding new libraries to the central repositories</a> is somewhat involved.</p>
<p>Maybe you want to depend on a project that isn&#8217;t in the public repos.  Or maybe you want to publish development snapshots of your own projects. In either case, you need your own Maven repository.</p>
<p>Fortunately, running your own Maven repository is dirt simple. All you need is a web server where you can upload files. Maven understands FTP, SCP, WebDAV, and more exotic protocols like Subversion. Here I&#8217;m going to describe the simplest one, plain old FTP. If you have a web site on a cheap, shared web host, odds are you can use FTP to manage the files on the server.</p>
<h2>Step 1: Get Some Web Space</h2>
<p>I&#8217;m assuming you have a web site somewhere. Lets say it&#8217;s at <a href="http://www.example.net/">http://www.example.net/</a>. Furthermore, let&#8217;s say you can publish files on this web site by uploading them to the FTP server <em>ftp.example.net</em>.  Your FTP user name is <em>samiam</em> with the password <em>greeneggs</em>. You put the files for your web site in the directory <em>/home/samiam/public_html</em> on the server.</p>
<p>Using your favorite FTP client, create a directory named <em>maven2</em> inside your web site directory (<em>public_html</em> in our example).</p>
<p>Congratulations, you just created a Maven 2 repository!</p>
<p>Check that you can visit http://www.example.net/maven2 in a web browser. You should see a directory listing; it&#8217;s empty, because we haven&#8217;t added any files yet.</p>
<h2>Step 2: Configure Your Project Deployment</h2>
<p>Now you&#8217;re ready to deploy a project to your Maven repository.  If you&#8217;ve been following along with my Maven blog posts, you know that each Maven project has a project description file named <em>pom.xml</em>.</p>
<p>Open up your awesome software project and edit the <em>pom.xml</em> file.  You&#8217;re going to add two new sections, ending up with a file that looks like this:</p>
<pre>&lt;project ...&gt;
  ...
  &lt;groupId&gt;net.example&lt;/groupId&gt;
  &lt;artifactId&gt;awesome&lt;/artifactId&gt;
  &lt;name&gt;The Awesome Library&lt;/name&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  ...

  &lt;build&gt;
    ...
    &lt;extensions&gt;
      &lt;extension&gt;
        &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;
        &lt;artifactId&gt;wagon-ftp&lt;/artifactId&gt;
        &lt;version&gt;1.0-alpha-6&lt;/version&gt;
      &lt;/extension&gt;
    &lt;/extensions&gt;
    ...
  &lt;/build&gt;

  ...
  &lt;distributionManagement&gt;
    &lt;repository&gt;
      &lt;id&gt;example-ftp&lt;/id&gt;
      &lt;url&gt;ftp://ftp.example.net/home/samiam/public_html/maven2&lt;/url&gt;
    &lt;/repository&gt;
  &lt;/distributionManagement&gt;
&lt;/project&gt;</pre>
<p>The &lt;extensions&gt; section loads the Maven plugin that handles FTP uploads. The &lt;distributionManagement&gt; section tells Maven where to publish the project. Here we specified a &lt;url&gt; with the full URL path to our maven2 directory. The &lt;id&gt; tag in the &lt;repository&gt; is a name that you choose &#8212; just remember it for the next step.</p>
<h2>Step 3: Configure Your Server Credentials</h2>
<p>Remember that the <em>pom.xml</em> will be part of the public distribution of your project.  It&#8217;s OK to put the name of the FTP server there, but you wouldn&#8217;t want to include private information like your user name and password.  Those go in a special Maven configuration file called <em>settings.xml</em> that you keep private.</p>
<p>You can find <em>settings.xml</em> in your personal Maven cache directory. On Unix-like systems, it should be at <em>~/.m2/settings.xml</em>. You may have to create the file if it doesn&#8217;t already exist.  Here&#8217;s what it should contain:</p>
<pre>&lt;settings xmlns="http://maven.apache.org/POM/4.0.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd"&gt;
  &lt;servers&gt;
    &lt;server&gt;
      &lt;id&gt;example-ftp&lt;/id&gt;
      &lt;username&gt;samiam&lt;/username&gt;
      &lt;password&gt;greeneggs&lt;/password&gt;
    &lt;/server&gt;
  &lt;/servers&gt;
&lt;/settings&gt;</pre>
<p>The &lt;id&gt; is the same as in our <em>pom.xml</em>.  The user name and password are the credentials for your FTP server.</p>
<h2>Step 4: Deploy!</h2>
<p>Now all you have to do is run this command in your project directory:</p>
<pre>mvn deploy</pre>
<p>Maven builds your project and uploads it to your public repository. That&#8217;s all there is to it!</p>
<p>Take a look with your web browser at http://www.example.net/maven2/net/example/awesome/1.0-SNAPSHOT and you&#8217;ll see the JAR and POM files there.</p>
<h2>Step 5: Tell the World</h2>
<p>Now, anyone who wants to use your awesome library can just add a dependency to their pom.xml, like this:</p>
<pre>  ...
  &lt;dependencies&gt;
    ...
    &lt;dependency&gt;
      &lt;groupId&gt;net.example&lt;/groupId&gt;
      &lt;artifactId&gt;awesome&lt;/artifactId&gt;
      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
    ...

  &lt;/dependencies&gt;
  ...

  &lt;repositories&gt;
    ...
    &lt;repository&gt;
      &lt;id&gt;example-net&lt;/id&gt;
      &lt;name&gt;The Example Repository&lt;/name&gt;
      &lt;url&gt;http://www.example.net/maven2&lt;/url&gt;
    &lt;/repository&gt;
    ...

  &lt;/repositories&gt;
  ...</pre>
<p>The &lt;repository&gt; section is necessary, since your repository is not on the list of &#8220;central&#8221; repositories that Maven searches by default.</p>
<p>In general, if your project has a stable release that is widely used, then it&#8217;s worth the effort to get it into the central Maven repository. This is easier to do when you already have your own personal repository to point to.  Note that the central repository does not accept SNAPSHOT releases, nor does it allow any changes to a release after it has been uploaded.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/09/08/run-your-own-maven-repository.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-09-08T11:49:49+00:00">September 8, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../tag/maven.html" rel="tag">Maven</a></span><span class="comments-link"><a href="../../../2009/09/08/run-your-own-maven-repository.html#comments">7 Comments<span class="screen-reader-text"> on Run Your Own Maven Repository With Nothing but an FTP Server</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-295" class="post-295 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp tag-maven">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/09/04/cutting-edge-clojure-development-with-maven.html" rel="bookmark">Cutting-Edge Clojure Development with Maven</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>I promised, in my previous post, that I would show you how to use the latest-and-greatest versions of <a title="Clojure home page" href="http://clojure.org/">Clojure</a> and <a title="clojure-contrib home page" href="http://richhickey.github.com/clojure-contrib/">clojure-contrib</a> in your Maven projects.  Here&#8217;s that post.</p>
<p>Formos Software maintains a Maven server with nightly builds of Clojure and contrib at <a href="http://tapestry.formos.com/maven-snapshot-repository/">http://tapestry.formos.com/maven-snapshot-repository/</a></p>
<p>Here&#8217;s a complete <em>pom.xml</em> file with dependencies on both Clojure and clojure-contrib:</p>
<pre>&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;YOUR.GROUP.ID&lt;/groupId&gt;
  &lt;artifactId&gt;YOUR-PROJECT-NAME&lt;/artifactId&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;name&gt;YOUR-PROJECT-NAME&lt;/name&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.clojure&lt;/groupId&gt;
      &lt;artifactId&gt;clojure-lang&lt;/artifactId&gt;
      &lt;version&gt;1.1.0-alpha-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.clojure&lt;/groupId&gt;
      &lt;artifactId&gt;clojure-contrib&lt;/artifactId&gt;
      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;repositories&gt;
    &lt;repository&gt;
      &lt;id&gt;tapestry.formos.com&lt;/id&gt;
      &lt;name&gt;Formos Software snapshot repository&lt;/name&gt;
      &lt;url&gt;http://tapestry.formos.com/maven-snapshot-repository&lt;/url&gt;
    &lt;/repository&gt;
  &lt;/repositories&gt;
&lt;/project&gt;</pre>
<p>Yes, that&#8217;s a pile of XML. But it&#8217;s not that complicated once you break it down.  Here&#8217;s what&#8217;s going on:</p>
<h2>Dependencies</h2>
<p>The &lt;dependencies&gt; section lists the libraries our project depends on.  We have one &lt;dependency&gt; for Clojure (called <em>clojure-lang</em> in the Formos repository) and one for clojure-contrib.  We&#8217;re depending on <em>SNAPSHOT</em> versions, which tells Maven to follow the most recent version on a particular branch.</p>
<p>The current development branch of clojure-lang is called <em>1.1.0-alpha-SNAPSHOT</em>. The development branch of contrib, which has never had a formal release, is just <em>1.0-SNAPSHOT</em>.</p>
<p>How did I find these version numbers?  I just looked at the repository in a web browser.  In the <a title="clojure-lang directory on Formos Maven repository" href="http://tapestry.formos.com/maven-snapshot-repository/org/clojure/clojure-lang/">org/clojure/clojure-lang</a> directory I found directories named for each development branch, <em>1.0-SNAPSHOT</em>, <em>1.0.0-RC1-SNAPSHOT</em>, and <em>1.1.0-alpha-SNAPSHOT</em>.  I chose the latest one, <em>1.1.0-alpha-SNAPSHOT</em>.  Then I did the same with <a title="clojure-contrib directory on Formos Maven repository" href="http://tapestry.formos.com/maven-snapshot-repository/org/clojure/clojure-contrib/">clojure-contrib</a>.</p>
<p>If you look inside a branch directory like <a title="clojure-lang branch directory on Formos repository" href="http://tapestry.formos.com/maven-snapshot-repository/org/clojure/clojure-lang/1.1.0-alpha-SNAPSHOT/">1.1.0-alpha-SNAPSHOT</a>, you&#8217;ll find hundreds of files, one for each daily snapshot, named with timestamps.</p>
<h2>Repositories</h2>
<p>The &lt;repositories&gt; section tells Maven where to look for JAR files to download.  We added the Formos repository by specifying its URL.</p>
<p>The &lt;id&gt; and &lt;name&gt; tags inside &lt;repository&gt; are purely for our own reference.  Maven only cares about the URL. We could have used any id and name to describe the Formos repository; those names will be used in Maven&#8217;s console logging.</p>
<h2>Managing Dependency Versions</h2>
<p>The problem with tracking the latest snapshot is that sometimes there&#8217;s a release that breaks your code.  It might be a bug, or it might just be a change in behavior that makes the library incompatible with previous versions.</p>
<p>The <a title="Versions Maven Plugin home page" href="http://mojo.codehaus.org/versions-maven-plugin/">Versions Maven Plugin</a> can help to alleviate this problem by &#8220;locking&#8221; dependencies to specific releases and updating them in a controlled way.</p>
<p>First, we have to make the Versions plugin available to our project.  Do this by adding the following lines just before the final &lt;/project&gt; in your pom.xml:</p>
<pre>  &lt;pluginRepositories&gt;
    &lt;pluginRepository&gt;
      &lt;id&gt;Codehaus&lt;/id&gt;
      &lt;name&gt;Codehaus Maven Plugin Repository&lt;/name&gt;
      &lt;url&gt;http://repository.codehaus.org/org/codehaus/mojo&lt;/url&gt;
    &lt;/pluginRepository&gt;
  &lt;/pluginRepositories&gt;</pre>
<p>We&#8217;ve added a &#8220;plugin repository,&#8221; which is just a Maven repository that happens to contain Maven plugins.  (Technically, you don&#8217;t need to add this if your local Maven cache already has a copy of the Versions plugin, but putting it in <em>pom.xml</em> ensures that other developers coming to your project have access to all the same plugins.)</p>
<p>Now we can use the following mvn command:</p>
<pre>mvn versions:lock-snapshots</pre>
<p>This modifies your <em>pom.xml</em> file, setting the version string of every SNAPSHOT dependency to the current snapshot timestamp.  For example, when I run this command, I end up with the following:</p>
<pre>  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.clojure&lt;/groupId&gt;
      &lt;artifactId&gt;clojure-lang&lt;/artifactId&gt;
      &lt;version&gt;1.1.0-alpha-20090904.093041-38&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.clojure&lt;/groupId&gt;
      &lt;artifactId&gt;clojure-contrib&lt;/artifactId&gt;
      &lt;version&gt;1.0-20090904.093531-59&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;</pre>
<p>Now, whenever you build the project, you know exactly which Clojure release you&#8217;re getting.</p>
<p>So you work with a particular release for a while, then you want to upgrade to the latest one.  No problem!  Just run:</p>
<pre>mvn versions:unlock-snapshots
mvn -U install</pre>
<p>The first command modifies <em>pom.xml</em>, replacing all the timestamped version numbers with <em>SNAPSHOT</em> versions.</p>
<p>The <em>-U</em> option on the second command forces Maven to check for updated versions of all the snapshot dependencies.</p>
<p><strong>Note:</strong> Both lock-snapshots and unlock-snapshots create a backup file called <em>pom.xml.versionsBackup</em>.  To remove this file (and accept the Version Plugin&#8217;s changes to your <em>pom.xml</em>) run:</p>
<pre>mvn versions:commit</pre>
<p>Likewise, to go back to the <em>pom.xml</em> file you had before the Versions Plugin messed with it, run:</p>
<pre>mvn versions:revert</pre>
<h2>Explore</h2>
<p>There&#8217;s a lot more to the Versions plugin, and to Maven dependency management in general.  Check the <a href="http://mojo.codehaus.org/versions-maven-plugin/">documentation</a> for details.</p>
<p>Of course, the example here can be combined with the clojure-maven-plugin demonstrated in my previous post.  The syntax of the combined <em>pom.xml</em> file is left as an exercise for the reader.</p>
<p>One other thing: if you really want the absolute latest, up-to-the-second, still-hot-from-the-github version of something, there&#8217;s nothing for it but to use Git submodules.  I&#8217;ll demonstrate that in another post.</p>
<div id="_mcePaste" style="overflow: hidden; position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px;">&lt;dependencies&gt;<br />
&lt;dependency&gt;<br />
&lt;groupId&gt;org.clojure&lt;/groupId&gt;<br />
&lt;artifactId&gt;clojure-lang&lt;/artifactId&gt;<br />
&lt;version&gt;1.1.0-alpha-SNAPSHOT&lt;/version&gt;<br />
&lt;/dependency&gt;<br />
&lt;dependency&gt;<br />
&lt;groupId&gt;org.clojure&lt;/groupId&gt;<br />
&lt;artifactId&gt;clojure-contrib&lt;/artifactId&gt;<br />
&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;<br />
&lt;/dependency&gt;<br />
&lt;/dependencies&gt;<br />
&lt;pluginRepositories&gt;<br />
&lt;pluginRepository&gt;<br />
&lt;id&gt;Codehaus&lt;/id&gt;<br />
&lt;name&gt;Codehaus Maven Plugin Repository&lt;/name&gt;<br />
&lt;url&gt;http://repository.codehaus.org/org/codehaus/mojo/&lt;/url&gt;<br />
&lt;/pluginRepository&gt;<br />
&lt;/pluginRepositories&gt;</div>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/09/04/cutting-edge-clojure-development-with-maven.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-09-04T15:13:46+00:00">September 4, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../tag/clojure.html" rel="tag">Clojure</a>, <a href="../../../tag/lisp.html" rel="tag">Lisp</a>, <a href="../../../tag/maven.html" rel="tag">Maven</a></span><span class="comments-link"><a href="../../../2009/09/04/cutting-edge-clojure-development-with-maven.html#comments">3 Comments<span class="screen-reader-text"> on Cutting-Edge Clojure Development with Maven</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-275" class="post-275 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp tag-maven">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/09/03/mavens-not-so-bad.html" rel="bookmark">Maven&#8217;s Not So Bad: Further Thoughts on Clojure Package Management</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Update Sept. 4: <a href="../../../2009/09/04/cutting-edge-clojure-development-with-maven.html">How to get the latest builds of Clojure &amp; Contrib</a></p>
<p><a title="Maven home page" href="http://maven.apache.org/">Maven</a> is a touchy subject.  People tend to have strong opinions about it.  But like it or not, it&#8217;s the de-facto standard for dependency management in the Java world.  <a title="Clojure home page" href="http://clojure.org/">Clojure</a> lives in the Java world, so that means we have to live with Maven.</p>
<p>Here are some good things about Maven:</p>
<ul>
<li>&#8220;Convention over configuration.&#8221;</li>
<li>Plugins are downloaded &amp; installed automatically.</li>
<li>Handles dependencies of dependencies.</li>
<li>Declarative configuration, not imperative like Ant.</li>
<li>Only stores one copy of each JAR, shared by all projects.</li>
</ul>
<p>Here are some bad things about Maven:</p>
<ul>
<li>XML configuration file.</li>
<li>Verbose command line options.</li>
<li><del datetime="2009-09-03T22:46:35+00:00">Doesn&#8217;t track latest source code of projects.</del> It does; see comments (Thanks, Tim!)</li>
<li>First run takes forever to download all the plugins.</li>
<li>Verbose console output.</li>
</ul>
<p>In my estimation, the good outweigh the bad.  And nothing outweighs the huge fact that <em>Maven is already there</em>.</p>
<p>So let&#8217;s develop a Clojure app using Maven.</p>
<h2>Step 1: Install Maven.</h2>
<p>If you don&#8217;t already have it, that is.  This is pretty easy, just visit <a title="Apache Maven home page" href="http://maven.apache.org/">maven.apache.org</a> and follow the instructions.</p>
<h2>Step 2: Create a new project.</h2>
<p>Type the following at the command line:</p>
<pre>mvn archetype:generate</pre>
<p>Maven will ask a series of questions:</p>
<ol>
<li><strong>archetype:</strong> At the <em>&#8220;Choose a number&#8221;</em> prompt, press enter to accept the default project type, <em>maven-archetype-quickstart</em>.</li>
<li><strong>groupId:</strong> Enter a name to identify yourself in the global Maven namespace.  All your Maven projects will use the same groupId.  This is typically a reverse domain name in the style of Java package names.  For example, I could use the groupId <em>com.stuartsierra</em></li>
<li><strong>artifactId:</strong> Enter a name to identify this specific project in the Maven repository.  For example, <em>my-great-clojure-library<br />
</em></li>
<li><strong>version:</strong> Press enter to accept the default, <em>1.0-SNAPSHOT</em></li>
<li><strong>package:</strong> Press enter to accept the default, which is the same as your groupId.</li>
<li><strong>Confirmation: </strong>Press enter.</li>
</ol>
<p>Now you have a directory named <em>my-great-clojure-library</em> containing the skeleton of a new Java project.</p>
<h2>Step 3: Configure your pom.xml.</h2>
<p>Go into your new project directory and edit the <em>pom.xml</em> file.  The basic information will already be filled out.</p>
<p>We can remove the dependency on JUnit, so delete these lines:</p>
<pre>    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;3.8.1&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;</pre>
<p>Then we need to add the Clojure Maven plugin, which tells Maven how to compile Clojure source code.  Before the final &lt;/project&gt; tag, add these lines:</p>
<pre>  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.theoryinpractise&lt;/groupId&gt;
        &lt;artifactId&gt;clojure-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;compile-clojure&lt;/id&gt;
            &lt;phase&gt;compile&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;</pre>
<p>We also need to add Clojure itself as a dependency of our project (the Clojure Maven plugin does not do this automatically).  Inside the &lt;dependencies&gt; tag, add the following lines:</p>
<pre>    &lt;dependency&gt;
      &lt;groupId&gt;org.clojure&lt;/groupId&gt;
      &lt;artifactId&gt;clojure&lt;/artifactId&gt;
      &lt;version&gt;1.0.0&lt;/version&gt;
    &lt;/dependency&gt;</pre>
<p>That&#8217;s if you want the official Clojure 1.0.0 release.  If you want a cutting-edge version, I&#8217;ll explain how in a later post.</p>
<h2>Step 4: Delete Java sources.</h2>
<p>Your project directory comes pre-equipped with two Java source directories at <em>src/main/java</em> and <em>src/test/java</em>.  You can delete both of them, unless, of course, you&#8217;re developing a mixed Clojure-Java project.</p>
<h2>Step 5: Add dependencies.</h2>
<p>If your project does anything interesting, chances are it&#8217;s going to depend on some external Java libraries.  You can find libraries in the public Maven repositories at <a title="Maven Repository search" href="http://www.mvnrepository.com/">mvnrepository.com</a>.  Search for a library name, and it will show you the code to put in your <em>pom.xml</em> file.</p>
<p>For example, say we want to use the Apache Commons IO library.  At mvnrepository.com, we find the dependency code for this library:</p>
<pre>  &lt;dependency&gt;
    &lt;groupId&gt;commons-io&lt;/groupId&gt;
    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;
    &lt;version&gt;1.4&lt;/version&gt;
  &lt;/dependency&gt;</pre>
<p>And we can add that inside the &lt;dependencies&gt; section of <em>pom.xml</em>.</p>
<h2>Step 6: Start coding!</h2>
<p>Create the directory <em>src/main/clojure</em>.  This is where all your .clj source files will go.</p>
<p>Follow the standard Clojure/Java convention for file names. That is, if you have a Clojure namespace called <em>my.great.library</em>, it should be in a file named <em>src/main/clojure/my/great/library.clj</em></p>
<h2>Step 7: Compile and install.</h2>
<p>Run the following command:</p>
<pre>mvn install</pre>
<p>That will compile all your .clj source files into Java .class files, package them into a JAR, and install that JAR in your local Maven cache.  On Unix-like systems, the cache should be at <em>~/.m2/repository/</em></p>
<h2>Step 8: Live and learn.</h2>
<p>There&#8217;s a whole lot more to learn about Maven.  It&#8217;s a very flexible tool, and it can do almost anything.  Yes, you will have to write some XML, but it&#8217;s really not that much.</p>
<p>Things I hope to cover in future posts:</p>
<ol>
<li>Using git submodules to track development versions of Clojure libraries.</li>
<li>Running tests written in Clojure.</li>
<li>Including .clj source files in your JAR.</li>
<li>Creating a stand-alone JAR including all dependencies.</li>
<li>Setting up a private Maven repository.</li>
</ol>
<p>I hope this was a reasonable introduction to developing with Maven and Clojure, and that I have shown that Maven isn&#8217;t nearly as scary as people make it out to be.  I think Maven suffered for a long time from poor documentation, but that&#8217;s changing rapidly.  I found the (free) book <a title="Maven Definitive Guide home page" href="http://www.sonatype.com/products/maven/documentation/book-defguide">Maven: The Definitive Guide</a> extremely helpful.</p>
<h2>Appendix: Complete pom.xml</h2>
<p>Here&#8217;s the complete pom.xml file for the project I developed in this post:</p>
<pre>&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;com.stuartsierra&lt;/groupId&gt;
  &lt;artifactId&gt;my-great-clojure-library&lt;/artifactId&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;name&gt;my-great-clojure-library&lt;/name&gt;
  &lt;url&gt;http://maven.apache.org&lt;/url&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.clojure&lt;/groupId&gt;
      &lt;artifactId&gt;clojure&lt;/artifactId&gt;
      &lt;version&gt;1.0.0&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;commons-io&lt;/groupId&gt;
      &lt;artifactId&gt;commons-io&lt;/artifactId&gt;
      &lt;version&gt;1.4&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.theoryinpractise&lt;/groupId&gt;
        &lt;artifactId&gt;clojure-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;compile-clojure&lt;/id&gt;
            &lt;phase&gt;compile&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;</pre>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/09/03/mavens-not-so-bad.html" rel="bookmark"><time class="entry-date published" datetime="2009-09-03T18:38:29+00:00">September 3, 2009</time><time class="updated" datetime="2009-09-05T00:00:00+00:00">September 5, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../tag/clojure.html" rel="tag">Clojure</a>, <a href="../../../tag/lisp.html" rel="tag">Lisp</a>, <a href="../../../tag/maven.html" rel="tag">Maven</a></span><span class="comments-link"><a href="../../../2009/09/03/mavens-not-so-bad.html#comments">11 Comments<span class="screen-reader-text"> on Maven&#8217;s Not So Bad: Further Thoughts on Clojure Package Management</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-269" class="post-269 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/08/31/thoughts-on-clojure-package-management.html" rel="bookmark">Thoughts on Clojure Package Management</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Update Sept. 3: <a href="../../../2009/09/03/mavens-not-so-bad.html">Maven&#8217;s Not So Bad</a>.</p>
<p>A lot of Ruby types come to <a href="http://clojure.org/">Clojure</a> and ask, &#8220;Where&#8217;s the package manager?&#8221;  The answer is usually, &#8220;Maven or Ivy,&#8221; which isn&#8217;t really an answer.</p>
<p>I discussed this in the latter half of my Philly Lambda talk (<a href="../../../download/clojure_slides_philly_2009-07-21.pdf">PDF slides</a>).  The problem is that Clojure is built on Java, and any Clojure library that does something interesting is going to need some Java libraries beyond what the JDK provides.</p>
<p>Java has only one established dependency management system, Maven.  (Ivy is an alternative, but it uses the Maven repositories.)  Maven works, but it&#8217;s a big, complicated beast, built in the best giant-XML-configuration-file Java tradition.  It&#8217;s also slow to accept new libraries into the public repositories.  The <a href="http://repo1.maven.org/maven2/">central Maven 2 repository</a> contains fewer than 700 libraries.  <a href="http://rubyforge.org/">Rubyforge</a>, by contrast, lists over 8,000.</p>
<p>Maven seems to work well for large organizations that can benefit from setting up their own, private repositories, but it&#8217;s kind of a headache for the independent developer.</p>
<p>There&#8217;s a <a href="http://github.com/talios/clojure-maven-plugin">Clojure Maven plugin</a>, some shell-based hacks like <a href="http://github.com/technomancy/corkscrew">Corkscrew</a>, and some Ivy-related code floating around, but none really provides what people want: one simple command to download and install all the dependencies for a project, without needing any XML.</p>
<p>What everyone wants, of course, is <a href="http://cpan.org/">CPAN</a>.  Thousands of documented, tested modules for just about any task you could imagine, and quite a few you couldn&#8217;t (e.g., <a href="http://search.cpan.org/~lbrocard/Acme-Buffy-1.5/lib/Acme/Buffy.pm">Acme::Buffy</a>).</p>
<p>But CPAN was not created in a day.  Most of its imitators (<a href="http://rubygems.org/">Rubygems</a>, <a href="http://pear.php.net/">PEAR</a>, <a href="http://pypi.python.org/pypi">Python Eggs</a>) have failed to reach the same level of quality.  Perl is also much older, and therefore more stable, than Python or Ruby.  10-year-old Perl code probably still works.</p>
<p>Part of this CPAN&#8217;s success, I think, has to do with the environment in it evolved.  When Perl was the hot new language, running a web server was an expensive proposition.  Even domain names weren&#8217;t cheap.  If you were going to publish code on the web, there was a cost to doing so, either in time or money, so you wanted to make sure that it was worth publishing.</p>
<p>These days, when everyone has a blog and a <a href="http://github.com/">Github</a> account, sharing code is easy.  Doing &#8220;git push&#8221; requires almost no thought, no investment of time.  Why not release everything, even when it&#8217;s untested, undocumented, or unfinished?</p>
<p>So this weekend I started working on a package repository for Clojure.  It was modeled it after CPAN, but designed to support anything that could be packaged in a JAR file, including compiled Java libraries and Clojure source code.</p>
<p>I got started.  Then I thought, who would actually use this?  Of the few dozen Clojure libraries that have been published on Github, only a handful are &#8220;production-ready.&#8221;  Most aren&#8217;t even finished.  Very few have been thoroughly tested.  (I&#8217;m equally guilty in this regard.)</p>
<p>I concluded that it&#8217;s just too early.  Clojure is a scarcely two years old.  It just released &#8220;1.0&#8221; this year, and is still developing rapidly.  The libraries are evolving equally rapidly.  If you want to build a project using, say, <a href="http://github.com/weavejester/compojure">Compojure</a>, the best way to do it is with <a href="http://gaarai.com/2009/04/20/git-submodules-adding-using-removing-and-updating/">Git submodules</a>.</p>
<p>The one place a package manager would really be useful is in downloading and installing the standard Java packages that get used in almost every project, like the Apache Commons libraries.  For this, Maven/Ivy works, if not brilliantly.</p>
<p>Update: another Maven helper: <a href="http://github.com/dysinger/clojure-pom">Clojure-POM</a></p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/08/31/thoughts-on-clojure-package-management.html" rel="bookmark"><time class="entry-date published" datetime="2009-08-31T12:13:49+00:00">August 31, 2009</time><time class="updated" datetime="2009-09-05T00:01:32+00:00">September 5, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../tag/clojure.html" rel="tag">Clojure</a>, <a href="../../../tag/lisp.html" rel="tag">Lisp</a></span><span class="comments-link"><a href="../../../2009/08/31/thoughts-on-clojure-package-management.html#comments">11 Comments<span class="screen-reader-text"> on Thoughts on Clojure Package Management</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-265" class="post-265 post type-post status-publish format-standard hentry category-uncategorized tag-altlaw">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/08/29/bilingual-altlaw-interview-in-frontier-economy.html" rel="bookmark">Bilingual AltLaw Interview</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>A first for me &#8212; I&#8217;ve been translated!  Frontier Economy interviewed me about <a href="http://www.altlaw.org/">AltLaw</a>, then translated my responses into Spanish.</p>
<p><a href="http://www.frontiereconomy.com/2009/08/the-law-of-the-people-to-the-people/">The Interview in English</a></p>
<p><a href="http://www.frontiereconomy.com/es/2009/08/la-ley-del-pueblo-al-pueblo/">The Interview in Spanish</a></p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/08/29/bilingual-altlaw-interview-in-frontier-economy.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-08-29T22:25:55+00:00">August 29, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/uncategorized.html" rel="category tag">Uncategorized</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../tag/altlaw.html" rel="tag">AltLaw</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

	<nav class="navigation pagination" role="navigation">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><a class="prev page-numbers" href="7.html">Previous page</a>
<a class='page-numbers' href='../index.html'><span class="meta-nav screen-reader-text">Page </span>1</a>
<span class="page-numbers dots">&hellip;</span>
<a class='page-numbers' href='7.html'><span class="meta-nav screen-reader-text">Page </span>7</a>
<span class='page-numbers current'><span class="meta-nav screen-reader-text">Page </span>8</span>
<a class='page-numbers' href='9.html'><span class="meta-nav screen-reader-text">Page </span>9</a>
<span class="page-numbers dots">&hellip;</span>
<a class='page-numbers' href='24.html'><span class="meta-nav screen-reader-text">Page </span>24</a>
<a class="next page-numbers" href="9.html">Next page</a></div>
	</nav>
		</main><!-- .site-main -->
	</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="search-3" class="widget widget_search">
<form role="search" method="get" class="search-form" action="https://stuartsierra.com/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</section><section id="text-4" class="widget widget_text">			<div class="textwidget"><ul>
<li><a href="http://feeds2.feedburner.com/StuartSierra" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="../../../comments/feed" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
</ul>
<ul>
<li><a href="https://twitter.com/stuartsierra">Twitter</a></li>
<li><a href="https://github.com/stuartsierra">GitHub</a></li>
</ul></div>
		</section><section id="tag-widget-2" class="widget TagWidget"><h2 class="widget-title">Clojure Do’s and Don’ts</h2><ul class = "posts-by-tag-list"><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-883"><a class = "posts-by-tag-item-title" href="../../../2015/08/25/clojure-donts-lazy-effects.html">Clojure Don’ts: Lazy Effects</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-877"><a class = "posts-by-tag-item-title" href="../../../2015/08/10/clojure-donts-redundant-map.html">Clojure Don’ts: Redundant map</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-870"><a class = "posts-by-tag-item-title" href="../../../2015/06/16/clojure-donts-single-branch-if.html">Clojure Don’ts: Single-branch if</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-854"><a class = "posts-by-tag-item-title" href="../../../2015/06/10/clojure-donts-heisenparameter.html">Clojure Don’ts: The Heisenparameter</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-849"><a class = "posts-by-tag-item-title" href="../../../2015/06/01/clojure-donts-optional-arguments-with-varargs.html">Clojure Don’ts: Optional Arguments with Varargs</a></li><li class="posts-by-tag-item Clojure do's and don'ts errors" id="posts-by-tag-item-836"><a class = "posts-by-tag-item-title" href="../../../2015/05/27/clojure-uncaught-exceptions.html">Clojure Do’s: Uncaught Exceptions</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-831"><a class = "posts-by-tag-item-title" href="../../../2015/05/17/clojure-record-constructors.html">Record Constructors</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-826"><a class = "posts-by-tag-item-title" href="../../../2015/05/10/clojure-namespace-aliases.html">Clojure Do’s: Namespace Aliases</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-820"><a class = "posts-by-tag-item-title" href="../../../2015/05/02/clojure-donts-isa.html">Clojure Don’ts: isa?</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-812"><a class = "posts-by-tag-item-title" href="../../../2015/04/26/clojure-donts-concat.html">Clojure Don’ts: Concat</a></li></ul></section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="Footer Primary Menu">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="primary-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="../../../about-me.html">About Me</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-633"><a href="../../../writing.html">Writing</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="../../../presentations.html">Presentations</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="../../../software.html">Software</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="../../../contact.html">Contact</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
			
			<div class="site-info">
								<span class="site-title"><a href="../../../index.html" rel="home">Digital Digressions by Stuart Sierra</a></span>
				<a href="https://wordpress.org/">Proudly powered by WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

	<div style="display:none">
	<div class="grofile-hash-map-55878d0196b91803f9cb2c372b0551d3">
	</div>
	</div>
<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201635'></script>
<script type='text/javascript' src='https://secure.gravatar.com/js/gprofiles.js?ver=2016Sepaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/plugins/jetpack/modules/wpgroho167b.js?ver=4.6'></script>
<script type='text/javascript' src='../../../wp-content/themes/twentysixteen/js/skip-link-focus-fix8de4.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/themes/twentysixteen/js/functions8de4.js?ver=20160816'></script>
<script type='text/javascript' src='../../../wp-includes/js/wp-embed.min167b.js?ver=4.6'></script>
<script type='text/javascript' src='https://stats.wp.com/e-201635.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.2.2',blog:'2702563',post:'0',tz:'-4',srv:'stuartsierra.com'} ]);
	_stq.push([ 'clickTrackerInit', '2702563', '0' ]);
</script>
</body>

<!-- Mirrored from stuartsierra.com/author/stuart/page/8 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 17:06:35 GMT -->
</html>

<!-- Dynamic page generated in 0.419 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2016-09-02 13:06:06 -->

<!-- Compression = gzip -->
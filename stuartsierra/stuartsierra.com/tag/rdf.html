<!DOCTYPE html>
<html lang="en-US" class="no-js">

<!-- Mirrored from stuartsierra.com/tag/rdf by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 16:58:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>RDF &#8211; Digital Digressions by Stuart Sierra</title>
<link rel='dns-prefetch' href='http://s0.wp.com/'>
<link rel='dns-prefetch' href='http://secure.gravatar.com/'>
<link rel='dns-prefetch' href='http://fonts.googleapis.com/'>
<link rel='dns-prefetch' href='http://s.w.org/'>
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Feed" href="http://feeds2.feedburner.com/StuartSierra" />
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Comments Feed" href="../comments/feed" />
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; RDF Tag Feed" href="feed.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/stuartsierra.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='twentysixteen-jetpack-css'  href='../wp-content/plugins/jetpack/modules/theme-tools/compat/twentysixteen3a05.css?ver=4.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='../wp-content/plugins/jetpack/_inc/genericons/genericons/genericons128b.css?ver=3.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-style-css'  href='../wp-content/themes/twentysixteen/style167b.css?ver=4.6' type='text/css' media='all' />
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='jetpack_css-css'  href='../wp-content/plugins/jetpack/css/jetpack3a05.css?ver=4.2.2' type='text/css' media='all' />
<script type='text/javascript' src='../wp-includes/js/jquery/jqueryb8ff.js?ver=1.12.4'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min330a.js?ver=1.4.1'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://stuartsierra.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<link rel='https://api.w.org/' href='../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6" />

<link rel='dns-prefetch' href='http://v0.wordpress.com/'>
</head>

<body class="archive tag tag-rdf tag-54 hfeed">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="../index.html" rel="home">Digital Digressions by Stuart Sierra</a></p>
											<p class="site-description">From programming to everything else</p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">Menu</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="Primary Menu">
								<div class="menu-main-menu-container"><ul id="menu-main-menu" class="primary-menu"><li id="menu-item-635" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="../about-me.html">About Me</a></li>
<li id="menu-item-633" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-633"><a href="../writing.html">Writing</a></li>
<li id="menu-item-634" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="../presentations.html">Presentations</a></li>
<li id="menu-item-636" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="../software.html">Software</a></li>
<li id="menu-item-637" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="../contact.html">Contact</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

											<div class="header-image">
					<a href="../index.html" rel="home">
						<img src="../wp-content/uploads/2015/12/header.jpg" srcset="https://stuartsierra.com/wp-content/uploads/2015/12/header-300x70.jpg 300w, https://stuartsierra.com/wp-content/uploads/2015/12/header-768x179.jpg 768w, https://stuartsierra.com/wp-content/uploads/2015/12/header-1024x239.jpg 1024w, https://stuartsierra.com/wp-content/uploads/2015/12/header.jpg 1200w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 81vw, (max-width: 1362px) 88vw, 1200px" width="1200" height="280" alt="Digital Digressions by Stuart Sierra">
					</a>
				</div><!-- .header-image -->
					</header><!-- .site-header -->

		<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">Tag: RDF</h1>			</header><!-- .page-header -->

			
<article id="post-322" class="post-322 post type-post status-publish format-standard hentry category-programming tag-clojure tag-java tag-owl tag-rdf">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2009/10/08/generating-clojure-from-an-ontology.html" rel="bookmark">Generating Clojure from an Ontology</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>I&#8217;ve been fascinated with RDF for years, but I always end up frustrated when I try to use it.  How do you read/write/manipulate RDF data in code?  Sure, there are lots of libraries, but they all represent RDF data as its primitive structures: statements, resources, literals, etc.  Working with data through these APIs feels like using a <a href="http://en.wikipedia.org/wiki/Glovebox">glovebox</a>.  To get anything useful done, you have to define mappings between RDF properties/classes and normal data structures in your programming language &#8212; classes, maps, lists, whatever.  In effect, you have to define everything twice.</p>
<p>Some Java APIs allow one to <a href="http://www.semanticuniverse.com/articles-binding-java-objects-rdf.html">add annotation properties</a> to classes and methods, with the annotations defining the mapping between Java objects and RDF triples.  It&#8217;s convenient, and familiar if you&#8217;ve used Java persistence frameworks like Hibernate, but you still have to define everything twice &#8212; once in your RDF schema, once in Java code.</p>
<p>Other libraries generate Java source code from RDFS or OWL ontologies.  This means you don&#8217;t have to define everything twice, but adds another step to the write-compile-run cycle, and limits you to the semantics that the code generator can understand.  In particular, certain features of RDFS/OWL &#8212; multiple inheritance, sub-properties &#8212; do not map well into Java.</p>
<p>What I really wanted was a way to create and work with RDF data in <a href="http://clojure.org/">Clojure</a>, using the same map/set/sequence APIs that I use for any other Clojure data structure.  I flirted with <a href="http://github.com/stuartsierra/clojure-rdf">implementing RDF in Clojure</a> but lost interest when I realized that 1) there&#8217;s a lot more to implementing RDF than datatype conversions; and 2) my Clojure library suffered from the same glovebox problem as the Java RDF libraries.</p>
<p>The solution, however, was staring me in the face all along.  Clojure is a Lisp.  I can generate functions directly, without any intermediate &#8220;source&#8221; representation.  I can use my own customized validation and type-checking functions.  Furthermore, I can extend the definitions in my RDF schema with new Clojure functions.</p>
<p>Here&#8217;s what I ended up with: I designed a <a href="http://github.com/stuartsierra/altlaw-vocab">simple OWL ontology</a> using <a href="http://protege.stanford.edu/">Protege 4</a> and saved it as RDF/XML.  Then I used the <a href="http://www.openrdf.org/">Sesame 2</a> library to find all the RDF classes and properties defined in my ontology, and create the appropriate getter, setter, and constructor functions in Clojure.  It looks something like this:</p>
<pre>
(defn intern-classes [] 
  (doseq [cls (find-all-classes *ontology*)]
    (let [name (resource-to-symbol cls)]
      (intern *ns* name (fn [] {:type name})))))
</pre>
<p>The <code>resource-to-symbol</code> function creates a symbol named for the local name of the RDF class, with the full URI of its XML namespace in the symbol&#8217;s metadata.  The call to <code>intern</code> defines a new function that takes no arguments and returns a Clojure map with the symbol as its <code>:type</code>.</p>
<p>Suppose I have a class named <code>Document</code> in my ontology.  I now have a Clojure function named <code>Document</code> that creates a new instance of that class, represented as a Clojure map.  Furthermore, using <a href="http://clojure.org/multimethods">Clojure hierarchies</a> and the <code>isa?</code> function, I can generate Clojure code that implements the subclass relationships defined in the ontology.  Whee!</p>
<p>I don&#8217;t entirely know where I&#8217;m headed with this, but I like the way it&#8217;s going.  I can define my own data types, decide how they map to Clojure data structures, and have code that&#8217;s always up-to-date with my RDF vocabulary.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2009/10/08/generating-clojure-from-an-ontology.html" rel="bookmark"><time class="entry-date published" datetime="2009-10-08T14:48:59+00:00">October 8, 2009</time><time class="updated" datetime="2015-08-28T10:55:33+00:00">August 28, 2015</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="java.html" rel="tag">Java</a>, <a href="owl.html" rel="tag">OWL</a>, <a href="rdf.html" rel="tag">RDF</a></span><span class="comments-link"><a href="../2009/10/08/generating-clojure-from-an-ontology.html#comments">4 Comments<span class="screen-reader-text"> on Generating Clojure from an Ontology</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-186" class="post-186 post type-post status-publish format-standard hentry category-programming tag-altlaw tag-hadoop tag-normalization tag-rdf">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2008/10/23/antidenormalizationism.html" rel="bookmark">Antidenormalizationism</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>When storing any large collection of data, one of the most critical decisions one has to make is when to normalize and when to denormalize.  Normalized data is good for flexibility &#8212; you can write queries to recombine things in any combination.  Denormalized data is more efficient when you know, in advance, what the queries will be.  There&#8217;s a maxim, &#8220;normalize until it hurts, denormalize until it works.&#8221;</p>
<p>In the past two years, I&#8217;ve become a big fan of three software paradigms:</p>
<ol>
<li>RDF and the Semantic Web</li>
<li>RESTful architectures</li>
<li>Hadoop and MapReduce</li>
</ol>
<p>The first two were made for each other &#8212; RDF is the ideal data format for the Semantic Web, and Semantic Web applications are (ideally) implemented with RESTful architectures.</p>
<p>Unfortunately, as I discovered through painful experience, RDF is an inefficient representation for large amounts of data.  It&#8217;s the ultimate in normalization &#8212; each triple represents a single fact &#8212; and in flexibility, but even simple queries become prohibitively slow when each item of interest is spread across dozens of triples.</p>
<p>At the other end of the spectrum, MapReduce programming forces you into an entirely different way of thinking.  MapReduce offers exactly one data access mechanism: read a list of records from beginning to end.  No random access, do not pass GO, do not collect $200.  That restriction is what enables Hadoop to distribute a job across many machines, and to process data at the maximum rate supported by the hard disk.  Obviously, to take full advantage of these optimizations, your MapReduce program needs to be able to process each record in isolation, without referring to any other resources.  In effect, everything has to be completely denormalized.</p>
<p>For my work on <a href="http://altlaw.org/">AltLaw</a>, I&#8217;ve tended to use fully denormalized data, because anything else is too slow.  But I <em>want</em> to be working with normalized data.  I want to have every datum &#8212; plus information about its derivation &#8212; stored in one giant RDF graph.  But I also want to be able to process this graph efficiently.  Maybe if I had a dozen machines with 64 GB of memory apiece, this wouldn&#8217;t be a problem.  But with one desktop, one server, and occasional rides on EC2, that&#8217;s not an option.</p>
<p>The ideal design, I think, would be a hybrid system which can do efficient bulk processing of RDF data.  There are some pilot projects to do this with Hadoop, and I&#8217;m interested to see how they pan out.  But until then, I&#8217;ll have to make do as best I can.</p>
<p><strong>Update:</strong> The projects I remebered were HRDF and Heart, which turn out to be the same thing: <a href="http://code.google.com/p/hrdf/">http://code.google.com/p/hrdf/</a> and <a href="http://wiki.apache.org/incubator/HeartProposal">http://wiki.apache.org/incubator/HeartProposal</a></p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2008/10/23/antidenormalizationism.html" rel="bookmark"><time class="entry-date published" datetime="2008-10-23T17:24:15+00:00">October 23, 2008</time><time class="updated" datetime="2008-10-24T13:58:05+00:00">October 24, 2008</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="altlaw.html" rel="tag">AltLaw</a>, <a href="hadoop.html" rel="tag">Hadoop</a>, <a href="normalization.html" rel="tag">normalization</a>, <a href="rdf.html" rel="tag">RDF</a></span><span class="comments-link"><a href="../2008/10/23/antidenormalizationism.html#comments">3 Comments<span class="screen-reader-text"> on Antidenormalizationism</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-179" class="post-179 post type-post status-publish format-standard hentry category-programming tag-rdf">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2008/08/27/whither-rdf.html" rel="bookmark">Whither RDF?</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>RDF is seductive.  I can&#8217;t get away from it.  Something about the ability to represent anything and everything in one consistent model just tugs at my engineer&#8217;s heartstrings.</p>
<p>The problem with RDF, as I&#8217;ve discovered through painful experience, is that the ability to represent everything sacrifices the ability to represent anything <em>efficiently</em>.  Certainly that is partly the fault of existing toolkits, but it&#8217;s still a fault.</p>
<p>But maybe I&#8217;m simply missing the point of RDF.  Its stated <a href="http://www.w3.org/TR/2004/REC-rdf-concepts-20040210/#section-design-goals">design goals</a> do not include &#8220;efficient storage and retrieval.&#8221;  The W3C&#8217;s RDF recommendations make no mention of performance.  Tim Berners-Lee doesn&#8217;t mention it in his Semantic Web talks, except in airy references to future <a href="http://www.w3.org/2000/Talks/1206-xml2k-tbl/slide15-0.html">general purpose RDF engines</a>.</p>
<p>RDF, it seems, is intended not as so much as a data <em>storage</em> model but as a <em>communication</em> model.  In short, it&#8217;s a protocol.  One of the goals Berners-Lee does talk about is exposing the information currently trapped inside relational databases.  So maybe I shouldn&#8217;t think about storing RDF and think instead about presenting it as a view of my own domain-specific data structures.</p>
<p>There are still some benefits to be had from storing and analyzing data in a graph-like structure.  But RDF is not necessarily the be-all and end-all of graphical models either.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2008/08/27/whither-rdf.html" rel="bookmark"><time class="entry-date published updated" datetime="2008-08-27T00:23:35+00:00">August 27, 2008</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="rdf.html" rel="tag">RDF</a></span><span class="comments-link"><a href="../2008/08/27/whither-rdf.html#comments">2 Comments<span class="screen-reader-text"> on Whither RDF?</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-139" class="post-139 post type-post status-publish format-standard hentry category-uncategorized tag-altlaw tag-rdf tag-uri-templates tag-uris">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2008/04/04/uri-templates-for-rdf.html" rel="bookmark">URI Templates for RDF</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>There&#8217;s a school of thought that URIs should be opaque identifiers with no inherent meaning or structure.  I think this is clearly a bad idea on the human-facing web, but it is more reasonable for computer-facing web services.</p>
<p>However, I&#8217;ve been generating a lot of RDF lately, trying to organize piles of metadata in <a href="http://altlaw.org/">AltLaw</a>.  I use URIs that have meaning to me, although they aren&#8217;t formally specified anywhere.  I realized that a URI can represent a lot of information &#8212; not just the identity of a resource, but also its type, version, date, etc. &#8212; in a compact form.  I can write code that manipulates URIs to get key information about a resource more quickly than I could by querying the RDF database.</p>
<p>Unfortunately, RDF query languages like SPARQL assume that URIs themselves are just pointers that do not contain any information.  I could easily generate additional RDF statements containing all the same information encoded in the URI, but that would triple the size of my database and slow down my queries.  (My experience so far with <a href="http://openrdf.org/">Sesame 2.0</a> is that complex queries are slow.)</p>
<p>What I need is a rule-based language for describing the structure of a URI and what it means.  This would be similar to <a href="http://bitworking.org/projects/URI-Templates/">URI templates</a>, and would map parts of the URI to RDF statements about that URI.</p>
<p>So if I make a statement about a resource at<br />
<code>http://altlaw.org/cases/US/1204</code><br />
(note: not a real URI), the RDF database automatically infers the following (in Turtle syntax):</p>
<pre>
&lt;http://altlaw.org/cases/US/2008-02-14/1204&gt;
        rdf:type        &lt;http://altlaw.org/rdf/Case&gt; ;
        dc:identifier   "1204" ;
        dc:jurisdiction "US" ;
        dc:date         "2008-02-14" .
</pre>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2008/04/04/uri-templates-for-rdf.html" rel="bookmark"><time class="entry-date published updated" datetime="2008-04-04T12:07:13+00:00">April 4, 2008</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/uncategorized.html" rel="category tag">Uncategorized</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="altlaw.html" rel="tag">AltLaw</a>, <a href="rdf.html" rel="tag">RDF</a>, <a href="uri-templates.html" rel="tag">URI Templates</a>, <a href="uris.html" rel="tag">URIs</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-138" class="post-138 post type-post status-publish format-standard hentry category-programming tag-column-oriented tag-data-models tag-database tag-document-oriented tag-hash tag-rdf tag-relational tag-sql">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2008/03/21/all-your-base.html" rel="bookmark">All Your Base</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Let&#8217;s have the database models strut down the runway:</p>
<p><strong>Relational (SQL):</strong></p>
<ul>
<li>Data consist of rows in tables.</li>
<li>Each row has multiple columns.</li>
<li>Each column has a fixed type.</li>
<li>Queries use filters and joins.</li>
<li>Fixed schema is defined separately from the data.</li>
<li>User-defined indexes improve query performance.</li>
<li>Robust transaction/data-integrity support.</li>
</ul>
<p><strong>Graph (RDF):</strong></p>
<ul>
<li>Data consist of nodes and labeled links between them.</li>
<li>Nodes may have type information.</li>
<li>Optional schema is defined in the same model (e.g. RDFS, OWL).</li>
<li>Queries use graph-based constraints and filters.</li>
<li>Indexes are not optimized for specific datasets.</li>
<li>Limited transaction support.</li>
</ul>
<p><strong>Tree (XML, filesystem):</strong></p>
<ul>
<li>Data are identified by a name and a position within a hierarchy.</li>
<li>Queries use hierarchies and filters.</li>
<li>Data may have type information.</li>
<li>Optional schema may be defined in the same model (XML-Schema) or outside it (DTD).</li>
<li>Transaction support varies by implementation.</li>
</ul>
<p><strong>Hash (BDB, memcached):</strong></p>
<ul>
<li>Data are untyped binary blobs.</li>
<li>Data are identified by unique keys in a flat namespace.</li>
<li>Only key-based lookups are possible.</li>
<li>Limited transaction support.</li>
</ul>
<p><strong>Inverted Index (Lucene/Solr):</strong></p>
<ul>
<li>Data are text documents.</li>
<li>Queries are free-form text with some special operators.</li>
<li>Text queries are fast.</li>
<li>Query results can be scored/ranked.</li>
<li>Joins are inefficient; denormalized data are preferred.</li>
<li>Limited transaction support.</li>
</ul>
<p><strong>Document-Oriented (CouchDB):</strong></p>
<ul>
<li>Data are identified by unique keys in a flat namespace.</li>
<li>Data have named fields.</li>
<li>Optional schema defined by application code.</li>
<li>Denormalized data are preferred.</li>
<li>Limited type information.</li>
</ul>
<p><strong>Column-Oriented (Hbase, BigTable):</strong></p>
<ul>
<li>Data consist of rows in tables.</li>
<li>Each row has multiple columns, rows are assumed to be sparse.</li>
<li>Data from a single column are stored contiguously to improve performance.</li>
<li>Designed for distributed processing environments such as Hadoop and MapReduce.</li>
</ul>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2008/03/21/all-your-base.html" rel="bookmark"><time class="entry-date published updated" datetime="2008-03-21T15:48:42+00:00">March 21, 2008</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="column-oriented.html" rel="tag">column-oriented</a>, <a href="data-models.html" rel="tag">data models</a>, <a href="database.html" rel="tag">database</a>, <a href="document-oriented.html" rel="tag">document-oriented</a>, <a href="hash.html" rel="tag">hash</a>, <a href="rdf.html" rel="tag">RDF</a>, <a href="relational.html" rel="tag">relational</a>, <a href="sql.html" rel="tag">SQL</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-131" class="post-131 post type-post status-publish format-standard hentry category-programming tag-couchdb tag-database tag-dspace tag-ferret tag-lucene tag-rdf tag-solr tag-sql">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2008/02/08/in-search-of-the-grand-unified-data-model.html" rel="bookmark">In Search of the Grand Unified Data Model</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Since I started working on <a href="http://altlaw.org/">AltLaw.org</a> a little over a year ago, I&#8217;ve struggled with the data model.  I&#8217;ve got around half a million documents, totally unstructured, from a dozen different sources.  Each source has its own quirks and problems that have to be corrected before it&#8217;s useful.</p>
<p>When I started, I was using MySQL + the filesystem + <a href="http://ferret.davebalmain.com/trac">Ferret</a>.  Keeping all that in sync, even with Rails&#8217; ActiveRecord, was tricky, and searches were slow.  Now I&#8217;ve got everything stored directly in a <a href="http://lucene.apache.org/solr/">Solr</a> index, which is very fast for searching.   But it&#8217;s not so great when I want to change, say, how I convert the source PDFs into HTML, and I have to re-index half a million documents.  And it can&#8217;t store structured data very well, so I augment it with serialized hash tables and SQLite.</p>
<p>What I want is a storage engine that combines properties of a relational database and a full-text search engine.  It would put structured fields into SQL-like tables and unstructured fields into an inverted index for text searches.  I want to be able to do queries that combine structured and unstructured data, like &#8220;cases decided in the Second Circuit between 1990 and 2000 that cite <a href="http://altlaw.org/v1/cases/396430">Sony v. Universal</a> and contain the phrase &#8216;fair use&#8217;.&#8221;  I also want to store metadata <em>about</em> my metadata, like where it came from, how accurate I think it is, etc.</p>
<p>I&#8217;ve been exploring some interesting alternatives: <a href="http://couchdb.org/">CouchDB</a> is probably the closest to what I want, but it&#8217;s still under heavy development.  <a href="http://www.dspace.org/">DSpace</a> is oriented more towards archival than search.  Then there&#8217;s the big <a href="http://www.w3.org/RDF/">RDF</a> monster, maybe the most flexible data model ever, which makes it correspondingly difficult to grasp.</p>
<p>I&#8217;m come to the conclusion that there is no perfect data model.  Or, to put it another way, no storage engine is going to do my work for me.  What I need to do is come up with a solid, flexible API that provides just the features I need, then put that API in front of one or more back-ends (Lucene, SQL, the filesystem) that handle whatever they&#8217;re best at.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2008/02/08/in-search-of-the-grand-unified-data-model.html" rel="bookmark"><time class="entry-date published updated" datetime="2008-02-08T16:55:28+00:00">February 8, 2008</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="couchdb.html" rel="tag">CouchDB</a>, <a href="database.html" rel="tag">database</a>, <a href="dspace.html" rel="tag">DSpace</a>, <a href="ferret.html" rel="tag">Ferret</a>, <a href="lucene.html" rel="tag">Lucene</a>, <a href="rdf.html" rel="tag">RDF</a>, <a href="solr.html" rel="tag">Solr</a>, <a href="sql.html" rel="tag">SQL</a></span><span class="comments-link"><a href="../2008/02/08/in-search-of-the-grand-unified-data-model.html#comments">3 Comments<span class="screen-reader-text"> on In Search of the Grand Unified Data Model</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

		</main><!-- .site-main -->
	</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="search-3" class="widget widget_search">
<form role="search" method="get" class="search-form" action="https://stuartsierra.com/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</section><section id="text-4" class="widget widget_text">			<div class="textwidget"><ul>
<li><a href="http://feeds2.feedburner.com/StuartSierra" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="../comments/feed" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
</ul>
<ul>
<li><a href="https://twitter.com/stuartsierra">Twitter</a></li>
<li><a href="https://github.com/stuartsierra">GitHub</a></li>
</ul></div>
		</section><section id="tag-widget-2" class="widget TagWidget"><h2 class="widget-title">Clojure Do’s and Don’ts</h2><ul class = "posts-by-tag-list"><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-883"><a class = "posts-by-tag-item-title" href="../2015/08/25/clojure-donts-lazy-effects.html">Clojure Don’ts: Lazy Effects</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-877"><a class = "posts-by-tag-item-title" href="../2015/08/10/clojure-donts-redundant-map.html">Clojure Don’ts: Redundant map</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-870"><a class = "posts-by-tag-item-title" href="../2015/06/16/clojure-donts-single-branch-if.html">Clojure Don’ts: Single-branch if</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-854"><a class = "posts-by-tag-item-title" href="../2015/06/10/clojure-donts-heisenparameter.html">Clojure Don’ts: The Heisenparameter</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-849"><a class = "posts-by-tag-item-title" href="../2015/06/01/clojure-donts-optional-arguments-with-varargs.html">Clojure Don’ts: Optional Arguments with Varargs</a></li><li class="posts-by-tag-item Clojure do's and don'ts errors" id="posts-by-tag-item-836"><a class = "posts-by-tag-item-title" href="../2015/05/27/clojure-uncaught-exceptions.html">Clojure Do’s: Uncaught Exceptions</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-831"><a class = "posts-by-tag-item-title" href="../2015/05/17/clojure-record-constructors.html">Record Constructors</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-826"><a class = "posts-by-tag-item-title" href="../2015/05/10/clojure-namespace-aliases.html">Clojure Do’s: Namespace Aliases</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-820"><a class = "posts-by-tag-item-title" href="../2015/05/02/clojure-donts-isa.html">Clojure Don’ts: isa?</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-812"><a class = "posts-by-tag-item-title" href="../2015/04/26/clojure-donts-concat.html">Clojure Don’ts: Concat</a></li></ul></section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="Footer Primary Menu">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="primary-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="../about-me.html">About Me</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-633"><a href="../writing.html">Writing</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="../presentations.html">Presentations</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="../software.html">Software</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="../contact.html">Contact</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
			
			<div class="site-info">
								<span class="site-title"><a href="../index.html" rel="home">Digital Digressions by Stuart Sierra</a></span>
				<a href="https://wordpress.org/">Proudly powered by WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

	<div style="display:none">
	<div class="grofile-hash-map-55878d0196b91803f9cb2c372b0551d3">
	</div>
	</div>
<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201635'></script>
<script type='text/javascript' src='https://secure.gravatar.com/js/gprofiles.js?ver=2016Sepaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/jetpack/modules/wpgroho167b.js?ver=4.6'></script>
<script type='text/javascript' src='../wp-content/themes/twentysixteen/js/skip-link-focus-fix8de4.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/themes/twentysixteen/js/functions8de4.js?ver=20160816'></script>
<script type='text/javascript' src='../wp-includes/js/wp-embed.min167b.js?ver=4.6'></script>
<script type='text/javascript' src='https://stats.wp.com/e-201635.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.2.2',blog:'2702563',post:'0',tz:'-4',srv:'stuartsierra.com'} ]);
	_stq.push([ 'clickTrackerInit', '2702563', '0' ]);
</script>
</body>

<!-- Mirrored from stuartsierra.com/tag/rdf by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 16:58:10 GMT -->
</html>

<!-- Dynamic page generated in 0.361 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2016-09-02 12:56:05 -->

<!-- Compression = gzip -->
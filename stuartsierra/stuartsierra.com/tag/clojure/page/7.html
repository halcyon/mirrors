<!DOCTYPE html>
<html lang="en-US" class="no-js">

<!-- Mirrored from stuartsierra.com/tag/clojure/page/7 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 16:57:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Clojure &#8211; Page 7 &#8211; Digital Digressions by Stuart Sierra</title>
<link rel='dns-prefetch' href='http://s0.wp.com/'>
<link rel='dns-prefetch' href='http://secure.gravatar.com/'>
<link rel='dns-prefetch' href='http://fonts.googleapis.com/'>
<link rel='dns-prefetch' href='http://s.w.org/'>
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Feed" href="http://feeds2.feedburner.com/StuartSierra" />
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Comments Feed" href="../../../comments/feed" />
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Clojure Tag Feed" href="http://feeds2.feedburner.com/StuartSierra" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/stuartsierra.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='twentysixteen-jetpack-css'  href='../../../wp-content/plugins/jetpack/modules/theme-tools/compat/twentysixteen3a05.css?ver=4.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='../../../wp-content/plugins/jetpack/_inc/genericons/genericons/genericons128b.css?ver=3.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-style-css'  href='../../../wp-content/themes/twentysixteen/style167b.css?ver=4.6' type='text/css' media='all' />
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='jetpack_css-css'  href='../../../wp-content/plugins/jetpack/css/jetpack3a05.css?ver=4.2.2' type='text/css' media='all' />
<script type='text/javascript' src='../../../wp-includes/js/jquery/jqueryb8ff.js?ver=1.12.4'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/jquery-migrate.min330a.js?ver=1.4.1'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://stuartsierra.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<link rel='https://api.w.org/' href='../../../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6" />

<link rel='dns-prefetch' href='http://v0.wordpress.com/'>
</head>

<body class="archive paged tag tag-clojure tag-47 paged-7 tag-paged-7 hfeed">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="../../../index.html" rel="home">Digital Digressions by Stuart Sierra</a></p>
											<p class="site-description">From programming to everything else</p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">Menu</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="Primary Menu">
								<div class="menu-main-menu-container"><ul id="menu-main-menu" class="primary-menu"><li id="menu-item-635" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="../../../about-me.html">About Me</a></li>
<li id="menu-item-633" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-633"><a href="../../../writing.html">Writing</a></li>
<li id="menu-item-634" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="../../../presentations.html">Presentations</a></li>
<li id="menu-item-636" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="../../../software.html">Software</a></li>
<li id="menu-item-637" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="../../../contact.html">Contact</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

											<div class="header-image">
					<a href="../../../index.html" rel="home">
						<img src="../../../wp-content/uploads/2015/12/header.jpg" srcset="https://stuartsierra.com/wp-content/uploads/2015/12/header-300x70.jpg 300w, https://stuartsierra.com/wp-content/uploads/2015/12/header-768x179.jpg 768w, https://stuartsierra.com/wp-content/uploads/2015/12/header-1024x239.jpg 1024w, https://stuartsierra.com/wp-content/uploads/2015/12/header.jpg 1200w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 81vw, (max-width: 1362px) 88vw, 1200px" width="1200" height="280" alt="Digital Digressions by Stuart Sierra">
					</a>
				</div><!-- .header-image -->
					</header><!-- .site-header -->

		<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">Tag: Clojure</h1>			</header><!-- .page-header -->

			
<article id="post-256" class="post-256 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/07/22/clojure-talk-at-philly-lambda.html" rel="bookmark">Clojure talk at Philly Lambda</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>The folks at Philly Lambda, a Philadelphia functional-programming group, were kind enough to invite me down to talk about <a href="http://clojure.org/">Clojure</a> last night.  No video/audio recording, but here are my <a href="../../../download/clojure_slides_philly_2009-07-21.pdf">slides [PDF]</a>.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/07/22/clojure-talk-at-philly-lambda.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-07-22T11:11:14+00:00">July 22, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../clojure.html" rel="tag">Clojure</a>, <a href="../../lisp.html" rel="tag">Lisp</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-229" class="post-229 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/05/04/clojure-goes-10.html" rel="bookmark">Clojure Goes 1.0</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p><a href="http://clojure.org/">My favorite programming language</a> has made a 1.0 release!  [<a href="http://clojure.blogspot.com/2009/05/clojure-10.html">announcement</a>]</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/05/04/clojure-goes-10.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-05-04T10:18:50+00:00">May 4, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../clojure.html" rel="tag">Clojure</a>, <a href="../../lisp.html" rel="tag">Lisp</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-227" class="post-227 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/04/29/clojure-talk.html" rel="bookmark">CANCELED &#8211; Clojure Talk May 12</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p><strong>CANCELED:</strong> My presentation is canceled.  LispNYC will still meet at the Sunburnt Cow, 137 Avenue C, and I&#8217;ll be there to talk about Clojure.  But no slides, no video, etc.  My presentation is postponed to the June meeting.</p>
<hr />
<p>I&#8217;ll be talking about my work with <a href="http://www.clojure.org/">Clojure</a> at LispNYC on the evening of Tuesday, May 12.   Time and location to be announced.   Slides and (hopefully) video available after the fact.</p>
<p>Possible topics:</p>
<ul>
<li>Why Java + Lisp was such a great idea</li>
<li>Using Clojure with Java libraries like Hadoop &amp; Solr</li>
<li>Deploying a web server with Clojure and Restlet</li>
<li>Clojure libraries I&#8217;ve written, such as test-is</li>
</ul>
<p><strong>Official announcement with time &amp; location</strong>:<br />
from <a href="http://www.lispnyc.org/">LispNYC.org</a></p>
<p>Stuart Sierra presents: Implementing AltLaw.org in Clojure</p>
<p>This talk demonstrates the power of combining Clojure with large Java frameworks, such as:</p>
<ul>
<li>Hadoop &#8211; distributed map/reduce processing</li>
<li>Solr &#8211; text indexing/searching</li>
<li>Restlet &#8211; REST-oriented web framework</li>
<li>Jets3t &#8211; Amazon S3</li>
</ul>
<p>Join us from 7:00 &#8211; 9:00 at Trinity Church in the heart of the East Village. Afterward the discussion will continue at the Sunburnt Cow on 9th and C.</p>
<p>Directions to Trinity:</p>
<p>Trinity Lutheran<br />
602 E. 9th St. &amp; Ave B., on Tompkins Square Park<br />
<a rel="nofollow" href="http://trinitylowereastside.org/" target="_blank">http://trinitylowereastside.org/</a></p>
<p>From N,R,Q,W (8th Street NYU Stop) and the 4,5 (Astor Street<br />
Stop):<br />
Walk East 4 blocks on St. Marks, cross Tompkins Square Park.</p>
<p>From F&amp;V (2nd Ave Stop):<br />
Walk E one or two blocks, turn north for 8 short blocks</p>
<p>From L (1st Ave Stop):<br />
Walk E one block, turn sounth for 5 short blocks</p>
<p>The M9 bus line drops you off at the doorstep and the M15 is near get<br />
off on St. Marks &amp; 1st)</p>
<p>To get there by car, take the FDR (East River Drive) to Houston then go NW till you&#8217;re at 9th &amp; B.  Week-night parking isn&#8217;t bad at all, but if you&#8217;re paranoid about your Caddy or in a hurry, there is a parking garage on 9th between 1st and 3rd Ave.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/04/29/clojure-talk.html" rel="bookmark"><time class="entry-date published" datetime="2009-04-29T11:13:24+00:00">April 29, 2009</time><time class="updated" datetime="2009-05-11T19:15:25+00:00">May 11, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../clojure.html" rel="tag">Clojure</a>, <a href="../../lisp.html" rel="tag">Lisp</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-211" class="post-211 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/02/22/its-about-the-libraries.html" rel="bookmark">It&#8217;s About the Libraries</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>There&#8217;s a big &#8216;ol <a href="http://groups.google.com/group/comp.lang.lisp/browse_thread/thread/0d05837df1efe075">thread</a> going on down at comp.lang.lisp about <a href="http://clojure.org/">Clojure</a> vs. Common Lisp. I&#8217;m biased, of course, but I have to say that Clojure and Rich Hickey are holding their own against some of the top c.l.l. flamers.</p>
<p>But all the arguments about functional programming, software transactional memory, and reader macros miss what was, for me, the biggest reason to switch to Clojure.  <em>It&#8217;s about the libraries, stupid.</em>  Building on the JVM and providing direct access to Java classes/methods was the best decision in Clojure&#8217;s design.  &#8216;Cause if it&#8217;s ever been done, anywhere, by anyone, someone&#8217;s done it in Java.  Twice.</p>
<p>A few years ago, I tried to solve the Common Lisp library problem by writing a <a href="../../../software/perl-in-lisp.html">bridge from CL to Perl 5</a>, and was laughed out of town.  Rich Hickey, I&#8217;m told, spent years trying to bridge CL to Java, and never got very far.  But Clojure works, and it works great.  It&#8217;s a Lisp with a squintillion libraries.  Who else can claim that?</p>
<p>So, if I wanted Lisp with Java libraries, why not use <a href="http://www.gnu.org/software/kawa/">Kawa</a> or <a href="http://common-lisp.net/project/armedbear/">ABCL</a> &#8230; or heck, <a href="http://jruby.codehaus.org/">JRuby</a>?  Those are all fine projects, but they all suffer from mismatches between the &#8220;source&#8221; language (Scheme, CL, Ruby) and the &#8220;host&#8221; language (Java).  There is never a one-to-one mapping between types in the source language and types in the host language.  So you end up needing conversions like <a href="http://trac.common-lisp.net/armedbear/browser/trunk/abcl/examples/abcl/javacall_from_lisp/lispfunctions.lisp">jclass/jmethod/jcall</a> (ABCL) or <a href="http://www.gnu.org/software/kawa/internals/low-level.html">primitive-static-method</a> (Kawa).  (<a href="http://jruby.codehaus.org/Java+Integration">JRuby is slightly better</a>, but only because Ruby is closer to Java than CL/Scheme.)</p>
<p>Clojure doesn&#8217;t have this problem because it was designed from the ground up for the JVM.  Clojure strings are java.lang.String, Clojure maps are java.util.Map, even Clojure functions are java.lang.Runnable (and java.lang.Callable).  This makes it supremely easy to mix-n-match Clojure code with Java libraries and vice-versa.  I know, because every day I use Clojure with complex Java libraries like <a href="http://hadoop.apache.org/core/">Hadoop</a>, <a href="http://www.restlet.org/">Restlet</a>, <a href="http://lucene.apache.org/">Lucene</a>, and <a href="http://lucene.apache.org/solr/">Solr</a>.  Everything just works.  I don&#8217;t have to write any foreign-function interfaces or bridge code.  In fact, using Java libraries in Clojure is often easier than using them in Java!</p>
<p>Clojure may not be a programming language for the <a href="http://www.paulgraham.com/hundred.html">next hundred years</a>, as Arc aspires to be.  But it&#8217;s a great language if you want to get stuff done right now.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/02/22/its-about-the-libraries.html" rel="bookmark"><time class="entry-date published" datetime="2009-02-22T01:46:03+00:00">February 22, 2009</time><time class="updated" datetime="2009-02-22T01:46:40+00:00">February 22, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../clojure.html" rel="tag">Clojure</a>, <a href="../../lisp.html" rel="tag">Lisp</a></span><span class="comments-link"><a href="../../../2009/02/22/its-about-the-libraries.html#comments">11 Comments<span class="screen-reader-text"> on It&#8217;s About the Libraries</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-195" class="post-195 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp tag-rspec tag-testing">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2009/01/18/tests-are-code.html" rel="bookmark">Tests Are Code</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>It&#8217;s interesting to see the first signs of <a href="http://dablog.rubypal.com/2008/11/30/probative-programming-the-physical-unification-of-code-and-tests">rebellion against RSpec</a>. I jumped on the RSpec bandwagon when it first appeared, mostly so I wouldn&#8217;t have to write &#8220;assert_equals&#8221; all the time. But while I liked and used RSpec, I don&#8217;t think it made my tests any better. If anything, they were a little bit worse. I found myself testing things that were not really relevant to the code I was writing, asserting obvious things like &#8220;a newly-created record should be empty.&#8221;</p>
<p>When I got interested in <a href="http://clojure.org/">Clojure</a>, one of the first things I wrote was a testing library called &#8220;test-is&#8221;. I borrowed from a lot of Common Lisp testing frameworks, especially the idea of a generic assertion macro called &#8220;is&#8221;. It looks like this:</p>
<pre>(deftest test-my-function
  (is (= 7 (my-function 3 4)))
  (is (even? (my-function 10 2))))</pre>
<p>This is pretty basic, but it&#8217;s sufficient for low-level unit testing. So far, I think that&#8217;s how the library has been typically used. There have been occasional requests, however, for RSpec-style syntax. I can see how this would be useful for testing at a level higher than individual functions, but I have come to believe that the added semantics of RSpec are not really necessary.</p>
<p>Right now, the test-is library is built on the same abstractions as Clojure itself. Tests are functions, so you can apply all the same tools that already exist for handling functions. Tests can be called by name, organized into namespaces, and composed. There is almost no extra bookkeeping code that I need to write to make all of this work.</p>
<p>In contrast, if I were to adopt the RSpec style, I would have to write code to call, store, and organize tests. That&#8217;s more work for me, and ultimately restricts the flexibility of the library for people who use it. Furthermore, RSpec has its own set of semantics, above and beyond the language itself, which must be learned.</p>
<p>This is my first experience supporting a library for anyone other than myself, and I don&#8217;t want to force anyone into a particular style. A library like RSpec is a complete environment that attempts to anticipate all possible usage scenarios, so it&#8217;s grown correspondingly complicated.  I want to provide a set of small tools, that can be combined with other tools to do interesting things. </p>
<p>Of course, by making that decision I&#8217;m already dictating, to some extent, how the library can be used. But really, what I&#8217;m trying to do is set limits for myself. I will commit to providing a flexible, extensible set of functions and macros for writing tests. I am explicitly not trying to provide a complete testing framework. If someone wants to build an RSpec-style framework on top of test-is, more power to them. I will happily try to make test-is easier to integrate into that framework.</p>
<p>But there&#8217;s one other thing that struck me about that article that I linked to at the beginning &#8212; the idea of putting tests and code in the same file. I think that&#8217;s a great idea, and Clojure comes ready-made to implement it. Clojure supports the idea of &#8220;metadata&#8221; on definitions. You can attach a set of arbitrary properties to any object, without affecting the value of that object.</p>
<p>It&#8217;s easy to attach a test function as metadata on a definition in Clojure, but the syntax is a little ugly, and there is no easy way to remove the tests from production code. So I came up with in addition to my library, the &#8220;with-test&#8221; macro. It lets you wrap any definition in a set of tests. It looks like this:</p>
<pre>(with-test
 (defn add-numbers [a b]
   (+ a b))
 (is (= 7 (add-numbers 3 4)))
 (is (= -4 (add-numbers -6 2))))</pre>
<p>This is equivalent to adding metadata to the function, but the syntax is a little cleaner. I&#8217;ve also added a global variable, &#8220;*load-tests*&#8221;, which can be set to false to omit tests when loading production code.</p>
<p>I like having each function right next to its tests. It makes it easier to remember to write tests, and easier to see how the function is supposed to behave. So to the extent that test-is will promote a testing style, this is it.  But it&#8217;s a pretty radical departure from the traditional style of testing, so I&#8217;m not sure how others will react to it.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2009/01/18/tests-are-code.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-01-18T12:04:21+00:00">January 18, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../clojure.html" rel="tag">Clojure</a>, <a href="../../lisp.html" rel="tag">Lisp</a>, <a href="../../rspec.html" rel="tag">RSpec</a>, <a href="../../testing.html" rel="tag">testing</a></span><span class="comments-link"><a href="../../../2009/01/18/tests-are-code.html#comments">6 Comments<span class="screen-reader-text"> on Tests Are Code</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-177" class="post-177 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp tag-semantic-web">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2008/08/08/clojure-for-the-semantic-web.html" rel="bookmark">Clojure for the Semantic Web</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>I dropped in to hear Rich Hickey talk about <a href="http://clojure.org/">Clojure</a> at the <a href="http://semweb.meetup.com/25/calendar/8344273/">New York Semantic Web</a> meetup group.  Some highlights:</p>
<p>• Some programs, like compilers or theorem provers, are themselves functions.  They take input and produce output.  Purely functional languages like Haskell are good for these kinds of programs.  But other programs, like GUIs or automation systems, are not functions.  For example, a program that runs continously for months or years is not a function in the mathematical sense.  Clojure is mostly functional, but not purely functional.</p>
<p>• Most Clojure programmers go through an arc.  First they think &#8220;eww, Java&#8221; and try to hide all the Java.  Then they think &#8220;ooh, Java&#8221; and realize that Clojure is a powerful way to write Java code.  Rich frowns upon &#8220;wrapper&#8221; functions in Clojure that do nothing but wrap a Java method.  Calling the Java method directly is faster and easier to look up in JavaDoc.</p>
<p>• Rich recommended a paper, <a href="http://lambda-the-ultimate.org/node/1446">Out of the Tar Pit</a>, for a discussion of functional and relational techniques to manage state.</p>
<p>• Clojure&#8217;s data structures are <em>persistent</em>.  This isn&#8217;t persistent in the stored-in-a-database sense.  It refers to immutability.  For example, adding an element to a vector creates a new vector that shares structure with the old one.  Because all data structures are immutable, this is both safe and efficient.  Clojure&#8217;s hash maps, for example, have time complexity of log-base-32, which is so small it&#8217;s practically constant.</p>
<p>• The first thing Rich did when experimenting with the semantic web was to pull data out of the Jena API and get it into Clojure data structures.  That allows him to leverage the full power of Clojure&#8217;s data manipulation functions.  This opens up a world of possibilities that he wouldn&#8217;t have if he stuck with Jena objects.  Basically, having your data trapped inside objects is bad, because you&#8217;re limited to whatever methods those objects provide.  With generic data structures, you can re-use and compose all the functions that Clojure already provides.</p>
<p>Screencasts and code from the talk should appear soon &#8212; watch clojure.org or the Clojure Google group for an announcement.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2008/08/08/clojure-for-the-semantic-web.html" rel="bookmark"><time class="entry-date published updated" datetime="2008-08-08T11:08:08+00:00">August 8, 2008</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../clojure.html" rel="tag">Clojure</a>, <a href="../../lisp.html" rel="tag">Lisp</a>, <a href="../../semantic-web.html" rel="tag">semantic web</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-160" class="post-160 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2008/06/10/more-clojure-love.html" rel="bookmark">More Clojure Love</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>I dropped by the Java Users&#8217; Group meeting last week since Rich Hickey was there to talk about <a href="http://clojure.org/">Clojure</a>.</p>
<p>I expected a bit of carping from the Java guys, and at first they were all &#8220;<em>efficiency</em> this&#8221; and &#8220;<em>security</em> that.&#8221;  But by mid-way through the talk I think they were getting it.  A few even got excited about macros.</p>
<p>If I didn&#8217;t make it clear in my <a href="../../../2007/11/15/clojure-a-lisp-worth-talking-about.html">first post about Clojure</a>, I like this language.  Here&#8217;s some more reasons why:</p>
<ol>
<li>All binding constructs &#8212; let, defn, and the like &#8212; perform destructuring.</li>
<li>Universal data structures &#8212; vector, list, map, set.</li>
<li>Built-in java.util.regex support.</li>
<li>Sixty squintillion Java libraries.</li>
<li>A small but growing number of <a href="http://sourceforge.net/projects/clojure-contrib">Clojure libraries</a>, some written by yours truly.</li>
<li>You can generate Java .class files that run Clojure code.</li>
<li>Lightning-fast bug fixes from the author.</li>
</ol>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2008/06/10/more-clojure-love.html" rel="bookmark"><time class="entry-date published updated" datetime="2008-06-10T16:45:19+00:00">June 10, 2008</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../clojure.html" rel="tag">Clojure</a>, <a href="../../lisp.html" rel="tag">Lisp</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-130" class="post-130 post type-post status-publish format-standard hentry category-programming tag-arc tag-clojure tag-lisp tag-paul-graham">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2008/01/31/arc.html" rel="bookmark">Arc</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>The most famous piece of Lisp-related vaporware is vapor no longer: <a href="http://paulgraham.com/arc0.html">Arc has been released</a>.  After paging through the tutorial, I&#8217;m a bit underwhelmed.  It looks like just a bunch of syntactic sugar implemented on top of Scheme.  <a href="http://clojure.sourceforge.net/">Clojure</a> is more interesting and more innovative.  Clojure and Arc have some things in common: data structures are functions on their keys, strings are sequences, and lambda is &#8220;fn&#8221;.  But Arc seems to be more in the traditional, semi-imperative model whereas Clojure borrows heavily from functional programming.  Arc even has for-loops, for goodness sakes.  Obviously, I have no idea what else Paul Graham may have up his sleeve, so maybe there&#8217;s much more exciting stuff to come.  But for now Arc looks to me like a modest improvement on Common Lisp / Scheme rather than a major new language.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2008/01/31/arc.html" rel="bookmark"><time class="entry-date published updated" datetime="2008-01-31T23:52:09+00:00">January 31, 2008</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../arc.html" rel="tag">Arc</a>, <a href="../../clojure.html" rel="tag">Clojure</a>, <a href="../../lisp.html" rel="tag">Lisp</a>, <a href="../../paul-graham.html" rel="tag">Paul Graham</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

	<nav class="navigation pagination" role="navigation">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><a class="prev page-numbers" href="6.html">Previous page</a>
<a class='page-numbers' href='../index.html'><span class="meta-nav screen-reader-text">Page </span>1</a>
<span class="page-numbers dots">&hellip;</span>
<a class='page-numbers' href='6.html'><span class="meta-nav screen-reader-text">Page </span>6</a>
<span class='page-numbers current'><span class="meta-nav screen-reader-text">Page </span>7</span></div>
	</nav>
		</main><!-- .site-main -->
	</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="search-3" class="widget widget_search">
<form role="search" method="get" class="search-form" action="https://stuartsierra.com/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</section><section id="text-4" class="widget widget_text">			<div class="textwidget"><ul>
<li><a href="http://feeds2.feedburner.com/StuartSierra" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="../../../comments/feed" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
</ul>
<ul>
<li><a href="https://twitter.com/stuartsierra">Twitter</a></li>
<li><a href="https://github.com/stuartsierra">GitHub</a></li>
</ul></div>
		</section><section id="tag-widget-2" class="widget TagWidget"><h2 class="widget-title">Clojure Do’s and Don’ts</h2><ul class = "posts-by-tag-list"><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-883"><a class = "posts-by-tag-item-title" href="../../../2015/08/25/clojure-donts-lazy-effects.html">Clojure Don’ts: Lazy Effects</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-877"><a class = "posts-by-tag-item-title" href="../../../2015/08/10/clojure-donts-redundant-map.html">Clojure Don’ts: Redundant map</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-870"><a class = "posts-by-tag-item-title" href="../../../2015/06/16/clojure-donts-single-branch-if.html">Clojure Don’ts: Single-branch if</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-854"><a class = "posts-by-tag-item-title" href="../../../2015/06/10/clojure-donts-heisenparameter.html">Clojure Don’ts: The Heisenparameter</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-849"><a class = "posts-by-tag-item-title" href="../../../2015/06/01/clojure-donts-optional-arguments-with-varargs.html">Clojure Don’ts: Optional Arguments with Varargs</a></li><li class="posts-by-tag-item Clojure do's and don'ts errors" id="posts-by-tag-item-836"><a class = "posts-by-tag-item-title" href="../../../2015/05/27/clojure-uncaught-exceptions.html">Clojure Do’s: Uncaught Exceptions</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-831"><a class = "posts-by-tag-item-title" href="../../../2015/05/17/clojure-record-constructors.html">Record Constructors</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-826"><a class = "posts-by-tag-item-title" href="../../../2015/05/10/clojure-namespace-aliases.html">Clojure Do’s: Namespace Aliases</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-820"><a class = "posts-by-tag-item-title" href="../../../2015/05/02/clojure-donts-isa.html">Clojure Don’ts: isa?</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-812"><a class = "posts-by-tag-item-title" href="../../../2015/04/26/clojure-donts-concat.html">Clojure Don’ts: Concat</a></li></ul></section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="Footer Primary Menu">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="primary-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="../../../about-me.html">About Me</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-633"><a href="../../../writing.html">Writing</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="../../../presentations.html">Presentations</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="../../../software.html">Software</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="../../../contact.html">Contact</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
			
			<div class="site-info">
								<span class="site-title"><a href="../../../index.html" rel="home">Digital Digressions by Stuart Sierra</a></span>
				<a href="https://wordpress.org/">Proudly powered by WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

	<div style="display:none">
	<div class="grofile-hash-map-55878d0196b91803f9cb2c372b0551d3">
	</div>
	</div>
<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201635'></script>
<script type='text/javascript' src='https://secure.gravatar.com/js/gprofiles.js?ver=2016Sepaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/plugins/jetpack/modules/wpgroho167b.js?ver=4.6'></script>
<script type='text/javascript' src='../../../wp-content/themes/twentysixteen/js/skip-link-focus-fix8de4.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/themes/twentysixteen/js/functions8de4.js?ver=20160816'></script>
<script type='text/javascript' src='../../../wp-includes/js/wp-embed.min167b.js?ver=4.6'></script>
<script type='text/javascript' src='https://stats.wp.com/e-201635.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.2.2',blog:'2702563',post:'0',tz:'-4',srv:'stuartsierra.com'} ]);
	_stq.push([ 'clickTrackerInit', '2702563', '0' ]);
</script>
</body>

<!-- Mirrored from stuartsierra.com/tag/clojure/page/7 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 16:57:31 GMT -->
</html>

<!-- Dynamic page generated in 0.366 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2016-09-02 12:55:49 -->

<!-- Compression = gzip -->
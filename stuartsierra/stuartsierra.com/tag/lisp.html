<!DOCTYPE html>
<html lang="en-US" class="no-js">

<!-- Mirrored from stuartsierra.com/tag/lisp by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 16:58:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Lisp &#8211; Digital Digressions by Stuart Sierra</title>
<link rel='dns-prefetch' href='http://s0.wp.com/'>
<link rel='dns-prefetch' href='http://secure.gravatar.com/'>
<link rel='dns-prefetch' href='http://fonts.googleapis.com/'>
<link rel='dns-prefetch' href='http://s.w.org/'>
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Feed" href="http://feeds2.feedburner.com/StuartSierra" />
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Comments Feed" href="../comments/feed" />
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Lisp Tag Feed" href="http://feeds2.feedburner.com/StuartSierra" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/stuartsierra.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='twentysixteen-jetpack-css'  href='../wp-content/plugins/jetpack/modules/theme-tools/compat/twentysixteen3a05.css?ver=4.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='../wp-content/plugins/jetpack/_inc/genericons/genericons/genericons128b.css?ver=3.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-style-css'  href='../wp-content/themes/twentysixteen/style167b.css?ver=4.6' type='text/css' media='all' />
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='jetpack_css-css'  href='../wp-content/plugins/jetpack/css/jetpack3a05.css?ver=4.2.2' type='text/css' media='all' />
<script type='text/javascript' src='../wp-includes/js/jquery/jqueryb8ff.js?ver=1.12.4'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min330a.js?ver=1.4.1'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://stuartsierra.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<link rel='https://api.w.org/' href='../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6" />

<link rel='dns-prefetch' href='http://v0.wordpress.com/'>
</head>

<body class="archive tag tag-lisp tag-4 hfeed">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="../index.html" rel="home">Digital Digressions by Stuart Sierra</a></p>
											<p class="site-description">From programming to everything else</p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">Menu</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="Primary Menu">
								<div class="menu-main-menu-container"><ul id="menu-main-menu" class="primary-menu"><li id="menu-item-635" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="../about-me.html">About Me</a></li>
<li id="menu-item-633" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-633"><a href="../writing.html">Writing</a></li>
<li id="menu-item-634" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="../presentations.html">Presentations</a></li>
<li id="menu-item-636" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="../software.html">Software</a></li>
<li id="menu-item-637" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="../contact.html">Contact</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

											<div class="header-image">
					<a href="../index.html" rel="home">
						<img src="../wp-content/uploads/2015/12/header.jpg" srcset="https://stuartsierra.com/wp-content/uploads/2015/12/header-300x70.jpg 300w, https://stuartsierra.com/wp-content/uploads/2015/12/header-768x179.jpg 768w, https://stuartsierra.com/wp-content/uploads/2015/12/header-1024x239.jpg 1024w, https://stuartsierra.com/wp-content/uploads/2015/12/header.jpg 1200w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 81vw, (max-width: 1362px) 88vw, 1200px" width="1200" height="280" alt="Digital Digressions by Stuart Sierra">
					</a>
				</div><!-- .header-image -->
					</header><!-- .site-header -->

		<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">Tag: Lisp</h1>			</header><!-- .page-header -->

			
<article id="post-749" class="post-749 post type-post status-publish format-standard hentry category-programming tag-build-tools tag-clojure tag-java tag-lisp tag-maven tag-workflow">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2013/11/04/command-line-intransigence.html" rel="bookmark">Command-Line Intransigence</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p> In the early days of Clojure, I was skeptical of Clojure-specific build tools like <a href="https://github.com/stuarthalloway/lancet">Lancet</a>, <a href="http://leiningen.org/">Leiningen</a>, and <a href="https://github.com/flatland/cake">Cake</a>. Why would Clojure, a part of the Java ecosystem, need its own build tool when there were already so many Java-based tools? </p>
<p> At the time, I thought <a href="http://maven.apache.org/">Maven</a> was the last word in build tooling. Early Leiningen felt like a thin wrapper around Maven for people with an inconsolable allergy to XML. Maven was the <i>serious</i> build tool, with a rich declarative model for describing dependency relationships among software artifacts. That model was imperfect, but it worked well enough to power one of the largest <a href="http://search.maven.org/">repositories</a> of open-source software on the planet. </p>
<p> But things change. Leiningen has evolved rapidly. Maven has also evolved, but more slowly, and the promised <a href="http://maven.40175.n5.nabble.com/What-happened-to-Polyglot-Maven-td5715529.html">non-XML POM syntax</a> (&#8220;polyglot Maven&#8221;) has not materialized. </p>
<p> Meanwhile, I learned <a href="http://nealford.com/memeagora/2013/01/22/why_everyone_eventually_hates_maven.html">why everyone eventually hates Maven</a>, through the experience of crafting custom Maven builds for two large-ish projects: the Clojure language and its contributed libraries. It was a challenge to satisfy the (often conflicting) requirements of developers, continuous integration, source repositories, and the public Maven repository network. Even with the help of <a href="http://www.sonatype.com/resources/books">Maven books</a> from <a href="http://www.sonatype.com/">Sonatype</a>, it took months of trial and error and nearly all my &#8220;open-source&#8221; time to get everything working. </p>
<p> At the end of this process I discovered, to my dismay, that I was the only one who understood it. As my colleague Stuart Halloway put it, &#8220;Maven breeds heroes.&#8221; For end-users and developers, there&#8217;s a nice interface: Clojure-contrib library authors can literally <a href="http://dev.clojure.org/display/community/How+to+Make+Releases">click a button</a> to make a release. But behind that button are so many steps and moving parts (Git, Hudson, Maven, Nexus, GPG, and all the Maven plugins) that even I can barely remember how it all works. I never wanted to be the XML hero. </p>
<p> So I have come around to Leiningen, and even incorporate it into my Clojure development <a href="http://thinkrelevance.com/blog/2013/06/04/clojure-workflow-reloaded">workflow</a>. It&#8217;s had some bumps, as one might expect from a fast-moving open-source project with lots of contributors, but most of the time it does what I need and doesn&#8217;t get in the way. </p>
<p> What puzzles me, however, is the stubbornness of developers who want to do <i>everything</i> via Leiningen. Some days it seems like every new tool or development utility for Clojure comes wrapped up in a Leiningen plugin so it can be invoked at the command line. I don&#8217;t get it. When you have a Clojure REPL, why would you limit yourself to the UNIX shell? </p>
<p> I think this habit comes partly from scripting languages, which were born at the command line, and still live there to a great extent. But it puzzled me a bit even in Ruby: if it takes 3 seconds to for <code>rake</code> to load your 5000-line Rails app, do you really want to use <code>rake</code> for critical administrative tasks like database migrations? <a href="http://ruby-doc.org/docs/ProgrammingRuby/html/irb.html">IRB</a> <a href="http://stackoverflow.com/a/5673496">is not a REPL</a> in the Lisp sense, but it&#8217;s a pretty good interactive shell. I&#8217;d rather work with a large Ruby app in IRB than via <code>rake</code>. </p>
<p> <a href="https://github.com/technomancy/leiningen/wiki/Faster">Start-up time</a> remains a major concern for Leiningen, and its contributors have gone to great lengths (sometimes <a href="https://github.com/technomancy/leiningen/pull/1230">too far</a>) to ameliorate it. Why not just avoid the problem altogether? Start Leiningen once and then work at the REPL. Admittedly, this takes some discipline and careful application design, but on my own projects I&#8217;ve gotten to the point where I only need to launch Leiningen once a day. Occasionally I make a mistake and get my application into such a borked state that the only remedy is restarting the JVM, but those occasions are rare. </p>
<p> I pretty much use Leiningen for just three things: 1) getting dependencies, 2) building JARs, and 3) launching REPLs. Once I have a REPL I can do my real work: running my application, testing, and profiling. The feedback cycles are faster and the debugging options much richer than what I can get on the command-line. </p>
<p> &#8220;Build plugins,&#8221; for Leiningen or Maven or any other tool, always suffer from running in a different environment from the code they are building. But isn&#8217;t one of the central tenets of Lisp that the compiler is <i>part of</i> your application? There isn&#8217;t really a sharp boundary between &#8220;build&#8221; code and &#8220;application&#8221; code. It&#8217;s all just code. </p>
<p> I used to write little &#8220;command-line interfaces&#8221; for running tests, builds, deployments, and so on. Now I&#8217;m more likely to just put those functions in a Clojure namespace and call them from the REPL. Sometimes I wonder: why not go further? Use Leiningen (or Maven, or Gradle, or whatever) just to download dependencies and bootstrap a REPL, then execute builds and releases <i>from the REPL</i>. </p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2013/11/04/command-line-intransigence.html" rel="bookmark"><time class="entry-date published" datetime="2013-11-04T08:32:33+00:00">November 4, 2013</time><time class="updated" datetime="2014-01-01T12:05:19+00:00">January 1, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="build-tools.html" rel="tag">build tools</a>, <a href="clojure.html" rel="tag">Clojure</a>, <a href="java.html" rel="tag">Java</a>, <a href="lisp.html" rel="tag">Lisp</a>, <a href="maven.html" rel="tag">Maven</a>, <a href="workflow.html" rel="tag">workflow</a></span><span class="comments-link"><a href="../2013/11/04/command-line-intransigence.html#comments">7 Comments<span class="screen-reader-text"> on Command-Line Intransigence</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-314" class="post-314 post type-post status-publish format-standard hentry category-programming tag-clojure tag-java tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2009/09/22/its-about-the-platform.html" rel="bookmark">It&#8217;s About the Platform</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>I&#8217;ve said <a href="../2009/02/22/its-about-the-libraries.html">It&#8217;s About the Libraries</a>, and indeed, one of the major selling points of <a title="Clojure home page" href="http://clojure.org/">Clojure</a> is that it can call Java libraries directly.</p>
<p>But there&#8217;s more to it than that.  Libraries are just one benefit to building Clojure on top of Java, or, more accurately, on top of <em>Java the platform</em>.</p>
<p>Look around you, and you&#8217;ll see that 99% of all the software in the world runs on just three platforms:</p>
<ol>
<li>Unix/C</li>
<li>Java Virtual Machine</li>
<li>.NET Common Language Runtime</li>
</ol>
<p>Where did these platforms come from?  Let&#8217;s see:</p>
<ol>
<li>AT&amp;T</li>
<li>Sun</li>
<li>Microsoft</li>
</ol>
<p>Notice something?  All three were all developed by huge corporations.</p>
<p>Building a new platform isn&#8217;t just about writing the code.  In fact, very little of it is about code.  You need books, articles, conferences, workshops, and university courses.  You need multinational corporations to trust their entire business to your platform.  It takes millions of dollars and tens of thousands of hours of labor to create a new platform.  Think of the massive ad campaigns Sun ran for Java.  Can you do that?  Of course not.</p>
<p>So when you&#8217;re designing a new language, you have to build on an existing platform.  Most of the so-called &#8220;scripting&#8221; languages grew up on Unix, so they&#8217;re written in C.  Now, Unix/C is a great platform, still going strong after 40 years.  It provides powerful tools and standardized interfaces such as files, sockets, and pipes.</p>
<p>The problem is that each of the &#8220;scripting&#8221; languages has developed into its own mini-platform.  Perl, Python, and Ruby each define their own set of data structures for fundamental types like strings, lists, and maps.  The only &#8220;types&#8221; that Unix recognizes are text and binary.  You can&#8217;t exchange data between two languages without serializing everything to some agreed-upon format.  And you can&#8217;t do callbacks between languages below the level of a whole process.</p>
<p>The other problem with languages written in C is, well, C.  Pointers are hard.  Memory management is hard.  I know from bitter experience that Ruby libraries can have segfaults or memory leaks.  That just doesn&#8217;t happen in Java.</p>
<p>Clojure was created to leverage capabilities of Java-the-platform &#8212; garbage collection, dynamic code generation, JIT compilation, threads, locks &#8212; some of which are difficult to use effectively in Java-the-language.  To implement Clojure in C, for example, you would first have to build your own platform with these features.  That&#8217;s effectively what most Common Lisp implementations do, and they suffer because the Common Lisp world is too small to sustain its own platform.</p>
<p>The brilliant thing about Java-the-platform is that it allows many languages to coexist.  I can mix code written in Java, Clojure, JRuby, Jython, etc. and it&#8217;s pretty easy, because they all implement the same fundamental interfaces like java.util.List and  java.lang.Runnable.  For example, right now I have Hadoop (Java code) calling Clojure code calling JRuby code.  It all just works.</p>
<p>(The .NET CLR provides similar capabilities, and there is a Clojure CLR port.)</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2009/09/22/its-about-the-platform.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-09-22T17:55:37+00:00">September 22, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="java.html" rel="tag">Java</a>, <a href="lisp.html" rel="tag">Lisp</a></span><span class="comments-link"><a href="../2009/09/22/its-about-the-platform.html#comments">1 Comment<span class="screen-reader-text"> on It&#8217;s About the Platform</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-295" class="post-295 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp tag-maven">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2009/09/04/cutting-edge-clojure-development-with-maven.html" rel="bookmark">Cutting-Edge Clojure Development with Maven</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>I promised, in my previous post, that I would show you how to use the latest-and-greatest versions of <a title="Clojure home page" href="http://clojure.org/">Clojure</a> and <a title="clojure-contrib home page" href="http://richhickey.github.com/clojure-contrib/">clojure-contrib</a> in your Maven projects.  Here&#8217;s that post.</p>
<p>Formos Software maintains a Maven server with nightly builds of Clojure and contrib at <a href="http://tapestry.formos.com/maven-snapshot-repository/">http://tapestry.formos.com/maven-snapshot-repository/</a></p>
<p>Here&#8217;s a complete <em>pom.xml</em> file with dependencies on both Clojure and clojure-contrib:</p>
<pre>&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;YOUR.GROUP.ID&lt;/groupId&gt;
  &lt;artifactId&gt;YOUR-PROJECT-NAME&lt;/artifactId&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;name&gt;YOUR-PROJECT-NAME&lt;/name&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.clojure&lt;/groupId&gt;
      &lt;artifactId&gt;clojure-lang&lt;/artifactId&gt;
      &lt;version&gt;1.1.0-alpha-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.clojure&lt;/groupId&gt;
      &lt;artifactId&gt;clojure-contrib&lt;/artifactId&gt;
      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;repositories&gt;
    &lt;repository&gt;
      &lt;id&gt;tapestry.formos.com&lt;/id&gt;
      &lt;name&gt;Formos Software snapshot repository&lt;/name&gt;
      &lt;url&gt;http://tapestry.formos.com/maven-snapshot-repository&lt;/url&gt;
    &lt;/repository&gt;
  &lt;/repositories&gt;
&lt;/project&gt;</pre>
<p>Yes, that&#8217;s a pile of XML. But it&#8217;s not that complicated once you break it down.  Here&#8217;s what&#8217;s going on:</p>
<h2>Dependencies</h2>
<p>The &lt;dependencies&gt; section lists the libraries our project depends on.  We have one &lt;dependency&gt; for Clojure (called <em>clojure-lang</em> in the Formos repository) and one for clojure-contrib.  We&#8217;re depending on <em>SNAPSHOT</em> versions, which tells Maven to follow the most recent version on a particular branch.</p>
<p>The current development branch of clojure-lang is called <em>1.1.0-alpha-SNAPSHOT</em>. The development branch of contrib, which has never had a formal release, is just <em>1.0-SNAPSHOT</em>.</p>
<p>How did I find these version numbers?  I just looked at the repository in a web browser.  In the <a title="clojure-lang directory on Formos Maven repository" href="http://tapestry.formos.com/maven-snapshot-repository/org/clojure/clojure-lang/">org/clojure/clojure-lang</a> directory I found directories named for each development branch, <em>1.0-SNAPSHOT</em>, <em>1.0.0-RC1-SNAPSHOT</em>, and <em>1.1.0-alpha-SNAPSHOT</em>.  I chose the latest one, <em>1.1.0-alpha-SNAPSHOT</em>.  Then I did the same with <a title="clojure-contrib directory on Formos Maven repository" href="http://tapestry.formos.com/maven-snapshot-repository/org/clojure/clojure-contrib/">clojure-contrib</a>.</p>
<p>If you look inside a branch directory like <a title="clojure-lang branch directory on Formos repository" href="http://tapestry.formos.com/maven-snapshot-repository/org/clojure/clojure-lang/1.1.0-alpha-SNAPSHOT/">1.1.0-alpha-SNAPSHOT</a>, you&#8217;ll find hundreds of files, one for each daily snapshot, named with timestamps.</p>
<h2>Repositories</h2>
<p>The &lt;repositories&gt; section tells Maven where to look for JAR files to download.  We added the Formos repository by specifying its URL.</p>
<p>The &lt;id&gt; and &lt;name&gt; tags inside &lt;repository&gt; are purely for our own reference.  Maven only cares about the URL. We could have used any id and name to describe the Formos repository; those names will be used in Maven&#8217;s console logging.</p>
<h2>Managing Dependency Versions</h2>
<p>The problem with tracking the latest snapshot is that sometimes there&#8217;s a release that breaks your code.  It might be a bug, or it might just be a change in behavior that makes the library incompatible with previous versions.</p>
<p>The <a title="Versions Maven Plugin home page" href="http://mojo.codehaus.org/versions-maven-plugin/">Versions Maven Plugin</a> can help to alleviate this problem by &#8220;locking&#8221; dependencies to specific releases and updating them in a controlled way.</p>
<p>First, we have to make the Versions plugin available to our project.  Do this by adding the following lines just before the final &lt;/project&gt; in your pom.xml:</p>
<pre>  &lt;pluginRepositories&gt;
    &lt;pluginRepository&gt;
      &lt;id&gt;Codehaus&lt;/id&gt;
      &lt;name&gt;Codehaus Maven Plugin Repository&lt;/name&gt;
      &lt;url&gt;http://repository.codehaus.org/org/codehaus/mojo&lt;/url&gt;
    &lt;/pluginRepository&gt;
  &lt;/pluginRepositories&gt;</pre>
<p>We&#8217;ve added a &#8220;plugin repository,&#8221; which is just a Maven repository that happens to contain Maven plugins.  (Technically, you don&#8217;t need to add this if your local Maven cache already has a copy of the Versions plugin, but putting it in <em>pom.xml</em> ensures that other developers coming to your project have access to all the same plugins.)</p>
<p>Now we can use the following mvn command:</p>
<pre>mvn versions:lock-snapshots</pre>
<p>This modifies your <em>pom.xml</em> file, setting the version string of every SNAPSHOT dependency to the current snapshot timestamp.  For example, when I run this command, I end up with the following:</p>
<pre>  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.clojure&lt;/groupId&gt;
      &lt;artifactId&gt;clojure-lang&lt;/artifactId&gt;
      &lt;version&gt;1.1.0-alpha-20090904.093041-38&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.clojure&lt;/groupId&gt;
      &lt;artifactId&gt;clojure-contrib&lt;/artifactId&gt;
      &lt;version&gt;1.0-20090904.093531-59&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;</pre>
<p>Now, whenever you build the project, you know exactly which Clojure release you&#8217;re getting.</p>
<p>So you work with a particular release for a while, then you want to upgrade to the latest one.  No problem!  Just run:</p>
<pre>mvn versions:unlock-snapshots
mvn -U install</pre>
<p>The first command modifies <em>pom.xml</em>, replacing all the timestamped version numbers with <em>SNAPSHOT</em> versions.</p>
<p>The <em>-U</em> option on the second command forces Maven to check for updated versions of all the snapshot dependencies.</p>
<p><strong>Note:</strong> Both lock-snapshots and unlock-snapshots create a backup file called <em>pom.xml.versionsBackup</em>.  To remove this file (and accept the Version Plugin&#8217;s changes to your <em>pom.xml</em>) run:</p>
<pre>mvn versions:commit</pre>
<p>Likewise, to go back to the <em>pom.xml</em> file you had before the Versions Plugin messed with it, run:</p>
<pre>mvn versions:revert</pre>
<h2>Explore</h2>
<p>There&#8217;s a lot more to the Versions plugin, and to Maven dependency management in general.  Check the <a href="http://mojo.codehaus.org/versions-maven-plugin/">documentation</a> for details.</p>
<p>Of course, the example here can be combined with the clojure-maven-plugin demonstrated in my previous post.  The syntax of the combined <em>pom.xml</em> file is left as an exercise for the reader.</p>
<p>One other thing: if you really want the absolute latest, up-to-the-second, still-hot-from-the-github version of something, there&#8217;s nothing for it but to use Git submodules.  I&#8217;ll demonstrate that in another post.</p>
<div id="_mcePaste" style="overflow: hidden; position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px;">&lt;dependencies&gt;<br />
&lt;dependency&gt;<br />
&lt;groupId&gt;org.clojure&lt;/groupId&gt;<br />
&lt;artifactId&gt;clojure-lang&lt;/artifactId&gt;<br />
&lt;version&gt;1.1.0-alpha-SNAPSHOT&lt;/version&gt;<br />
&lt;/dependency&gt;<br />
&lt;dependency&gt;<br />
&lt;groupId&gt;org.clojure&lt;/groupId&gt;<br />
&lt;artifactId&gt;clojure-contrib&lt;/artifactId&gt;<br />
&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;<br />
&lt;/dependency&gt;<br />
&lt;/dependencies&gt;<br />
&lt;pluginRepositories&gt;<br />
&lt;pluginRepository&gt;<br />
&lt;id&gt;Codehaus&lt;/id&gt;<br />
&lt;name&gt;Codehaus Maven Plugin Repository&lt;/name&gt;<br />
&lt;url&gt;http://repository.codehaus.org/org/codehaus/mojo/&lt;/url&gt;<br />
&lt;/pluginRepository&gt;<br />
&lt;/pluginRepositories&gt;</div>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2009/09/04/cutting-edge-clojure-development-with-maven.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-09-04T15:13:46+00:00">September 4, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="lisp.html" rel="tag">Lisp</a>, <a href="maven.html" rel="tag">Maven</a></span><span class="comments-link"><a href="../2009/09/04/cutting-edge-clojure-development-with-maven.html#comments">3 Comments<span class="screen-reader-text"> on Cutting-Edge Clojure Development with Maven</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-275" class="post-275 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp tag-maven">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2009/09/03/mavens-not-so-bad.html" rel="bookmark">Maven&#8217;s Not So Bad: Further Thoughts on Clojure Package Management</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Update Sept. 4: <a href="../2009/09/04/cutting-edge-clojure-development-with-maven.html">How to get the latest builds of Clojure &amp; Contrib</a></p>
<p><a title="Maven home page" href="http://maven.apache.org/">Maven</a> is a touchy subject.  People tend to have strong opinions about it.  But like it or not, it&#8217;s the de-facto standard for dependency management in the Java world.  <a title="Clojure home page" href="http://clojure.org/">Clojure</a> lives in the Java world, so that means we have to live with Maven.</p>
<p>Here are some good things about Maven:</p>
<ul>
<li>&#8220;Convention over configuration.&#8221;</li>
<li>Plugins are downloaded &amp; installed automatically.</li>
<li>Handles dependencies of dependencies.</li>
<li>Declarative configuration, not imperative like Ant.</li>
<li>Only stores one copy of each JAR, shared by all projects.</li>
</ul>
<p>Here are some bad things about Maven:</p>
<ul>
<li>XML configuration file.</li>
<li>Verbose command line options.</li>
<li><del datetime="2009-09-03T22:46:35+00:00">Doesn&#8217;t track latest source code of projects.</del> It does; see comments (Thanks, Tim!)</li>
<li>First run takes forever to download all the plugins.</li>
<li>Verbose console output.</li>
</ul>
<p>In my estimation, the good outweigh the bad.  And nothing outweighs the huge fact that <em>Maven is already there</em>.</p>
<p>So let&#8217;s develop a Clojure app using Maven.</p>
<h2>Step 1: Install Maven.</h2>
<p>If you don&#8217;t already have it, that is.  This is pretty easy, just visit <a title="Apache Maven home page" href="http://maven.apache.org/">maven.apache.org</a> and follow the instructions.</p>
<h2>Step 2: Create a new project.</h2>
<p>Type the following at the command line:</p>
<pre>mvn archetype:generate</pre>
<p>Maven will ask a series of questions:</p>
<ol>
<li><strong>archetype:</strong> At the <em>&#8220;Choose a number&#8221;</em> prompt, press enter to accept the default project type, <em>maven-archetype-quickstart</em>.</li>
<li><strong>groupId:</strong> Enter a name to identify yourself in the global Maven namespace.  All your Maven projects will use the same groupId.  This is typically a reverse domain name in the style of Java package names.  For example, I could use the groupId <em>com.stuartsierra</em></li>
<li><strong>artifactId:</strong> Enter a name to identify this specific project in the Maven repository.  For example, <em>my-great-clojure-library<br />
</em></li>
<li><strong>version:</strong> Press enter to accept the default, <em>1.0-SNAPSHOT</em></li>
<li><strong>package:</strong> Press enter to accept the default, which is the same as your groupId.</li>
<li><strong>Confirmation: </strong>Press enter.</li>
</ol>
<p>Now you have a directory named <em>my-great-clojure-library</em> containing the skeleton of a new Java project.</p>
<h2>Step 3: Configure your pom.xml.</h2>
<p>Go into your new project directory and edit the <em>pom.xml</em> file.  The basic information will already be filled out.</p>
<p>We can remove the dependency on JUnit, so delete these lines:</p>
<pre>    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;3.8.1&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;</pre>
<p>Then we need to add the Clojure Maven plugin, which tells Maven how to compile Clojure source code.  Before the final &lt;/project&gt; tag, add these lines:</p>
<pre>  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.theoryinpractise&lt;/groupId&gt;
        &lt;artifactId&gt;clojure-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;compile-clojure&lt;/id&gt;
            &lt;phase&gt;compile&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;</pre>
<p>We also need to add Clojure itself as a dependency of our project (the Clojure Maven plugin does not do this automatically).  Inside the &lt;dependencies&gt; tag, add the following lines:</p>
<pre>    &lt;dependency&gt;
      &lt;groupId&gt;org.clojure&lt;/groupId&gt;
      &lt;artifactId&gt;clojure&lt;/artifactId&gt;
      &lt;version&gt;1.0.0&lt;/version&gt;
    &lt;/dependency&gt;</pre>
<p>That&#8217;s if you want the official Clojure 1.0.0 release.  If you want a cutting-edge version, I&#8217;ll explain how in a later post.</p>
<h2>Step 4: Delete Java sources.</h2>
<p>Your project directory comes pre-equipped with two Java source directories at <em>src/main/java</em> and <em>src/test/java</em>.  You can delete both of them, unless, of course, you&#8217;re developing a mixed Clojure-Java project.</p>
<h2>Step 5: Add dependencies.</h2>
<p>If your project does anything interesting, chances are it&#8217;s going to depend on some external Java libraries.  You can find libraries in the public Maven repositories at <a title="Maven Repository search" href="http://www.mvnrepository.com/">mvnrepository.com</a>.  Search for a library name, and it will show you the code to put in your <em>pom.xml</em> file.</p>
<p>For example, say we want to use the Apache Commons IO library.  At mvnrepository.com, we find the dependency code for this library:</p>
<pre>  &lt;dependency&gt;
    &lt;groupId&gt;commons-io&lt;/groupId&gt;
    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;
    &lt;version&gt;1.4&lt;/version&gt;
  &lt;/dependency&gt;</pre>
<p>And we can add that inside the &lt;dependencies&gt; section of <em>pom.xml</em>.</p>
<h2>Step 6: Start coding!</h2>
<p>Create the directory <em>src/main/clojure</em>.  This is where all your .clj source files will go.</p>
<p>Follow the standard Clojure/Java convention for file names. That is, if you have a Clojure namespace called <em>my.great.library</em>, it should be in a file named <em>src/main/clojure/my/great/library.clj</em></p>
<h2>Step 7: Compile and install.</h2>
<p>Run the following command:</p>
<pre>mvn install</pre>
<p>That will compile all your .clj source files into Java .class files, package them into a JAR, and install that JAR in your local Maven cache.  On Unix-like systems, the cache should be at <em>~/.m2/repository/</em></p>
<h2>Step 8: Live and learn.</h2>
<p>There&#8217;s a whole lot more to learn about Maven.  It&#8217;s a very flexible tool, and it can do almost anything.  Yes, you will have to write some XML, but it&#8217;s really not that much.</p>
<p>Things I hope to cover in future posts:</p>
<ol>
<li>Using git submodules to track development versions of Clojure libraries.</li>
<li>Running tests written in Clojure.</li>
<li>Including .clj source files in your JAR.</li>
<li>Creating a stand-alone JAR including all dependencies.</li>
<li>Setting up a private Maven repository.</li>
</ol>
<p>I hope this was a reasonable introduction to developing with Maven and Clojure, and that I have shown that Maven isn&#8217;t nearly as scary as people make it out to be.  I think Maven suffered for a long time from poor documentation, but that&#8217;s changing rapidly.  I found the (free) book <a title="Maven Definitive Guide home page" href="http://www.sonatype.com/products/maven/documentation/book-defguide">Maven: The Definitive Guide</a> extremely helpful.</p>
<h2>Appendix: Complete pom.xml</h2>
<p>Here&#8217;s the complete pom.xml file for the project I developed in this post:</p>
<pre>&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;com.stuartsierra&lt;/groupId&gt;
  &lt;artifactId&gt;my-great-clojure-library&lt;/artifactId&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;name&gt;my-great-clojure-library&lt;/name&gt;
  &lt;url&gt;http://maven.apache.org&lt;/url&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.clojure&lt;/groupId&gt;
      &lt;artifactId&gt;clojure&lt;/artifactId&gt;
      &lt;version&gt;1.0.0&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;commons-io&lt;/groupId&gt;
      &lt;artifactId&gt;commons-io&lt;/artifactId&gt;
      &lt;version&gt;1.4&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.theoryinpractise&lt;/groupId&gt;
        &lt;artifactId&gt;clojure-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;compile-clojure&lt;/id&gt;
            &lt;phase&gt;compile&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;</pre>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2009/09/03/mavens-not-so-bad.html" rel="bookmark"><time class="entry-date published" datetime="2009-09-03T18:38:29+00:00">September 3, 2009</time><time class="updated" datetime="2009-09-05T00:00:00+00:00">September 5, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="lisp.html" rel="tag">Lisp</a>, <a href="maven.html" rel="tag">Maven</a></span><span class="comments-link"><a href="../2009/09/03/mavens-not-so-bad.html#comments">11 Comments<span class="screen-reader-text"> on Maven&#8217;s Not So Bad: Further Thoughts on Clojure Package Management</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-269" class="post-269 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2009/08/31/thoughts-on-clojure-package-management.html" rel="bookmark">Thoughts on Clojure Package Management</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Update Sept. 3: <a href="../2009/09/03/mavens-not-so-bad.html">Maven&#8217;s Not So Bad</a>.</p>
<p>A lot of Ruby types come to <a href="http://clojure.org/">Clojure</a> and ask, &#8220;Where&#8217;s the package manager?&#8221;  The answer is usually, &#8220;Maven or Ivy,&#8221; which isn&#8217;t really an answer.</p>
<p>I discussed this in the latter half of my Philly Lambda talk (<a href="../download/clojure_slides_philly_2009-07-21.pdf">PDF slides</a>).  The problem is that Clojure is built on Java, and any Clojure library that does something interesting is going to need some Java libraries beyond what the JDK provides.</p>
<p>Java has only one established dependency management system, Maven.  (Ivy is an alternative, but it uses the Maven repositories.)  Maven works, but it&#8217;s a big, complicated beast, built in the best giant-XML-configuration-file Java tradition.  It&#8217;s also slow to accept new libraries into the public repositories.  The <a href="http://repo1.maven.org/maven2/">central Maven 2 repository</a> contains fewer than 700 libraries.  <a href="http://rubyforge.org/">Rubyforge</a>, by contrast, lists over 8,000.</p>
<p>Maven seems to work well for large organizations that can benefit from setting up their own, private repositories, but it&#8217;s kind of a headache for the independent developer.</p>
<p>There&#8217;s a <a href="http://github.com/talios/clojure-maven-plugin">Clojure Maven plugin</a>, some shell-based hacks like <a href="http://github.com/technomancy/corkscrew">Corkscrew</a>, and some Ivy-related code floating around, but none really provides what people want: one simple command to download and install all the dependencies for a project, without needing any XML.</p>
<p>What everyone wants, of course, is <a href="http://cpan.org/">CPAN</a>.  Thousands of documented, tested modules for just about any task you could imagine, and quite a few you couldn&#8217;t (e.g., <a href="http://search.cpan.org/~lbrocard/Acme-Buffy-1.5/lib/Acme/Buffy.pm">Acme::Buffy</a>).</p>
<p>But CPAN was not created in a day.  Most of its imitators (<a href="http://rubygems.org/">Rubygems</a>, <a href="http://pear.php.net/">PEAR</a>, <a href="http://pypi.python.org/pypi">Python Eggs</a>) have failed to reach the same level of quality.  Perl is also much older, and therefore more stable, than Python or Ruby.  10-year-old Perl code probably still works.</p>
<p>Part of this CPAN&#8217;s success, I think, has to do with the environment in it evolved.  When Perl was the hot new language, running a web server was an expensive proposition.  Even domain names weren&#8217;t cheap.  If you were going to publish code on the web, there was a cost to doing so, either in time or money, so you wanted to make sure that it was worth publishing.</p>
<p>These days, when everyone has a blog and a <a href="http://github.com/">Github</a> account, sharing code is easy.  Doing &#8220;git push&#8221; requires almost no thought, no investment of time.  Why not release everything, even when it&#8217;s untested, undocumented, or unfinished?</p>
<p>So this weekend I started working on a package repository for Clojure.  It was modeled it after CPAN, but designed to support anything that could be packaged in a JAR file, including compiled Java libraries and Clojure source code.</p>
<p>I got started.  Then I thought, who would actually use this?  Of the few dozen Clojure libraries that have been published on Github, only a handful are &#8220;production-ready.&#8221;  Most aren&#8217;t even finished.  Very few have been thoroughly tested.  (I&#8217;m equally guilty in this regard.)</p>
<p>I concluded that it&#8217;s just too early.  Clojure is a scarcely two years old.  It just released &#8220;1.0&#8221; this year, and is still developing rapidly.  The libraries are evolving equally rapidly.  If you want to build a project using, say, <a href="http://github.com/weavejester/compojure">Compojure</a>, the best way to do it is with <a href="http://gaarai.com/2009/04/20/git-submodules-adding-using-removing-and-updating/">Git submodules</a>.</p>
<p>The one place a package manager would really be useful is in downloading and installing the standard Java packages that get used in almost every project, like the Apache Commons libraries.  For this, Maven/Ivy works, if not brilliantly.</p>
<p>Update: another Maven helper: <a href="http://github.com/dysinger/clojure-pom">Clojure-POM</a></p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2009/08/31/thoughts-on-clojure-package-management.html" rel="bookmark"><time class="entry-date published" datetime="2009-08-31T12:13:49+00:00">August 31, 2009</time><time class="updated" datetime="2009-09-05T00:01:32+00:00">September 5, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="lisp.html" rel="tag">Lisp</a></span><span class="comments-link"><a href="../2009/08/31/thoughts-on-clojure-package-management.html#comments">11 Comments<span class="screen-reader-text"> on Thoughts on Clojure Package Management</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-256" class="post-256 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2009/07/22/clojure-talk-at-philly-lambda.html" rel="bookmark">Clojure talk at Philly Lambda</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>The folks at Philly Lambda, a Philadelphia functional-programming group, were kind enough to invite me down to talk about <a href="http://clojure.org/">Clojure</a> last night.  No video/audio recording, but here are my <a href="../download/clojure_slides_philly_2009-07-21.pdf">slides [PDF]</a>.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2009/07/22/clojure-talk-at-philly-lambda.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-07-22T11:11:14+00:00">July 22, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="lisp.html" rel="tag">Lisp</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-229" class="post-229 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2009/05/04/clojure-goes-10.html" rel="bookmark">Clojure Goes 1.0</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p><a href="http://clojure.org/">My favorite programming language</a> has made a 1.0 release!  [<a href="http://clojure.blogspot.com/2009/05/clojure-10.html">announcement</a>]</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2009/05/04/clojure-goes-10.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-05-04T10:18:50+00:00">May 4, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="lisp.html" rel="tag">Lisp</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-227" class="post-227 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2009/04/29/clojure-talk.html" rel="bookmark">CANCELED &#8211; Clojure Talk May 12</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p><strong>CANCELED:</strong> My presentation is canceled.  LispNYC will still meet at the Sunburnt Cow, 137 Avenue C, and I&#8217;ll be there to talk about Clojure.  But no slides, no video, etc.  My presentation is postponed to the June meeting.</p>
<hr />
<p>I&#8217;ll be talking about my work with <a href="http://www.clojure.org/">Clojure</a> at LispNYC on the evening of Tuesday, May 12.   Time and location to be announced.   Slides and (hopefully) video available after the fact.</p>
<p>Possible topics:</p>
<ul>
<li>Why Java + Lisp was such a great idea</li>
<li>Using Clojure with Java libraries like Hadoop &amp; Solr</li>
<li>Deploying a web server with Clojure and Restlet</li>
<li>Clojure libraries I&#8217;ve written, such as test-is</li>
</ul>
<p><strong>Official announcement with time &amp; location</strong>:<br />
from <a href="http://www.lispnyc.org/">LispNYC.org</a></p>
<p>Stuart Sierra presents: Implementing AltLaw.org in Clojure</p>
<p>This talk demonstrates the power of combining Clojure with large Java frameworks, such as:</p>
<ul>
<li>Hadoop &#8211; distributed map/reduce processing</li>
<li>Solr &#8211; text indexing/searching</li>
<li>Restlet &#8211; REST-oriented web framework</li>
<li>Jets3t &#8211; Amazon S3</li>
</ul>
<p>Join us from 7:00 &#8211; 9:00 at Trinity Church in the heart of the East Village. Afterward the discussion will continue at the Sunburnt Cow on 9th and C.</p>
<p>Directions to Trinity:</p>
<p>Trinity Lutheran<br />
602 E. 9th St. &amp; Ave B., on Tompkins Square Park<br />
<a rel="nofollow" href="http://trinitylowereastside.org/" target="_blank">http://trinitylowereastside.org/</a></p>
<p>From N,R,Q,W (8th Street NYU Stop) and the 4,5 (Astor Street<br />
Stop):<br />
Walk East 4 blocks on St. Marks, cross Tompkins Square Park.</p>
<p>From F&amp;V (2nd Ave Stop):<br />
Walk E one or two blocks, turn north for 8 short blocks</p>
<p>From L (1st Ave Stop):<br />
Walk E one block, turn sounth for 5 short blocks</p>
<p>The M9 bus line drops you off at the doorstep and the M15 is near get<br />
off on St. Marks &amp; 1st)</p>
<p>To get there by car, take the FDR (East River Drive) to Houston then go NW till you&#8217;re at 9th &amp; B.  Week-night parking isn&#8217;t bad at all, but if you&#8217;re paranoid about your Caddy or in a hurry, there is a parking garage on 9th between 1st and 3rd Ave.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2009/04/29/clojure-talk.html" rel="bookmark"><time class="entry-date published" datetime="2009-04-29T11:13:24+00:00">April 29, 2009</time><time class="updated" datetime="2009-05-11T19:15:25+00:00">May 11, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="lisp.html" rel="tag">Lisp</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-211" class="post-211 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2009/02/22/its-about-the-libraries.html" rel="bookmark">It&#8217;s About the Libraries</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>There&#8217;s a big &#8216;ol <a href="http://groups.google.com/group/comp.lang.lisp/browse_thread/thread/0d05837df1efe075">thread</a> going on down at comp.lang.lisp about <a href="http://clojure.org/">Clojure</a> vs. Common Lisp. I&#8217;m biased, of course, but I have to say that Clojure and Rich Hickey are holding their own against some of the top c.l.l. flamers.</p>
<p>But all the arguments about functional programming, software transactional memory, and reader macros miss what was, for me, the biggest reason to switch to Clojure.  <em>It&#8217;s about the libraries, stupid.</em>  Building on the JVM and providing direct access to Java classes/methods was the best decision in Clojure&#8217;s design.  &#8216;Cause if it&#8217;s ever been done, anywhere, by anyone, someone&#8217;s done it in Java.  Twice.</p>
<p>A few years ago, I tried to solve the Common Lisp library problem by writing a <a href="../software/perl-in-lisp.html">bridge from CL to Perl 5</a>, and was laughed out of town.  Rich Hickey, I&#8217;m told, spent years trying to bridge CL to Java, and never got very far.  But Clojure works, and it works great.  It&#8217;s a Lisp with a squintillion libraries.  Who else can claim that?</p>
<p>So, if I wanted Lisp with Java libraries, why not use <a href="http://www.gnu.org/software/kawa/">Kawa</a> or <a href="http://common-lisp.net/project/armedbear/">ABCL</a> &#8230; or heck, <a href="http://jruby.codehaus.org/">JRuby</a>?  Those are all fine projects, but they all suffer from mismatches between the &#8220;source&#8221; language (Scheme, CL, Ruby) and the &#8220;host&#8221; language (Java).  There is never a one-to-one mapping between types in the source language and types in the host language.  So you end up needing conversions like <a href="http://trac.common-lisp.net/armedbear/browser/trunk/abcl/examples/abcl/javacall_from_lisp/lispfunctions.lisp">jclass/jmethod/jcall</a> (ABCL) or <a href="http://www.gnu.org/software/kawa/internals/low-level.html">primitive-static-method</a> (Kawa).  (<a href="http://jruby.codehaus.org/Java+Integration">JRuby is slightly better</a>, but only because Ruby is closer to Java than CL/Scheme.)</p>
<p>Clojure doesn&#8217;t have this problem because it was designed from the ground up for the JVM.  Clojure strings are java.lang.String, Clojure maps are java.util.Map, even Clojure functions are java.lang.Runnable (and java.lang.Callable).  This makes it supremely easy to mix-n-match Clojure code with Java libraries and vice-versa.  I know, because every day I use Clojure with complex Java libraries like <a href="http://hadoop.apache.org/core/">Hadoop</a>, <a href="http://www.restlet.org/">Restlet</a>, <a href="http://lucene.apache.org/">Lucene</a>, and <a href="http://lucene.apache.org/solr/">Solr</a>.  Everything just works.  I don&#8217;t have to write any foreign-function interfaces or bridge code.  In fact, using Java libraries in Clojure is often easier than using them in Java!</p>
<p>Clojure may not be a programming language for the <a href="http://www.paulgraham.com/hundred.html">next hundred years</a>, as Arc aspires to be.  But it&#8217;s a great language if you want to get stuff done right now.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2009/02/22/its-about-the-libraries.html" rel="bookmark"><time class="entry-date published" datetime="2009-02-22T01:46:03+00:00">February 22, 2009</time><time class="updated" datetime="2009-02-22T01:46:40+00:00">February 22, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="lisp.html" rel="tag">Lisp</a></span><span class="comments-link"><a href="../2009/02/22/its-about-the-libraries.html#comments">11 Comments<span class="screen-reader-text"> on It&#8217;s About the Libraries</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-195" class="post-195 post type-post status-publish format-standard hentry category-programming tag-clojure tag-lisp tag-rspec tag-testing">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2009/01/18/tests-are-code.html" rel="bookmark">Tests Are Code</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>It&#8217;s interesting to see the first signs of <a href="http://dablog.rubypal.com/2008/11/30/probative-programming-the-physical-unification-of-code-and-tests">rebellion against RSpec</a>. I jumped on the RSpec bandwagon when it first appeared, mostly so I wouldn&#8217;t have to write &#8220;assert_equals&#8221; all the time. But while I liked and used RSpec, I don&#8217;t think it made my tests any better. If anything, they were a little bit worse. I found myself testing things that were not really relevant to the code I was writing, asserting obvious things like &#8220;a newly-created record should be empty.&#8221;</p>
<p>When I got interested in <a href="http://clojure.org/">Clojure</a>, one of the first things I wrote was a testing library called &#8220;test-is&#8221;. I borrowed from a lot of Common Lisp testing frameworks, especially the idea of a generic assertion macro called &#8220;is&#8221;. It looks like this:</p>
<pre>(deftest test-my-function
  (is (= 7 (my-function 3 4)))
  (is (even? (my-function 10 2))))</pre>
<p>This is pretty basic, but it&#8217;s sufficient for low-level unit testing. So far, I think that&#8217;s how the library has been typically used. There have been occasional requests, however, for RSpec-style syntax. I can see how this would be useful for testing at a level higher than individual functions, but I have come to believe that the added semantics of RSpec are not really necessary.</p>
<p>Right now, the test-is library is built on the same abstractions as Clojure itself. Tests are functions, so you can apply all the same tools that already exist for handling functions. Tests can be called by name, organized into namespaces, and composed. There is almost no extra bookkeeping code that I need to write to make all of this work.</p>
<p>In contrast, if I were to adopt the RSpec style, I would have to write code to call, store, and organize tests. That&#8217;s more work for me, and ultimately restricts the flexibility of the library for people who use it. Furthermore, RSpec has its own set of semantics, above and beyond the language itself, which must be learned.</p>
<p>This is my first experience supporting a library for anyone other than myself, and I don&#8217;t want to force anyone into a particular style. A library like RSpec is a complete environment that attempts to anticipate all possible usage scenarios, so it&#8217;s grown correspondingly complicated.  I want to provide a set of small tools, that can be combined with other tools to do interesting things. </p>
<p>Of course, by making that decision I&#8217;m already dictating, to some extent, how the library can be used. But really, what I&#8217;m trying to do is set limits for myself. I will commit to providing a flexible, extensible set of functions and macros for writing tests. I am explicitly not trying to provide a complete testing framework. If someone wants to build an RSpec-style framework on top of test-is, more power to them. I will happily try to make test-is easier to integrate into that framework.</p>
<p>But there&#8217;s one other thing that struck me about that article that I linked to at the beginning &#8212; the idea of putting tests and code in the same file. I think that&#8217;s a great idea, and Clojure comes ready-made to implement it. Clojure supports the idea of &#8220;metadata&#8221; on definitions. You can attach a set of arbitrary properties to any object, without affecting the value of that object.</p>
<p>It&#8217;s easy to attach a test function as metadata on a definition in Clojure, but the syntax is a little ugly, and there is no easy way to remove the tests from production code. So I came up with in addition to my library, the &#8220;with-test&#8221; macro. It lets you wrap any definition in a set of tests. It looks like this:</p>
<pre>(with-test
 (defn add-numbers [a b]
   (+ a b))
 (is (= 7 (add-numbers 3 4)))
 (is (= -4 (add-numbers -6 2))))</pre>
<p>This is equivalent to adding metadata to the function, but the syntax is a little cleaner. I&#8217;ve also added a global variable, &#8220;*load-tests*&#8221;, which can be set to false to omit tests when loading production code.</p>
<p>I like having each function right next to its tests. It makes it easier to remember to write tests, and easier to see how the function is supposed to behave. So to the extent that test-is will promote a testing style, this is it.  But it&#8217;s a pretty radical departure from the traditional style of testing, so I&#8217;m not sure how others will react to it.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2009/01/18/tests-are-code.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-01-18T12:04:21+00:00">January 18, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="lisp.html" rel="tag">Lisp</a>, <a href="rspec.html" rel="tag">RSpec</a>, <a href="testing.html" rel="tag">testing</a></span><span class="comments-link"><a href="../2009/01/18/tests-are-code.html#comments">6 Comments<span class="screen-reader-text"> on Tests Are Code</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

	<nav class="navigation pagination" role="navigation">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><span class='page-numbers current'><span class="meta-nav screen-reader-text">Page </span>1</span>
<a class='page-numbers' href='lisp/page/2.html'><span class="meta-nav screen-reader-text">Page </span>2</a>
<span class="page-numbers dots">&hellip;</span>
<a class='page-numbers' href='lisp/page/5.html'><span class="meta-nav screen-reader-text">Page </span>5</a>
<a class="next page-numbers" href="lisp/page/2.html">Next page</a></div>
	</nav>
		</main><!-- .site-main -->
	</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="search-3" class="widget widget_search">
<form role="search" method="get" class="search-form" action="https://stuartsierra.com/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</section><section id="text-4" class="widget widget_text">			<div class="textwidget"><ul>
<li><a href="http://feeds2.feedburner.com/StuartSierra" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="../comments/feed" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
</ul>
<ul>
<li><a href="https://twitter.com/stuartsierra">Twitter</a></li>
<li><a href="https://github.com/stuartsierra">GitHub</a></li>
</ul></div>
		</section><section id="tag-widget-2" class="widget TagWidget"><h2 class="widget-title">Clojure Do’s and Don’ts</h2><ul class = "posts-by-tag-list"><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-883"><a class = "posts-by-tag-item-title" href="../2015/08/25/clojure-donts-lazy-effects.html">Clojure Don’ts: Lazy Effects</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-877"><a class = "posts-by-tag-item-title" href="../2015/08/10/clojure-donts-redundant-map.html">Clojure Don’ts: Redundant map</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-870"><a class = "posts-by-tag-item-title" href="../2015/06/16/clojure-donts-single-branch-if.html">Clojure Don’ts: Single-branch if</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-854"><a class = "posts-by-tag-item-title" href="../2015/06/10/clojure-donts-heisenparameter.html">Clojure Don’ts: The Heisenparameter</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-849"><a class = "posts-by-tag-item-title" href="../2015/06/01/clojure-donts-optional-arguments-with-varargs.html">Clojure Don’ts: Optional Arguments with Varargs</a></li><li class="posts-by-tag-item Clojure do's and don'ts errors" id="posts-by-tag-item-836"><a class = "posts-by-tag-item-title" href="../2015/05/27/clojure-uncaught-exceptions.html">Clojure Do’s: Uncaught Exceptions</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-831"><a class = "posts-by-tag-item-title" href="../2015/05/17/clojure-record-constructors.html">Record Constructors</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-826"><a class = "posts-by-tag-item-title" href="../2015/05/10/clojure-namespace-aliases.html">Clojure Do’s: Namespace Aliases</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-820"><a class = "posts-by-tag-item-title" href="../2015/05/02/clojure-donts-isa.html">Clojure Don’ts: isa?</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-812"><a class = "posts-by-tag-item-title" href="../2015/04/26/clojure-donts-concat.html">Clojure Don’ts: Concat</a></li></ul></section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="Footer Primary Menu">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="primary-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="../about-me.html">About Me</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-633"><a href="../writing.html">Writing</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="../presentations.html">Presentations</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="../software.html">Software</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="../contact.html">Contact</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
			
			<div class="site-info">
								<span class="site-title"><a href="../index.html" rel="home">Digital Digressions by Stuart Sierra</a></span>
				<a href="https://wordpress.org/">Proudly powered by WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

	<div style="display:none">
	<div class="grofile-hash-map-55878d0196b91803f9cb2c372b0551d3">
	</div>
	</div>
<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201635'></script>
<script type='text/javascript' src='https://secure.gravatar.com/js/gprofiles.js?ver=2016Sepaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/jetpack/modules/wpgroho167b.js?ver=4.6'></script>
<script type='text/javascript' src='../wp-content/themes/twentysixteen/js/skip-link-focus-fix8de4.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/themes/twentysixteen/js/functions8de4.js?ver=20160816'></script>
<script type='text/javascript' src='../wp-includes/js/wp-embed.min167b.js?ver=4.6'></script>
<script type='text/javascript' src='https://stats.wp.com/e-201635.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.2.2',blog:'2702563',post:'0',tz:'-4',srv:'stuartsierra.com'} ]);
	_stq.push([ 'clickTrackerInit', '2702563', '0' ]);
</script>
</body>

<!-- Mirrored from stuartsierra.com/tag/lisp by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 16:58:23 GMT -->
</html>

<!-- Dynamic page generated in 0.425 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2016-09-02 12:19:14 -->

<!-- Compression = gzip -->
<!DOCTYPE html>
<html lang="en-US" class="no-js">

<!-- Mirrored from stuartsierra.com/tag/java by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 16:56:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Java &#8211; Digital Digressions by Stuart Sierra</title>
<link rel='dns-prefetch' href='http://s0.wp.com/'>
<link rel='dns-prefetch' href='http://secure.gravatar.com/'>
<link rel='dns-prefetch' href='http://fonts.googleapis.com/'>
<link rel='dns-prefetch' href='http://s.w.org/'>
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Feed" href="http://feeds2.feedburner.com/StuartSierra" />
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Comments Feed" href="../comments/feed" />
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Java Tag Feed" href="http://feeds2.feedburner.com/StuartSierra" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/stuartsierra.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='twentysixteen-jetpack-css'  href='../wp-content/plugins/jetpack/modules/theme-tools/compat/twentysixteen3a05.css?ver=4.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='../wp-content/plugins/jetpack/_inc/genericons/genericons/genericons128b.css?ver=3.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-style-css'  href='../wp-content/themes/twentysixteen/style167b.css?ver=4.6' type='text/css' media='all' />
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='jetpack_css-css'  href='../wp-content/plugins/jetpack/css/jetpack3a05.css?ver=4.2.2' type='text/css' media='all' />
<script type='text/javascript' src='../wp-includes/js/jquery/jqueryb8ff.js?ver=1.12.4'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min330a.js?ver=1.4.1'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://stuartsierra.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<link rel='https://api.w.org/' href='../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6" />

<link rel='dns-prefetch' href='http://v0.wordpress.com/'>
</head>

<body class="archive tag tag-java tag-11 hfeed">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="../index.html" rel="home">Digital Digressions by Stuart Sierra</a></p>
											<p class="site-description">From programming to everything else</p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">Menu</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="Primary Menu">
								<div class="menu-main-menu-container"><ul id="menu-main-menu" class="primary-menu"><li id="menu-item-635" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="../about-me.html">About Me</a></li>
<li id="menu-item-633" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-633"><a href="../writing.html">Writing</a></li>
<li id="menu-item-634" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="../presentations.html">Presentations</a></li>
<li id="menu-item-636" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="../software.html">Software</a></li>
<li id="menu-item-637" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="../contact.html">Contact</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

											<div class="header-image">
					<a href="../index.html" rel="home">
						<img src="../wp-content/uploads/2015/12/header.jpg" srcset="https://stuartsierra.com/wp-content/uploads/2015/12/header-300x70.jpg 300w, https://stuartsierra.com/wp-content/uploads/2015/12/header-768x179.jpg 768w, https://stuartsierra.com/wp-content/uploads/2015/12/header-1024x239.jpg 1024w, https://stuartsierra.com/wp-content/uploads/2015/12/header.jpg 1200w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 81vw, (max-width: 1362px) 88vw, 1200px" width="1200" height="280" alt="Digital Digressions by Stuart Sierra">
					</a>
				</div><!-- .header-image -->
					</header><!-- .site-header -->

		<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">Tag: Java</h1>			</header><!-- .page-header -->

			
<article id="post-927" class="post-927 post type-post status-publish format-standard hentry category-programming tag-bundling tag-clojure tag-engineering tag-java tag-open-source-software">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2016/03/21/open-source-bundling.html" rel="bookmark">Open-source Bundling</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Cast your mind back to the halcyon days of the late &#8217;90s. Windows 95/98. Internet Explorer 4. Before you laugh, consider that <a href="https://en.wikipedia.org/wiki/Internet_Explorer_4">IE4</a> included some pretty cutting-edge technology for the time: Dynamic HTML, TLS 1.0, single sign-on, streaming media, and &#8220;Channels&#8221; before RSS. IE4 even pioneered — unsuccessfully — the idea of &#8220;web browser as operating system&#8221; a decade before Google Apps.</p>
<p>But if you remember anything about IE in the &#8217;90s, it&#8217;s probably the word <em>bundling</em>. <a href="https://en.wikipedia.org/wiki/United_States_v._Microsoft_Corp."><i>United States v. Microsoft</i></a> centered on the tight integration of IE with Windows. If you had Windows, you had to have IE. By the time the lawsuit reached a settlement, IE was entrenched as the dominant browser.</p>
<p>Fast forward to the present. What an enlightened age we live in. <a href="http://www.zdnet.com/article/linux-and-open-source-have-won-get-over-it/">Open-source has won</a> and the <a href="https://en.wikipedia.org/wiki/Usage_share_of_web_browsers">browser market has fragmented</a>. Firefox broke the IE hegemony, and Chrome killed it. The web browser really is an operating system.</p>
<p>But if you look around at software today, &#8220;bundling&#8221; is still with us, even in open-source software, that champion of choice and touchstone of tinkering.</p>
<p>To take an example (and to get the taste of IE out of your brain) let&#8217;s look at <a href="https://github.com/Netflix/Hystrix">Hystrix</a>, a Java fault-tolerance framework written at Netflix. First let me say that Hystrix is a fantastic piece of engineering. Netflix has given a great gift to the open-source community by releasing, for free, an essential part of their software infrastructure. I&#8217;ve learned a lot by studying the Hystrix documentation and source code.</p>
<p>But if you want to use Hystrix in your application, you have to use <a href="https://github.com/ReactiveX/RxJava">RxJava</a> and Netflix&#8217;s <a href="https://github.com/Netflix/archaius">Archaius</a> configuration management framework. Via transitive dependencies, you also have to use Google&#8217;s <a href="https://github.com/google/guava">Guava</a>, the <a href="http://wiki.fasterxml.com/JacksonHome">Jackson</a> JSON processor, <a href="http://slf4j.org/">SLF4J</a>, and Apache&#8217;s <a href="https://commons.apache.org/proper/commons-configuration/">Commons Configuration</a>, <a href="https://commons.apache.org/proper/commons-lang/">Commons Lang</a>, and <a href="https://commons.apache.org/proper/commons-logging/">Commons Logging</a>. For those of you keeping score at home, that&#8217;s two different logging APIs, two configuration APIs, and two grab-bag &#8220;utility&#8221; libraries.</p>
<p>There&#8217;s nothing wrong with these library choices. They may be suitable for your application or they may not. But either way, <em>you</em> don&#8217;t get a choice. If you want Hystrix, you have to have RxJava and all the rest. Even if you choose to ignore, say, Archaius, it&#8217;s still there, linked into your application code, with whatever bugs and security holes it might carry.</p>
<p>I don&#8217;t mean to pick on Netflix here either. As I said, Hystrix is a fantastic piece of engineering, and I&#8217;m very happy that Netflix released it. But it points to a mismatch between the goals of &#8220;internal-use&#8221; software and &#8220;open-source&#8221; software.</p>
<p>If you&#8217;re developing a tool or library for internal use within an organization, it makes sense to integrate closely with other software internal to that organization. It saves time, reduces development effort, and makes the software organization more efficient. When software is <em>tightly integrated</em>, each new tool or library <em>multiplies the value</em> of all the other software which came before it. That&#8217;s how technology companies like Netflix or Google can deliver consistently high-quality products and rapid innovation at scale.</p>
<p>The downside to this approach, from the open-source point of view, is that each new tool or library released by a software organization tends to be <em>tightly coupled</em> to the software which preceded it. More dependencies mean more opportunities for bugs, security holes, and misconfiguration. For the application developer using open-source libraries, each new dependency <em>multiplies the cost</em> of development and maintenance.</p>
<p>It&#8217;s not just corporate-sponsored open source that suffers from this problem — just look at the dependency tree of any Apache project.</p>
<p>The root problem is that great, hairy Minotaur which stalks the labyrinthine passages of any large code base: <strong>cross-cutting concerns</strong>. Almost any piece of code in an application will need, at some point, to deal with <em>at least some of:</em></p>
<ul>
<li>Logging</li>
<li>Configuration</li>
<li>Error handling &amp; recovery</li>
<li>Process/thread management</li>
<li>Resource management</li>
<li>Startup/shutdown</li>
<li>Network communication</li>
<li>Filesystems</li>
<li>Data persistence</li>
<li>(De)serialization</li>
<li>Caching</li>
<li>Internationalization/translation</li>
<li>Build/provisioning/deployment</li>
</ul>
<p>It&#8217;s much easier to write code if you know how each of these cross-cutting concerns will be handled. So when you&#8217;re developing something in-house, obviously you use the tools and libraries your organization has standardized on. Even if you&#8217;re writing something which you plan to make open-source, it&#8217;s easier to rely on the tools and patterns you already know.</p>
<p>It&#8217;s difficult to avoid coupling library code to one or more of these concerns. Take logging, for example. Java has had a <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/package-summary.html">built-in logging framework</a> since 1.4. But many developers preferred <a href="https://logging.apache.org/log4j/1.2/">Log4j</a> or one of a handful of others. To avoid coupling libraries to a single logging framework, there is <a href="https://commons.apache.org/proper/commons-logging/">Apache Commons Logging</a>, which tries to abstract over different logging frameworks with clever class-loading tricks. That turned out to be a brittle solution, so we got <a href="http://slf4j.org/">SLF4J</a>, which puts responsibility for linking the correct logging APIs back in the hands of the application developer. But no one wants to take an entire day to slog through the SLF4J manual in the middle of building an application. Throw in the mysterious interactions of transitive dependencies in Maven-style build tools, and it&#8217;s no wonder every Java app starts up with an <a href="https://twitter.com/PatrickMcFadin/status/661202930972790785">error message about logging</a>. And logging is the <em>easy</em> case — most programmers could probably agree on what, broadly speaking, a logging framework needs to do. But still we have half a dozen widely-used, slightly-different logging APIs.</p>
<p>Developing a library which avoids making decisions about cross-cutting concerns is <em>possible</em>, but it takes painstaking attention to detail, with lots of extra extension points. (See Chris Houser&#8217;s talk on <a href="https://www.youtube.com/watch?v=zp0OEDcAro0">Exception Handling</a> for an example.) Unfortunately, the resulting library is often less-than-satisfying to potential users because it has so many &#8220;holes&#8221; that need to be filled in. Who wants to spend half a day writing &#8220;glue&#8221; code and callbacks before you can even <em>try out</em> a new library? Busy application developers have an incentive to choose libraries that work &#8220;out of the box,&#8221; so library creators have an incentive to make <em>arbitrary</em> decisions about cross-cutting concerns. We justify this with the oxymoron &#8220;<a href="https://twitter.com/stuartsierra/status/701900838046982144">sensible defaults</a>.&#8221;</p>
<p>The conclusion I draw from all this is that modern programming languages have succeeded at making software out of <em>reusable</em> parts, but have largely failed at making software out of <em>interchangeable</em> parts. You cannot just &#8220;swap in,&#8221; say, a different thread-management library. Hystrix itself exists to solve a problem with libraries and cross-cutting concerns in a services architecture. Quoting from the <a href="https://github.com/Netflix/Hystrix/wiki/Home/ee70469de121a1991ec4631b3876bedcc2be785e#what-problem-does-hystrix-solve">Hystrix docs</a>:</p>
<blockquote><p>
Applications in complex distributed architectures have dozens of dependencies, each of which will inevitably fail at some point. If the host application is not isolated from these external failures, it risks being taken down with them.</p>
<p>…</p>
<p>These issues are exacerbated when network access is performed through a third-party client — a &#8220;black box&#8221; where implementation details are hidden and can change at any time, and network or resource configurations are different for each client library and often difficult to monitor and change.</p>
<p>Even worse are transitive dependencies that perform potentially expensive or fault-prone network calls without being explicitly invoked by the application.
</p></blockquote>
<p>Netflix has so many &#8220;API client&#8221; libraries, each making their own network calls with unpredictable behavior, that to make their systems robust they have to <a href="https://github.com/Netflix/Hystrix/wiki/Home/ee70469de121a1991ec4631b3876bedcc2be785e#how">isolate each library in its own thread pool</a>. Again, this is amazing engineering, but it was necessary precisely because too many libraries came bundled with their own networking, error handling, and resource management decisions.</p>
<p>A robust solution would seem to require everyone to agree on <a href="https://xkcd.com/927/">standards</a> for every possible cross-cutting concern. That will obviously never happen. Even a so-called <a href="https://docs.python.org/2/tutorial/stdlib.html#batteries-included">batteries-included</a> language <a href="http://radar.oreilly.com/2013/10/dead-batteries-included.html">cannot</a> <a href="http://www.protocolostomy.com/2010/01/22/what-batteries-included-means/">keep</a> the <a href="https://www.python.org/dev/peps/pep-0411/">same</a> <a href="https://www.python.org/dev/peps/pep-3108/">batteries</a> forever. This is a hard problem, and like all truly hard problems in software, it&#8217;s more about people than code.</p>
<p>I wish I had a perfect solution, but the best I can offer is some guidance. If you&#8217;re writing an open-source library, do everything in your power to avoid dependencies. Use only the features of the core language, and use those conservatively. Don&#8217;t pull in a library that deals with some cross-cutting concern just because it <em>might</em> be more convenient for your users. Build your API around plain functions and standard data structures. </p>
<p>Some examples, specific to Clojure:</p>
<ul>
<li>
<p>Don&#8217;t depend on a logging framework unless it&#8217;s SLF4J.</p>
</li>
<li>
<p>Don&#8217;t use an error-handling framework: Throw <code>ex-info</code> with enough data for a handler to decide what to do.</p>
</li>
<li>
<p>If you need to do something asynchronous, use callbacks instead of <a href="https://github.com/clojure/core.async">core.async</a>. Callbacks are easily integrated with core.async if that&#8217;s what the user wants to do. Likewise, if you need some kind of inversion of control, use function callbacks or protocols.</p>
</li>
<li>
<p>Don&#8217;t depend on any state-management framework or &#8220;ambient&#8221; state. Pass everything needed by an API function in its arguments. Provide operations for resource initialization and termination as part of your API. Same for configuration: pass a Clojure map as an argument.</p>
</li>
<li>
<p>Network communication and serialization: these are, admittedly, almost impossible to avoid if you&#8217;re writing a library for some network API. But you can at least give users the <em>option</em> of controlling their own networking by providing APIs to prepare requests and parse responses independently of making the actual network calls.</p>
</li>
</ul>
<p>On the other hand, some &#8220;libraries&#8221; really are more like &#8220;embeddable services,&#8221; with their own internal state. Large frameworks like Hystrix fall into this category, as do a few sophisticated &#8220;client&#8221; libraries. These libraries might be expected to manage their own resources and state &#8220;under the hood.&#8221; That&#8217;s a reasonable design choice, but at least be clear about which goal you&#8217;re pursuing and what trade-offs you&#8217;re making. In most language runtimes, the behavior and dependencies of these libraries cannot be fully isolated from the rest of the code. As an application developer, I might be willing to invest time and effort arranging my code to accommodate one or two embedded services that offer significant power in exchange for the added complexity. For everything else, when I need a library, just give me some ordinary functions.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2016/03/21/open-source-bundling.html" rel="bookmark"><time class="entry-date published updated" datetime="2016-03-21T08:32:54+00:00">March 21, 2016</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="bundling.html" rel="tag">bundling</a>, <a href="clojure.html" rel="tag">Clojure</a>, <a href="engineering.html" rel="tag">engineering</a>, <a href="java.html" rel="tag">Java</a>, <a href="open-source-software.html" rel="tag">Open-Source Software</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-749" class="post-749 post type-post status-publish format-standard hentry category-programming tag-build-tools tag-clojure tag-java tag-lisp tag-maven tag-workflow">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2013/11/04/command-line-intransigence.html" rel="bookmark">Command-Line Intransigence</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p> In the early days of Clojure, I was skeptical of Clojure-specific build tools like <a href="https://github.com/stuarthalloway/lancet">Lancet</a>, <a href="http://leiningen.org/">Leiningen</a>, and <a href="https://github.com/flatland/cake">Cake</a>. Why would Clojure, a part of the Java ecosystem, need its own build tool when there were already so many Java-based tools? </p>
<p> At the time, I thought <a href="http://maven.apache.org/">Maven</a> was the last word in build tooling. Early Leiningen felt like a thin wrapper around Maven for people with an inconsolable allergy to XML. Maven was the <i>serious</i> build tool, with a rich declarative model for describing dependency relationships among software artifacts. That model was imperfect, but it worked well enough to power one of the largest <a href="http://search.maven.org/">repositories</a> of open-source software on the planet. </p>
<p> But things change. Leiningen has evolved rapidly. Maven has also evolved, but more slowly, and the promised <a href="http://maven.40175.n5.nabble.com/What-happened-to-Polyglot-Maven-td5715529.html">non-XML POM syntax</a> (&#8220;polyglot Maven&#8221;) has not materialized. </p>
<p> Meanwhile, I learned <a href="http://nealford.com/memeagora/2013/01/22/why_everyone_eventually_hates_maven.html">why everyone eventually hates Maven</a>, through the experience of crafting custom Maven builds for two large-ish projects: the Clojure language and its contributed libraries. It was a challenge to satisfy the (often conflicting) requirements of developers, continuous integration, source repositories, and the public Maven repository network. Even with the help of <a href="http://www.sonatype.com/resources/books">Maven books</a> from <a href="http://www.sonatype.com/">Sonatype</a>, it took months of trial and error and nearly all my &#8220;open-source&#8221; time to get everything working. </p>
<p> At the end of this process I discovered, to my dismay, that I was the only one who understood it. As my colleague Stuart Halloway put it, &#8220;Maven breeds heroes.&#8221; For end-users and developers, there&#8217;s a nice interface: Clojure-contrib library authors can literally <a href="http://dev.clojure.org/display/community/How+to+Make+Releases">click a button</a> to make a release. But behind that button are so many steps and moving parts (Git, Hudson, Maven, Nexus, GPG, and all the Maven plugins) that even I can barely remember how it all works. I never wanted to be the XML hero. </p>
<p> So I have come around to Leiningen, and even incorporate it into my Clojure development <a href="http://thinkrelevance.com/blog/2013/06/04/clojure-workflow-reloaded">workflow</a>. It&#8217;s had some bumps, as one might expect from a fast-moving open-source project with lots of contributors, but most of the time it does what I need and doesn&#8217;t get in the way. </p>
<p> What puzzles me, however, is the stubbornness of developers who want to do <i>everything</i> via Leiningen. Some days it seems like every new tool or development utility for Clojure comes wrapped up in a Leiningen plugin so it can be invoked at the command line. I don&#8217;t get it. When you have a Clojure REPL, why would you limit yourself to the UNIX shell? </p>
<p> I think this habit comes partly from scripting languages, which were born at the command line, and still live there to a great extent. But it puzzled me a bit even in Ruby: if it takes 3 seconds to for <code>rake</code> to load your 5000-line Rails app, do you really want to use <code>rake</code> for critical administrative tasks like database migrations? <a href="http://ruby-doc.org/docs/ProgrammingRuby/html/irb.html">IRB</a> <a href="http://stackoverflow.com/a/5673496">is not a REPL</a> in the Lisp sense, but it&#8217;s a pretty good interactive shell. I&#8217;d rather work with a large Ruby app in IRB than via <code>rake</code>. </p>
<p> <a href="https://github.com/technomancy/leiningen/wiki/Faster">Start-up time</a> remains a major concern for Leiningen, and its contributors have gone to great lengths (sometimes <a href="https://github.com/technomancy/leiningen/pull/1230">too far</a>) to ameliorate it. Why not just avoid the problem altogether? Start Leiningen once and then work at the REPL. Admittedly, this takes some discipline and careful application design, but on my own projects I&#8217;ve gotten to the point where I only need to launch Leiningen once a day. Occasionally I make a mistake and get my application into such a borked state that the only remedy is restarting the JVM, but those occasions are rare. </p>
<p> I pretty much use Leiningen for just three things: 1) getting dependencies, 2) building JARs, and 3) launching REPLs. Once I have a REPL I can do my real work: running my application, testing, and profiling. The feedback cycles are faster and the debugging options much richer than what I can get on the command-line. </p>
<p> &#8220;Build plugins,&#8221; for Leiningen or Maven or any other tool, always suffer from running in a different environment from the code they are building. But isn&#8217;t one of the central tenets of Lisp that the compiler is <i>part of</i> your application? There isn&#8217;t really a sharp boundary between &#8220;build&#8221; code and &#8220;application&#8221; code. It&#8217;s all just code. </p>
<p> I used to write little &#8220;command-line interfaces&#8221; for running tests, builds, deployments, and so on. Now I&#8217;m more likely to just put those functions in a Clojure namespace and call them from the REPL. Sometimes I wonder: why not go further? Use Leiningen (or Maven, or Gradle, or whatever) just to download dependencies and bootstrap a REPL, then execute builds and releases <i>from the REPL</i>. </p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2013/11/04/command-line-intransigence.html" rel="bookmark"><time class="entry-date published" datetime="2013-11-04T08:32:33+00:00">November 4, 2013</time><time class="updated" datetime="2014-01-01T12:05:19+00:00">January 1, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="build-tools.html" rel="tag">build tools</a>, <a href="clojure.html" rel="tag">Clojure</a>, <a href="java.html" rel="tag">Java</a>, <a href="lisp.html" rel="tag">Lisp</a>, <a href="maven.html" rel="tag">Maven</a>, <a href="workflow.html" rel="tag">workflow</a></span><span class="comments-link"><a href="../2013/11/04/command-line-intransigence.html#comments">7 Comments<span class="screen-reader-text"> on Command-Line Intransigence</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-533" class="post-533 post type-post status-publish format-standard hentry category-programming tag-clojure tag-java tag-leiningen tag-maven">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2011/06/01/dependency-management.html" rel="bookmark">Dependency Management First-Aid Kit</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>This article attempts to unravel some of the mysteries of dependency management with <a href="http://maven.apache.org/">Maven</a> and Maven-based tools.</p>
<h3>Help, something&#8217;s missing!</h3>
<p>Say you have a project named &#8220;my-new-project&#8221; which declares a dependency on version 3 of the &#8220;awesome-sauce&#8221; library by the Example.com corporation. You add the dependency to your pom.xml, project.clj, or whatever configuration file your build tool uses. You take a deep breath and start a build. And it fails!</p>
<p>If you&#8217;re using Maven 2, you see something like this:</p>
<pre>[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Failed to resolve artifact.

Missing:
----------
1) com.example:awesome-sauce:jar:3.0.0

  Try downloading the file manually from the project website.

  Then, install it using the command: 
      mvn install:install-file -DgroupId=com.example -DartifactId=awesome-sauce -Dversion=3.0.0 -Dpackaging=jar -Dfile=/path/to/file

  Alternatively, if you host your own repository you can deploy the file there: 
      mvn deploy:deploy-file -DgroupId=com.example -DartifactId=awesome-sauce -Dversion=3.0.0 -Dpackaging=jar -Dfile=/path/to/file -Durl=[url] -DrepositoryId=[id]

  Path to dependency: 
        1) my.group:my-new-project:jar:1.0.0-SNAPSHOT
        2) com.example:awesome-sauce:jar:3.0.0

----------
1 required artifact is missing.

for artifact: 
  my.group:my-new-project:jar:1.0.0-SNAPSHOT

from the specified remote repositories:
  central (http://repo1.maven.org/maven2),
  clojars (http://clojars.org/repo/)</pre>
<p>Leiningen, which uses Maven 2 under the covers, produces similar output, but it mistakenly prints the current project name as <code>org.apache.maven:super-pom:jar:2.0</code>.</p>
<p>Maven 3 prints a less verbose (and less informative) error message, but the gist is the same.</p>
<h3>What happened?</h3>
<p>What is all this verbosity saying? Well, obviously, the build failed because something was missing. <em>What</em> was missing? Maven tells you:</p>
<pre>Missing:
----------
1) com.example:awesome-sauce:jar:3.0.0</pre>
<p>The JAR file for the project &#8220;awesome-sauce&#8221;, version 3.0.0, published in the &#8220;com.example&#8221; group, is missing. That just means Maven didn&#8217;t find it in any of the places it looked.</p>
<p>Where did it look? Maven tells you that too:</p>
<pre>from the specified remote repositories:
  central (http://repo1.maven.org/maven2),
  clojars (http://clojars.org/repo/)</pre>
<p>These are the public repositories where Maven searched for the file. Each repository has an ID (&#8220;central&#8221; and &#8220;clojars&#8221; in this case) and a URL. Both are specified in the configuration of:</p>
<ol>
<li>
<p>Your project, in pom.xml or project.clj</p>
</li>
<li>
<p>Your build tool&#8217;s global configuration file</p>
<ul>
<li>settings.xml for Maven</li>
<li>N/A for Leiningen</li>
</ul>
</li>
<li>
<p>Your build tool&#8217;s built-in defaults</p>
<ul>
<li>The <a href="http://repo1.maven.org/">Maven Central Repository</a> for almost any Maven-based tool</li>
<li><a href="http://clojars.org/">Clojars</a> for Leiningen</li>
</ul>
</li>
</ol>
<p>If you visit http://repo1.maven.org/maven2/com/example/awesome-sauce or http://clojars.org/repo/com/example/awesome-sauce in a browser you will see that those directories do not, in fact, exist.</p>
<p>Although it&#8217;s not listed, the first place Maven checks for a dependency is your <em>local</em> Maven repository. The local repository is just a big cache of everything Maven has downloaded in the past. It&#8217;s typically located at <code>$HOME/.m2/repository</code>.</p>
<h3>What to do next</h3>
<p>You have two options at this point:</p>
<ol>
<li>Find a public repository containing &#8220;awesome-sauce&#8221;</li>
<li>Install &#8220;awesome-sauce&#8221; in your local repository</li>
</ol>
<p>The first option is generally less work, and more repeatable if you ever build your project on another machine.</p>
<h3>Finding a repository</h3>
<p>Odds are, if the library you are looking for is free, open-source, and popular, it will already be in a public Maven repository somewhere. Start with the source: who released the library? Large organizations with a lot of open-source projects often host their own repositories, like <a href="http://code.google.com/p/google-maven-repository/">Google</a>  and <a href="http://repository.codehaus.org/">Codehaus</a>. Failing that, search engines such as <a href="http://mvnbrowser.com/">Mvnbrowser</a> may help you find it.</p>
<p>Once you&#8217;ve found a repository, you need to add it to your build. For example, to add the Codehaus repository to a Maven project, add these lines to pom.xml inside the <code>&lt;project&gt;</code> tag:</p>
<pre>&lt;repositories&gt;
  &lt;repository&gt;
    &lt;id&gt;codehaus&lt;/id&gt;
    &lt;name&gt;Codehaus&lt;/name&gt;
    &lt;url&gt;http://repository.codehaus.org/&lt;/url&gt;
  &lt;/repository&gt;
&lt;/repositories&gt;</pre>
<p>(You can pick your own <code>&lt;id&gt;</code> and <code>&lt;name&gt;</code>.)</p>
<p>For Leiningen, add the following lines inside the <code>(defproject&nbsp;...)</code> block:</p>
<pre>  :repositories {"codehaus" "http://repository.codehaus.org/"}</pre>
<h3>Installing locally</h3>
<p>If the library you want is not available in any public repository, you&#8217;re not stuck, you just have to do a bit more work. You need to get the JAR file for the library, either by downloading it manually or building from source. Then you need to install that JAR file in your local Maven repository. That&#8217;s easy, because Maven has already told you exactly how to do it:</p>
<pre>  Then, install it using the command: 
      mvn install:install-file -DgroupId=com.example -DartifactId=awesome-sauce \
 -Dversion=3.0.0 -Dpackaging=jar -Dfile=/path/to/file</pre>
<p>Copy that command verbatim, changing only <code>/path/to/file</code> to the path to the library&#8217;s JAR file. Maven will copy the file to <code>$HOME/.m2/repository/com/example/awesome-sauce/3.0.0/awesome-sauce-3.0.0.jar</code>. The next time you build your project, Maven knows exactly where to find it.</p>
<h3>Installing remotely</h3>
<p>If you want others to be able to build your project without having to go through these manual steps, you need your own public Maven repository to which you can upload files. Hosting a Maven repository isn&#8217;t hard: <a href="../2009/09/08/run-your-own-maven-repository.html">all you need is a web server</a>.</p>
<p>If you work with a team, consider setting up a shared repository for everyone to use. A repository manager such as <a href="http://nexus.sonatype.org/">Nexus</a> can help you take care of user accounts and authentication.</p>
<p>If you publish open-source libraries, I strongly encourage you to get an account on <a href="http://nexus.sonatype.org/oss-repository-hosting.html">Sonatype OSS</a>, a free service provided by the makers of Nexus. Releasing your projects to Sonatype OSS gives them a path to get added to the Maven Central Repository. While the requirements for projects in Maven Central are more stringent than just tossing code into your own repository, it&#8217;s worth the effort. In Maven Central, your project will have greater visibility and will be easier for anyone in the world to use.</p>
<h3>But what if I don&#8217;t want that dependency?</h3>
<p>Maven dependencies are transitive: if your project depends on project X, which depends on projects Y and Z, then your build will try to download X, Y, and Z.</p>
<p>But sometimes projects declare dependencies that aren&#8217;t strictly necessary. Or they declare dependencies on something you want, but the wrong version. How can you avoid including those extra dependencies in your build?</p>
<p>Maven supports <em>dependency exclusions</em> for these cases. For example, suppose the &#8220;awesome-sauce&#8221; library declares a dependency on &#8220;com.example:stupidity:0.0.1&#8221;. You know that you don&#8217;t need &#8220;stupidity&#8221; in your project, so you want to prevent the build from including it.  In pom.xml, you write:</p>
<pre>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;awesome-sauce&lt;/artifactId&gt;
    &lt;version&gt;3.0.0&lt;/version&gt;
    &lt;exclusions&gt;
      &lt;exclusion&gt;
        &lt;groupId&gt;com.example&lt;/groupId&gt;
        &lt;artifactId&gt;stupidity&lt;/artifactId&gt;
      &lt;/exclusion&gt;
    &lt;/exclusions&gt; 
  &lt;/dependency&gt;
&lt;/dependencies&gt;</pre>
<p>Or in Leiningen&#8217;s project.clj, you write:</p>
<pre>  :dependencies [[com.example/awesome-sauce "3.0.0"
                  :exclusions [com.example/stupidity]]]</pre>
<p>Note that once you start using exclusions, you&#8217;re on your own. It&#8217;s up to you to make sure you still have the correct versions of all the libraries your project needs. </p>
<p>On rare occasions, a project&#8217;s dependencies cannot be resolved at all. In particular, if you need two different versions of the same library with the same class names but incompatible APIs, you&#8217;re pretty much stuck. Time to refactor, or investigate multiple-Classloader schemes like <a href="http://www.osgi.org/">OSGi</a>. But that&#8217;s a whole &#8216;nother story.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2011/06/01/dependency-management.html" rel="bookmark"><time class="entry-date published" datetime="2011-06-01T14:08:36+00:00">June 1, 2011</time><time class="updated" datetime="2011-06-01T14:09:07+00:00">June 1, 2011</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="java.html" rel="tag">Java</a>, <a href="leiningen.html" rel="tag">Leiningen</a>, <a href="maven.html" rel="tag">Maven</a></span><span class="comments-link"><a href="../2011/06/01/dependency-management.html#comments">2 Comments<span class="screen-reader-text"> on Dependency Management First-Aid Kit</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-516" class="post-516 post type-post status-publish format-standard hentry category-programming tag-clojure tag-java">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2010/12/16/single-abstract-method-macro.html" rel="bookmark">Single Abstract Method Macro</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>John Rose&#8217;s article, <a href="http://blogs.sun.com/jrose/entry/scheme_in_one_class">Scheme in One Class</a>, introduced me to the notion of <a href="http://www.infoq.com/news/2010/07/sambdas-in-java">Single Abstract Method</a>, or SAM, classes. One of the <a href="http://cr.openjdk.java.net/~jrose/pres/indy-javadoc-mlvm-1209/java/dyn/MethodHandles.html#asInstance(java.dyn.MethodHandle,%20java.lang.Class)">proposed APIs</a> for JSR-292 allows a <code>MethodHandle</code> (the Java version of a closure) to be cast to any SAM class.</p>
<p>In Java, a SAM can be either an interface or a class, but if it&#8217;s a class then it&#8217;s usually abstract. The interface or class has exactly one method. Callbacks are often specified as SAM interfaces. The standard Java library has lots of SAM interfaces, such as Runnable and ActionListener.</p>
<p>In Clojure, it&#8217;s easy to interoperate with these Java interfaces with <code>reify</code> (or <code>proxy</code> for abstract classes) but it&#8217;s tiresome to type out. Since reflection can give us the name of the method, why not let the compiler do the work for us?</p>
<pre>(defmacro single-method
  "Returns a proxied or reified instance of c, which must be a class
  or interface with exactly one method. Forwards method calls to the
  function f, which must accept the same number of arguments as the
  method, not including the 'this' argument.

  If c is a class, not an interface, then it must have a public,
  no-argument constructor."
  [c f]
  {:pre [(symbol? c)]}
  (let [klass (resolve c)]
    (assert (instance? java.lang.Class klass))
    (let [methods (.getDeclaredMethods klass)]
      (assert (= 1 (count methods)))
      (let [method (first methods)
            method-name (symbol (.getName method))
            arg-count (count (.getParameterTypes method))
            args (repeatedly arg-count gensym)]
        (if (.isInterface klass)
          `(let [f# ~f]
             (reify ~c (~method-name ~(vec (cons (gensym "this") args))
                                     (f# ~@args))))
          `(let [f# ~f]
             (proxy [~c] [] (~method-name ~(vec args) (f# ~@args)))))))))</pre>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2010/12/16/single-abstract-method-macro.html" rel="bookmark"><time class="entry-date published updated" datetime="2010-12-16T18:55:01+00:00">December 16, 2010</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="java.html" rel="tag">Java</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-322" class="post-322 post type-post status-publish format-standard hentry category-programming tag-clojure tag-java tag-owl tag-rdf">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2009/10/08/generating-clojure-from-an-ontology.html" rel="bookmark">Generating Clojure from an Ontology</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>I&#8217;ve been fascinated with RDF for years, but I always end up frustrated when I try to use it.  How do you read/write/manipulate RDF data in code?  Sure, there are lots of libraries, but they all represent RDF data as its primitive structures: statements, resources, literals, etc.  Working with data through these APIs feels like using a <a href="http://en.wikipedia.org/wiki/Glovebox">glovebox</a>.  To get anything useful done, you have to define mappings between RDF properties/classes and normal data structures in your programming language &#8212; classes, maps, lists, whatever.  In effect, you have to define everything twice.</p>
<p>Some Java APIs allow one to <a href="http://www.semanticuniverse.com/articles-binding-java-objects-rdf.html">add annotation properties</a> to classes and methods, with the annotations defining the mapping between Java objects and RDF triples.  It&#8217;s convenient, and familiar if you&#8217;ve used Java persistence frameworks like Hibernate, but you still have to define everything twice &#8212; once in your RDF schema, once in Java code.</p>
<p>Other libraries generate Java source code from RDFS or OWL ontologies.  This means you don&#8217;t have to define everything twice, but adds another step to the write-compile-run cycle, and limits you to the semantics that the code generator can understand.  In particular, certain features of RDFS/OWL &#8212; multiple inheritance, sub-properties &#8212; do not map well into Java.</p>
<p>What I really wanted was a way to create and work with RDF data in <a href="http://clojure.org/">Clojure</a>, using the same map/set/sequence APIs that I use for any other Clojure data structure.  I flirted with <a href="http://github.com/stuartsierra/clojure-rdf">implementing RDF in Clojure</a> but lost interest when I realized that 1) there&#8217;s a lot more to implementing RDF than datatype conversions; and 2) my Clojure library suffered from the same glovebox problem as the Java RDF libraries.</p>
<p>The solution, however, was staring me in the face all along.  Clojure is a Lisp.  I can generate functions directly, without any intermediate &#8220;source&#8221; representation.  I can use my own customized validation and type-checking functions.  Furthermore, I can extend the definitions in my RDF schema with new Clojure functions.</p>
<p>Here&#8217;s what I ended up with: I designed a <a href="http://github.com/stuartsierra/altlaw-vocab">simple OWL ontology</a> using <a href="http://protege.stanford.edu/">Protege 4</a> and saved it as RDF/XML.  Then I used the <a href="http://www.openrdf.org/">Sesame 2</a> library to find all the RDF classes and properties defined in my ontology, and create the appropriate getter, setter, and constructor functions in Clojure.  It looks something like this:</p>
<pre>
(defn intern-classes [] 
  (doseq [cls (find-all-classes *ontology*)]
    (let [name (resource-to-symbol cls)]
      (intern *ns* name (fn [] {:type name})))))
</pre>
<p>The <code>resource-to-symbol</code> function creates a symbol named for the local name of the RDF class, with the full URI of its XML namespace in the symbol&#8217;s metadata.  The call to <code>intern</code> defines a new function that takes no arguments and returns a Clojure map with the symbol as its <code>:type</code>.</p>
<p>Suppose I have a class named <code>Document</code> in my ontology.  I now have a Clojure function named <code>Document</code> that creates a new instance of that class, represented as a Clojure map.  Furthermore, using <a href="http://clojure.org/multimethods">Clojure hierarchies</a> and the <code>isa?</code> function, I can generate Clojure code that implements the subclass relationships defined in the ontology.  Whee!</p>
<p>I don&#8217;t entirely know where I&#8217;m headed with this, but I like the way it&#8217;s going.  I can define my own data types, decide how they map to Clojure data structures, and have code that&#8217;s always up-to-date with my RDF vocabulary.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2009/10/08/generating-clojure-from-an-ontology.html" rel="bookmark"><time class="entry-date published" datetime="2009-10-08T14:48:59+00:00">October 8, 2009</time><time class="updated" datetime="2015-08-28T10:55:33+00:00">August 28, 2015</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="java.html" rel="tag">Java</a>, <a href="owl.html" rel="tag">OWL</a>, <a href="rdf.html" rel="tag">RDF</a></span><span class="comments-link"><a href="../2009/10/08/generating-clojure-from-an-ontology.html#comments">4 Comments<span class="screen-reader-text"> on Generating Clojure from an Ontology</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-314" class="post-314 post type-post status-publish format-standard hentry category-programming tag-clojure tag-java tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2009/09/22/its-about-the-platform.html" rel="bookmark">It&#8217;s About the Platform</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>I&#8217;ve said <a href="../2009/02/22/its-about-the-libraries.html">It&#8217;s About the Libraries</a>, and indeed, one of the major selling points of <a title="Clojure home page" href="http://clojure.org/">Clojure</a> is that it can call Java libraries directly.</p>
<p>But there&#8217;s more to it than that.  Libraries are just one benefit to building Clojure on top of Java, or, more accurately, on top of <em>Java the platform</em>.</p>
<p>Look around you, and you&#8217;ll see that 99% of all the software in the world runs on just three platforms:</p>
<ol>
<li>Unix/C</li>
<li>Java Virtual Machine</li>
<li>.NET Common Language Runtime</li>
</ol>
<p>Where did these platforms come from?  Let&#8217;s see:</p>
<ol>
<li>AT&amp;T</li>
<li>Sun</li>
<li>Microsoft</li>
</ol>
<p>Notice something?  All three were all developed by huge corporations.</p>
<p>Building a new platform isn&#8217;t just about writing the code.  In fact, very little of it is about code.  You need books, articles, conferences, workshops, and university courses.  You need multinational corporations to trust their entire business to your platform.  It takes millions of dollars and tens of thousands of hours of labor to create a new platform.  Think of the massive ad campaigns Sun ran for Java.  Can you do that?  Of course not.</p>
<p>So when you&#8217;re designing a new language, you have to build on an existing platform.  Most of the so-called &#8220;scripting&#8221; languages grew up on Unix, so they&#8217;re written in C.  Now, Unix/C is a great platform, still going strong after 40 years.  It provides powerful tools and standardized interfaces such as files, sockets, and pipes.</p>
<p>The problem is that each of the &#8220;scripting&#8221; languages has developed into its own mini-platform.  Perl, Python, and Ruby each define their own set of data structures for fundamental types like strings, lists, and maps.  The only &#8220;types&#8221; that Unix recognizes are text and binary.  You can&#8217;t exchange data between two languages without serializing everything to some agreed-upon format.  And you can&#8217;t do callbacks between languages below the level of a whole process.</p>
<p>The other problem with languages written in C is, well, C.  Pointers are hard.  Memory management is hard.  I know from bitter experience that Ruby libraries can have segfaults or memory leaks.  That just doesn&#8217;t happen in Java.</p>
<p>Clojure was created to leverage capabilities of Java-the-platform &#8212; garbage collection, dynamic code generation, JIT compilation, threads, locks &#8212; some of which are difficult to use effectively in Java-the-language.  To implement Clojure in C, for example, you would first have to build your own platform with these features.  That&#8217;s effectively what most Common Lisp implementations do, and they suffer because the Common Lisp world is too small to sustain its own platform.</p>
<p>The brilliant thing about Java-the-platform is that it allows many languages to coexist.  I can mix code written in Java, Clojure, JRuby, Jython, etc. and it&#8217;s pretty easy, because they all implement the same fundamental interfaces like java.util.List and  java.lang.Runnable.  For example, right now I have Hadoop (Java code) calling Clojure code calling JRuby code.  It all just works.</p>
<p>(The .NET CLR provides similar capabilities, and there is a Clojure CLR port.)</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2009/09/22/its-about-the-platform.html" rel="bookmark"><time class="entry-date published updated" datetime="2009-09-22T17:55:37+00:00">September 22, 2009</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="clojure.html" rel="tag">Clojure</a>, <a href="java.html" rel="tag">Java</a>, <a href="lisp.html" rel="tag">Lisp</a></span><span class="comments-link"><a href="../2009/09/22/its-about-the-platform.html#comments">1 Comment<span class="screen-reader-text"> on It&#8217;s About the Platform</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-156" class="post-156 post type-post status-publish format-standard hentry category-programming tag-dtd tag-java tag-sax tag-xml">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2008/05/08/stop-your-java-sax-parser-from-downloading-dtds.html" rel="bookmark">Stop Your Java SAX Parser from Downloading DTDs</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Back in February, in a slightly plaintive post, the W3 sysadmins asked that people <a href="http://www.w3.org/blog/systeam/2008/02/08/w3c_s_excessive_dtd_traffic">stop hammering their servers with requests for XHTML DTDs</a>.  Everyone said yes, this is a stupid problem that wouldn&#8217;t have happened if a) the XML spec were less dumb, or b) XML libraries were less dumb.</p>
<p>After that post, I spent two whole days fighting with XML catalogs &#8212; possibly the worst-documented XML spec ever &#8212; to make sure my Java code wasn&#8217;t downloading a DTD every time it read an XHTML document.</p>
<p>To my annoyance, no one seems to have posted any cut-and-paste solutions to this problem.  Setting properties on the SAX parser is no help, and the XML catalogs solution is a pain to set up.</p>
<p>So what if someone wrote a &#8220;dummy&#8221; XML entity resolver that does nothing?  Here&#8217;s what I came up with:</p>
<pre>
public class DummyEntityResolver implements EntityResolver {
    public InputSource resolveEntity(String publicID, String systemID)
        throws SAXException {
        
        return new InputSource(new StringReader(""));
    }
}
</pre>
<p>Lo and behold, it works!  The key is the return line &#8212; if you return null, the SAX parser reverts to its default behavior and downloads the DTD.</p>
<p>Use it like this:</p>
<pre>
XMLReader reader = XMLReaderFactory.createXMLReader();
reader.setEntityResolver(new DummyEntityResolver());
reader.setContentHandler(new YourContentHandler());
reader.parse(your_xml_source);
</pre>
<p>The catch is that this will break any externally-defined entities, including standard XHTML entities like <code>&amp;copy;</code>.  The built-in XML entities such as <code>&amp;amp;</code>, and numeric character entities like <code>&amp;x43;</code>, will still work.</p>
<p>You can check that you&#8217;re not downloading any DTD&#8217;s by watching the output of <code>ngrep -q DTD</code> while running your XML parser.  If it doesn&#8217;t print anything, you&#8217;re good.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2008/05/08/stop-your-java-sax-parser-from-downloading-dtds.html" rel="bookmark"><time class="entry-date published updated" datetime="2008-05-08T15:54:43+00:00">May 8, 2008</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="dtd.html" rel="tag">DTD</a>, <a href="java.html" rel="tag">Java</a>, <a href="sax.html" rel="tag">SAX</a>, <a href="xml.html" rel="tag">XML</a></span><span class="comments-link"><a href="../2008/05/08/stop-your-java-sax-parser-from-downloading-dtds.html#comments">5 Comments<span class="screen-reader-text"> on Stop Your Java SAX Parser from Downloading DTDs</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-154" class="post-154 post type-post status-publish format-standard hentry category-programming tag-java">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2008/05/05/calling-java-constructors.html" rel="bookmark">Calling Java Constructors with this()</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>The things I don&#8217;t know about Java&#8230; could fill a book.  Here&#8217;s a new one, from the Hadoop sources:</p>
<pre>
public ArrayWritable(Class valueClass) {
    // ...
}

public ArrayWritable(Class valueClass, Writable[] values) {
  this(valueClass);
  this.values = values;
}
</pre>
<p>The second constructor uses the syntax <code>this(arg)</code> to call a different constructor, then follows with initialization code of its own.  I had no idea you could do that.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2008/05/05/calling-java-constructors.html" rel="bookmark"><time class="entry-date published updated" datetime="2008-05-05T17:10:56+00:00">May 5, 2008</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="java.html" rel="tag">Java</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-87" class="post-87 post type-post status-publish format-standard hentry category-programming tag-cc tag-java tag-lisp tag-ruby">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2006/11/22/not-so-slow.html" rel="bookmark">Not So Slow</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Perhaps I was premature worrying about how slow Ruby is.  <a href="http://lemonodor.com/">John Wiseman</a> was benchmarking <a href="http://projects.heavymeta.org/montezuma/">Montezuma</a>, his Common Lisp port of <a href="http://ferret.davebalmain.com/trac">Ferret</a>/<a href="http://lucene.apache.org/">Lucene</a>, and found out in the process that <a href="http://lemonodor.com/archives/001455.html">Ferret is 10 times faster than Java Lucene</a>!  As he says, Ferret gets help from about 65,000 lines of C code.</p>
<p>I&#8217;ve heard this before, perhaps not often enough to make a generalization, but at least enough to identify a trend: if you want performance from Ruby code, rewrite it in C.  (The same is sometimes said of Python, or really any interpreted language.)  The basic approach seems to be to extract the most performance-critical parts of your dynamic, interpreted language program and rewrite them in a static, compiled language, thus retaining most of the benefits of both.</p>
<p>It&#8217;s an interesting contrast to what I see as the Common Lisp approach to optimization, which is to keep everything in Lisp but add compiler <a href="http://www.lispworks.com/documentation/HyperSpec/Body/s_declar.htm">declarations</a> in hopes of speeding it up.  Trouble is, unless you&#8217;re an expert on the inner workings of your compiler (or can read the <a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_disass.htm">disassemble</a>d code) it&#8217;s hard to know exactly what effects a particular declaration will have.</p>
<p>Eventually, I think manual optimization will become unnecessary.  Experimental compilers like <a href="http://cobweb.ecn.purdue.edu/~qobi/software.html">Stalin</a> have been shown to produce faster machine code than hand-coded C.  Stalin compiles a subset of Scheme down to a subset of C, making heavy use of type-inferencing and static analysis.  If it can be done with Scheme, surely it can be done with Python, Ruby, or any other dynamic language.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2006/11/22/not-so-slow.html" rel="bookmark"><time class="entry-date published updated" datetime="2006-11-22T11:29:34+00:00">November 22, 2006</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="cc.html" rel="tag">C/C++</a>, <a href="java.html" rel="tag">Java</a>, <a href="lisp.html" rel="tag">Lisp</a>, <a href="ruby.html" rel="tag">Ruby</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-76" class="post-76 post type-post status-publish format-standard hentry category-programming tag-java tag-lisp">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../2006/09/08/who-needs-data-structures.html" rel="bookmark">Who Needs Data Structures?</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Ran across an interesting <a href="http://weblog.scifihifi.com/2004/12/25/data-structures-as-culture/#comment-2450">remark</a> in a discussion of Microsoft hiring interviews:</p>
<blockquote><p>If I remember, a lot of MIT people back in the 70s broke the computer world into the Lisp and non-Lisp data typers. The Lisp folk took a casual attitude towards data structures &#8211; just shove them in a list, put them on a plist, stash them in a cache. If it gets slow or confusing, add some tags and a hash algorithm. Most non-Lisp folk were appalled at this. They wanted to see the data structure design up front, the data relationship dictionary, complete and comprehensive, even before any coding started.</p></blockquote>
<p>This sounds like it could be a language-induced habit as much as a programming style.  E.g., in Java you have to write &#8220;class foo&#8221; at the start of a program before you can do anything else, so it makes sense that you&#8217;d start by defining data structures.  In Lisp, it&#8217;s really easy to jump straight to the algorithms, making up &#8220;casual&#8221; data structures as you go along, so that&#8217;s what you do.</p>
<p>The &#8220;stuff everything into a list, add some tags later when it gets too big or confusing&#8221; is exactly how my largest-to-date Lisp programming project panned out.  It worked fine, and made the code pretty short and simple.  As the big list got too big to handle in-place, I wrote a handful of functions that pulled out specific pieces of data.  Since function calls look identical to method calls in Lisp, the code <em>looked</em> like I had defined a class with a bunch of accessor methods, while in fact it was still just a big list.  This was especially helpful given that I was working with free-form data parsed from text files, not a table of predetermined fields.  (This could also have been handled somewhat less elegantly with XML.)</p>
<p><strong>Update Oct. 3, 2006:</strong> In case anyone was misled, the title was a joke.  Data structures are certainly useful.  I was merely commenting on the programming styles induced by different languages.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../2006/09/08/who-needs-data-structures.html" rel="bookmark"><time class="entry-date published" datetime="2006-09-08T12:28:48+00:00">September 8, 2006</time><time class="updated" datetime="2006-10-03T09:26:02+00:00">October 3, 2006</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="java.html" rel="tag">Java</a>, <a href="lisp.html" rel="tag">Lisp</a></span><span class="comments-link"><a href="../2006/09/08/who-needs-data-structures.html#comments">2 Comments<span class="screen-reader-text"> on Who Needs Data Structures?</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

	<nav class="navigation pagination" role="navigation">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><span class='page-numbers current'><span class="meta-nav screen-reader-text">Page </span>1</span>
<a class='page-numbers' href='java/page/2.html'><span class="meta-nav screen-reader-text">Page </span>2</a>
<a class="next page-numbers" href="java/page/2.html">Next page</a></div>
	</nav>
		</main><!-- .site-main -->
	</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="search-3" class="widget widget_search">
<form role="search" method="get" class="search-form" action="https://stuartsierra.com/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</section><section id="text-4" class="widget widget_text">			<div class="textwidget"><ul>
<li><a href="http://feeds2.feedburner.com/StuartSierra" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="../comments/feed" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
</ul>
<ul>
<li><a href="https://twitter.com/stuartsierra">Twitter</a></li>
<li><a href="https://github.com/stuartsierra">GitHub</a></li>
</ul></div>
		</section><section id="tag-widget-2" class="widget TagWidget"><h2 class="widget-title">Clojure Do’s and Don’ts</h2><ul class = "posts-by-tag-list"><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-883"><a class = "posts-by-tag-item-title" href="../2015/08/25/clojure-donts-lazy-effects.html">Clojure Don’ts: Lazy Effects</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-877"><a class = "posts-by-tag-item-title" href="../2015/08/10/clojure-donts-redundant-map.html">Clojure Don’ts: Redundant map</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-870"><a class = "posts-by-tag-item-title" href="../2015/06/16/clojure-donts-single-branch-if.html">Clojure Don’ts: Single-branch if</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-854"><a class = "posts-by-tag-item-title" href="../2015/06/10/clojure-donts-heisenparameter.html">Clojure Don’ts: The Heisenparameter</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-849"><a class = "posts-by-tag-item-title" href="../2015/06/01/clojure-donts-optional-arguments-with-varargs.html">Clojure Don’ts: Optional Arguments with Varargs</a></li><li class="posts-by-tag-item Clojure do's and don'ts errors" id="posts-by-tag-item-836"><a class = "posts-by-tag-item-title" href="../2015/05/27/clojure-uncaught-exceptions.html">Clojure Do’s: Uncaught Exceptions</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-831"><a class = "posts-by-tag-item-title" href="../2015/05/17/clojure-record-constructors.html">Record Constructors</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-826"><a class = "posts-by-tag-item-title" href="../2015/05/10/clojure-namespace-aliases.html">Clojure Do’s: Namespace Aliases</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-820"><a class = "posts-by-tag-item-title" href="../2015/05/02/clojure-donts-isa.html">Clojure Don’ts: isa?</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-812"><a class = "posts-by-tag-item-title" href="../2015/04/26/clojure-donts-concat.html">Clojure Don’ts: Concat</a></li></ul></section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="Footer Primary Menu">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="primary-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="../about-me.html">About Me</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-633"><a href="../writing.html">Writing</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="../presentations.html">Presentations</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="../software.html">Software</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="../contact.html">Contact</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
			
			<div class="site-info">
								<span class="site-title"><a href="../index.html" rel="home">Digital Digressions by Stuart Sierra</a></span>
				<a href="https://wordpress.org/">Proudly powered by WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

	<div style="display:none">
	<div class="grofile-hash-map-55878d0196b91803f9cb2c372b0551d3">
	</div>
	</div>
<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201635'></script>
<script type='text/javascript' src='https://secure.gravatar.com/js/gprofiles.js?ver=2016Sepaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/jetpack/modules/wpgroho167b.js?ver=4.6'></script>
<script type='text/javascript' src='../wp-content/themes/twentysixteen/js/skip-link-focus-fix8de4.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/themes/twentysixteen/js/functions8de4.js?ver=20160816'></script>
<script type='text/javascript' src='../wp-includes/js/wp-embed.min167b.js?ver=4.6'></script>
<script type='text/javascript' src='https://stats.wp.com/e-201635.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.2.2',blog:'2702563',post:'0',tz:'-4',srv:'stuartsierra.com'} ]);
	_stq.push([ 'clickTrackerInit', '2702563', '0' ]);
</script>
</body>

<!-- Mirrored from stuartsierra.com/tag/java by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 16:56:29 GMT -->
</html>

<!-- Dynamic page generated in 0.479 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2016-09-02 12:55:12 -->

<!-- Compression = gzip -->
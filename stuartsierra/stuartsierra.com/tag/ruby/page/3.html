<!DOCTYPE html>
<html lang="en-US" class="no-js">

<!-- Mirrored from stuartsierra.com/tag/ruby/page/3 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 17:01:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Ruby &#8211; Page 3 &#8211; Digital Digressions by Stuart Sierra</title>
<link rel='dns-prefetch' href='http://s0.wp.com/'>
<link rel='dns-prefetch' href='http://secure.gravatar.com/'>
<link rel='dns-prefetch' href='http://fonts.googleapis.com/'>
<link rel='dns-prefetch' href='http://s.w.org/'>
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Feed" href="http://feeds2.feedburner.com/StuartSierra" />
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Comments Feed" href="../../../comments/feed" />
<link rel="alternate" type="application/rss+xml" title="Digital Digressions by Stuart Sierra &raquo; Ruby Tag Feed" href="http://feeds2.feedburner.com/StuartSierra" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/stuartsierra.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='twentysixteen-jetpack-css'  href='../../../wp-content/plugins/jetpack/modules/theme-tools/compat/twentysixteen3a05.css?ver=4.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='../../../wp-content/plugins/jetpack/_inc/genericons/genericons/genericons128b.css?ver=3.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-style-css'  href='../../../wp-content/themes/twentysixteen/style167b.css?ver=4.6' type='text/css' media='all' />
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='https://stuartsierra.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='jetpack_css-css'  href='../../../wp-content/plugins/jetpack/css/jetpack3a05.css?ver=4.2.2' type='text/css' media='all' />
<script type='text/javascript' src='../../../wp-includes/js/jquery/jqueryb8ff.js?ver=1.12.4'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/jquery-migrate.min330a.js?ver=1.4.1'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://stuartsierra.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<link rel='https://api.w.org/' href='../../../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6" />

<link rel='dns-prefetch' href='http://v0.wordpress.com/'>
</head>

<body class="archive paged tag tag-ruby tag-13 paged-3 tag-paged-3 hfeed">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="../../../index.html" rel="home">Digital Digressions by Stuart Sierra</a></p>
											<p class="site-description">From programming to everything else</p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">Menu</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="Primary Menu">
								<div class="menu-main-menu-container"><ul id="menu-main-menu" class="primary-menu"><li id="menu-item-635" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="../../../about-me.html">About Me</a></li>
<li id="menu-item-633" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-633"><a href="../../../writing.html">Writing</a></li>
<li id="menu-item-634" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="../../../presentations.html">Presentations</a></li>
<li id="menu-item-636" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="../../../software.html">Software</a></li>
<li id="menu-item-637" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="../../../contact.html">Contact</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

											<div class="header-image">
					<a href="../../../index.html" rel="home">
						<img src="../../../wp-content/uploads/2015/12/header.jpg" srcset="https://stuartsierra.com/wp-content/uploads/2015/12/header-300x70.jpg 300w, https://stuartsierra.com/wp-content/uploads/2015/12/header-768x179.jpg 768w, https://stuartsierra.com/wp-content/uploads/2015/12/header-1024x239.jpg 1024w, https://stuartsierra.com/wp-content/uploads/2015/12/header.jpg 1200w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 81vw, (max-width: 1362px) 88vw, 1200px" width="1200" height="280" alt="Digital Digressions by Stuart Sierra">
					</a>
				</div><!-- .header-image -->
					</header><!-- .site-header -->

		<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">Tag: Ruby</h1>			</header><!-- .page-header -->

			
<article id="post-31" class="post-31 post type-post status-publish format-standard hentry category-programming tag-lisp tag-perl tag-ruby">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2006/07/05/the-only-data-structures-youll-ever-need.html" rel="bookmark">The Only Data Structures You&#8217;ll Ever Need</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Perl was the first programming language I really liked, the first language that made programming fun.</p>
<p>Perl has three basic types: &#8220;scalars&#8221; for atomic values, arrays for ordered sets, and hash tables for unordered sets.  (Yes, there are others, but those are the popular ones.)  I quickly discovered that these three types can be combined to produce most any data structure you might need.  Need an ordered list of records?  Use an array of hashes.  Need a tree of named elements with attributes (e.g. XML)?  Use nested arrays with hashes in them.</p>
<p>These basic types can also be conveniently <a href="../../../2006/05/24/better-abstractions.html">mapped to external data</a>.  A CSV file can be represented as an array of hashes.  A database table can be an array of arrays, an array of hashes, or a hash of hashes, whichever you prefer.</p>
<p>Python and Ruby both followed in Perl&#8217;s footsteps here.  (Python calls them &#8220;lists&#8221; and &#8220;dictionaries.&#8221;)  Lisp, predating all these new-fangled &#8220;scripting&#8221; languages, includes lists, arrays, hash tables, plus a whole raft of other built-in types.  This is one of those areas that makes Common Lisp difficult for the beginner to grasp.  When should you use a <a href="http://www.lispworks.com/documentation/HyperSpec/Body/26_glo_p.htm#property_list">plist</a>, an <a href="http://www.lispworks.com/documentation/HyperSpec/Body/26_glo_a.htm#association_list">alist</a>, or a hash table?  When should you use arrays and when should you use lists?  The answers to these questions delve into details of how the various structures are implemented.  The only obvious criteria for choice is speed at handling a given data set, something a beginning programmer doesn&#8217;t want to worry about when designing a new piece of code.</p>
<p>At least one hacker has implemented generic get/set functions for all of Common Lisp&#8217;s data types, but to my knowledge no one has implemented abstract ordered/unordered set types that don&#8217;t care about their implementation.  CL-Containers is a good foundation, but it further complicates the issue by adding a bunch of new data types.</p>
<p>What I want is a general-purpose &#8220;collection&#8221; class, of which instances can be declared ordered or unordered, numerically-indexed or key-indexed.  Something like this:</p>
<pre><code allow="none">
(define-collection my-set
  :ordered t
  :index string)
</code></pre>
<p>Then, based on the data that I feed in to that class and the operations I perform on it, the compiler decides what sort of data structure to use for maximum efficiency.  Or, if that&#8217;s too much magic to ask, at least let me change the underlying implementation without affecting any of the code that uses the collection:</p>
<pre>
(implement-collection my-set
  (array :resizable
         :elements (cons string object)))
</pre>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2006/07/05/the-only-data-structures-youll-ever-need.html" rel="bookmark"><time class="entry-date published" datetime="2006-07-05T14:47:37+00:00">July 5, 2006</time><time class="updated" datetime="2006-07-07T13:22:22+00:00">July 7, 2006</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../lisp.html" rel="tag">Lisp</a>, <a href="../../perl.html" rel="tag">Perl</a>, <a href="../../ruby.html" rel="tag">Ruby</a></span><span class="comments-link"><a href="../../../2006/07/05/the-only-data-structures-youll-ever-need.html#comments">4 Comments<span class="screen-reader-text"> on The Only Data Structures You&#8217;ll Ever Need</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-35" class="post-35 post type-post status-publish format-standard hentry category-programming tag-cc tag-java tag-lisp tag-perl tag-ruby">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2006/06/22/permutations-of-iteration.html" rel="bookmark">Permutations of Iteration</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Ah, the loop, so fundamental to programming it&#8217;s hard to imagine a single program without one.  After all, what&#8217;s the use of calculating just <em>one</em> thing?  Usually you have a big pile of things you want to calculate, which is why you need a computer in the first place.</p>
<p>I think one of the quickest ways to get a feel for a language is to study its looping constructs.  I make no pretense that this is a complete or even an accurate list, but these are some of the general iteration patterns I&#8217;ve noticed in different languages.</p>
<h3>Counter Variable Loop</h3>
<pre>
for ( int i = 0; i &lt;= 10; ++i ) {
  do stuff with list[i];
}
</pre>
<p>The old C classic, with deeper roots, I believe, in FORTRAN or PASCAL or both.  Successive values of an integer counter are used to retrieve input from an array.  Very efficient for small data sets, but requires the entire input to be stored as an array in memory.  Also requires the looping code to know about the structure of the input, so not very adaptable.  But surprisingly resiliant: Perl and Java support the same syntax.</p>
<h3>For-Each Loop</h3>
<pre>
foreach item in list
   do stuff with item
done
</pre>
<p>Probably the most popular syntactic looping construct, and easy to see why: it&#8217;s very easy to read and understand.  The for-each loop shows up in Perl, Python, Visual Basic, and a host of other languages.  Because it&#8217;s usually built in to the language syntax, it can rarely be extended to non-standard container types.</p>
<h3>Container Method Loop</h3>
<pre>
list.each do |item|
   do stuff with item
end
</pre>
<p>In purely object-oriented languages like Smalltalk and Ruby (shown above), looping constructs can be implemented as methods of container classes.  This has the great advantages that new looping constructs can be added and standard loops can be implemented for new container types.  Since the code &#8220;inside&#8221; the loop is just an anonymous function that takes a single item as its argument, it doesn&#8217;t need to know anything about the structure or type of the container.</p>
<h3>List Comprehensions</h3>
<pre>
[ item.do_stuff() for item in list ]
</pre>
<p>Although Python (syntax above) has gotten a lot of press, both good and bad, for its adoption of list comprehensions, they&#8217;ve been around a lot longer.  I believe they were originally developed to describe lists in a way that looks more like mathematics.  For simple patterns list comprehensions are easy to understand, but I don&#8217;t yet grok their full significance.  They can be nested and combined to produce complex looping patterns that would be awkward to write with C-style iteration.</p>
<h3>Half-Nelson Functional Loop</h3>
<pre>
(map  (lambda (item)  <em>do stuff with item</em>)  list)
</pre>
<p>(<strong>Update 26 July 2006</strong>: Replaced the idiotic example <code>(map (lambda (item) (process item)) list)</code> with the above.  I&#8217;m talking about block structures in code here, using the body of the lambda like the body of a for loop in the other languages.  Obviously, if your loop body was just a single function, you would just use <code>(map #'process list)</code>.  Same changes apply to the next example below.)</p>
<p>Functional languages, including most dialects of Lisp, usually have a <code>map</code> operator that takes a function and a list and applies that function successively to each element of that list.  I call this the Half-Nelson Functional Loop because it&#8217;s not, to my mind, the ultimate of functional behavior.  For that, we turn to&#8230;</p>
<h3>Full-Nelson Functional Loop</h3>
<pre>
((lift (lambda (item)  <em>do stuff with item</em>))  list)
</pre>
<p>This looks pretty much like the previous example.  But here, instead of <code>map</code>, we have <code>lift</code>, which takes only one argument, a function, and returns a new function that applies that function to every element of a list.  That new function is then applied (here, in a Scheme-like syntax) to the <code>list</code> argument.  I learned about <code>lift</code> from <a href="http://jaortega.wordpress.com/2006/03/17/programmers-go-bananas/">this blog article</a>.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2006/06/22/permutations-of-iteration.html" rel="bookmark"><time class="entry-date published" datetime="2006-06-22T21:12:04+00:00">June 22, 2006</time><time class="updated" datetime="2006-07-26T22:06:45+00:00">July 26, 2006</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../cc.html" rel="tag">C/C++</a>, <a href="../../java.html" rel="tag">Java</a>, <a href="../../lisp.html" rel="tag">Lisp</a>, <a href="../../perl.html" rel="tag">Perl</a>, <a href="../../ruby.html" rel="tag">Ruby</a></span><span class="comments-link"><a href="../../../2006/06/22/permutations-of-iteration.html#comments">6 Comments<span class="screen-reader-text"> on Permutations of Iteration</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-37" class="post-37 post type-post status-publish format-standard hentry category-programming tag-lisp tag-ruby">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2006/06/21/javascript-like-objects-in-ruby-or-lisp.html" rel="bookmark">JavaScript-like Objects in Ruby (or Lisp)</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>As part of my exploration of <a href="http://www.ruby-lang.org/en/">Ruby</a>, I attended Francis Hwang&#8217;s <a href="http://nylug.org/meetings/index.shtml?20060600">presentation</a> to the <a href="http://www.nylug.org/">New York Linux Users&#8217; Group</a>.  One feature that caught my interest in his talk was the <a href="http://www.ruby-doc.org/stdlib/libdoc/ostruct/rdoc/classes/OpenStruct.html">OpenStruct</a> class, which lets you assign values to arbitrary &#8220;slots&#8221; within an object.</p>
<pre>
require 'ostruct'

me = OpenStruct.new
me.name = &quot;Stuart Sierra&quot;
me.net_worth = -500
</pre>
<p>Now <code>me.name</code> returns &#8220;Stuart Sierra&#8221; and <code>me.net_worth</code> returns -500.  The clever thing about this is that nowhere did I define <code>name</code> or <code>net_worth</code> as member variables or methods of a class.  They just spring into being in the <code>OpenStruct</code> instance as soon as I use them.  This is great for developing new data structures before you&#8217;re entirely sure what slots you&#8217;ll need.</p>
<p>Objects in JavaScript always work this way.  JavaScript is <a href="http://en.wikipedia.org/wiki/Prototype-based_programming">prototype-based</a>, so there are no classes, just objects.  Each object effectively has its own unique namespace in which you can create new slots simply by using them.</p>
<p>Common Lisp can do this too.  Every CL symbol has a <a href="http://www.lisp.org/HyperSpec/Body/glo_p.html#property_list">property list</a> that can be accessed with <a href="http://www.lisp.org/HyperSpec/Body/acc_get.html"><code>get</code></a>.</p>
<pre>
CL-USER> (defvar me)
ME
CL-USER> (setf (get 'me 'name) &quot;Stuart Sierra&quot;)
&quot;Stuart Sierra&quot;
CL-USER> (get 'me 'name)
&quot;Stuart Sierra&quot;
</pre>
<p>What I find curious is that this feature of Common Lisp is totally distinct from the object system.  Object slots are not symbol properties, just as symbols are not objects (they are <em>bound</em> to objects).  But one could make a passable prototype-based object system using just symbol properties and function closures.  I think it&#8217;s one of those places that shows how Common Lisp grew from many different sources, resulting in similar but distinct ways of doing the same thing.  Peter Seibel <a href="http://gigamonkeys.com/book/practical-parsing-binary-files.html#keeping-track-of-inherited-slots">demonstrates</a> that it can be useful to have both, by using symbol properties to store bookkeeping information needed by macros that generate new classes.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2006/06/21/javascript-like-objects-in-ruby-or-lisp.html" rel="bookmark"><time class="entry-date published" datetime="2006-06-21T21:49:55+00:00">June 21, 2006</time><time class="updated" datetime="2006-06-21T22:00:38+00:00">June 21, 2006</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../lisp.html" rel="tag">Lisp</a>, <a href="../../ruby.html" rel="tag">Ruby</a></span><span class="comments-link"><a href="../../../2006/06/21/javascript-like-objects-in-ruby-or-lisp.html#comments">6 Comments<span class="screen-reader-text"> on JavaScript-like Objects in Ruby (or Lisp)</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-33" class="post-33 post type-post status-publish format-standard hentry category-programming tag-lisp tag-ruby">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="../../../2006/06/19/ruby-python-for-lisp-programmers.html" rel="bookmark">Ruby: Python for Lisp Programmers</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>A popular game on comp.lang.lisp is comparing Lisp with Python.  Lispers complain that Python has a crippled lambda and no lexical closures, and they <a href="http://groups.google.com/group/comp.lang.lisp/browse_thread/thread/a253f3292d5fb512/5d858b4f4166cdd6">hiss and boo</a> whenever Python&#8217;s development tends in a <a href="http://www.artima.com/forums/flat.jsp?forum=106&amp;thread=98196">non-functional</a> direction.</p>
<p>I&#8217;ve recently been playing with <a href="http://ruby-lang.org/">Ruby</a>.  Lo and behold, it has real lambdas, closures, and a generally more functional style.  The syntax is almost as clean as Python&#8217;s, without that significant whitespace that raises so many hackles.</p>
<p>One thing I don&#8217;t yet understand about Ruby is the way it treats functional arguments.  A function or method in Ruby can have only one functional argument, which must be the last argument.  Functional arguments, or &#8220;blocks,&#8221; as they&#8217;re called in Ruby, appear outside the argument list of the function when it is called.  So it looks like this for short blocks:</p>
<pre>
object.method(arg1, arg2) { |var| <i>block code</i> }
</pre>
<p>Or like this for multi-line blocks:</p>
<pre>
object.method(arg1, arg2) do |var|
   <i>block code . . .</i>
end
</pre>
<p>In both examples, <code>|var|</code> is the block&#8217;s own argument list, so the Lispy equivalent of the above would be:</p>
<pre>
(method object arg1 arg2 (lambda (var) . . . ))
</pre>
<p>The main advantage to this syntax comes with iterators, which I take it were the reason Ruby got blocks in the first place.  Ruby&#8217;s iterators are just methods of  container objects that take a block as their only argument.  Then one can omit the parentheses to get something like:</p>
<pre>
list.each do |item|
   <i>do stuff with item</i>
end
</pre>
<p>This looks a bit like Smalltalk, one of Ruby&#8217;s inspirations.  The Smalltalk approach has the advantage that most control constructs are just object methods, so they can be extended and modified as needed.  (Unlike Smalltalk, Ruby has a few primitive controls that are not methods, such as <code>if</code>.)</p>
<p>So the special syntax for blocks isn&#8217;t strictly necessary, but it does make the most common use for blocks syntactically very simple.  In short, a compromise.  Ruby also provides the <code>Proc</code> class when general-purpose lambdas are needed.</p>
<p>I won&#8217;t advocate Lisp, Ruby, or Python over any other language; each has its place.  But Lispers looking for a compromise with Python may want to give Ruby a spin.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt='' src='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=49&amp;d=blank&amp;r=g' srcset='https://secure.gravatar.com/avatar/55878d0196b91803f9cb2c372b0551d3?s=98&amp;d=blank&amp;r=g 2x' class='avatar avatar-49 photo' height='49' width='49' /><span class="screen-reader-text">Author </span> <a class="url fn n" href="../../../author/stuart.html">Stuart</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../2006/06/19/ruby-python-for-lisp-programmers.html" rel="bookmark"><time class="entry-date published" datetime="2006-06-19T20:45:24+00:00">June 19, 2006</time><time class="updated" datetime="2006-06-19T20:51:35+00:00">June 19, 2006</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../category/programming.html" rel="category tag">Programming</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../lisp.html" rel="tag">Lisp</a>, <a href="../../ruby.html" rel="tag">Ruby</a></span><span class="comments-link"><a href="../../../2006/06/19/ruby-python-for-lisp-programmers.html#comments">6 Comments<span class="screen-reader-text"> on Ruby: Python for Lisp Programmers</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

	<nav class="navigation pagination" role="navigation">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><a class="prev page-numbers" href="2.html">Previous page</a>
<a class='page-numbers' href='../index.html'><span class="meta-nav screen-reader-text">Page </span>1</a>
<a class='page-numbers' href='2.html'><span class="meta-nav screen-reader-text">Page </span>2</a>
<span class='page-numbers current'><span class="meta-nav screen-reader-text">Page </span>3</span></div>
	</nav>
		</main><!-- .site-main -->
	</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="search-3" class="widget widget_search">
<form role="search" method="get" class="search-form" action="https://stuartsierra.com/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</section><section id="text-4" class="widget widget_text">			<div class="textwidget"><ul>
<li><a href="http://feeds2.feedburner.com/StuartSierra" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="../../../comments/feed" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
</ul>
<ul>
<li><a href="https://twitter.com/stuartsierra">Twitter</a></li>
<li><a href="https://github.com/stuartsierra">GitHub</a></li>
</ul></div>
		</section><section id="tag-widget-2" class="widget TagWidget"><h2 class="widget-title">Clojure Do’s and Don’ts</h2><ul class = "posts-by-tag-list"><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-883"><a class = "posts-by-tag-item-title" href="../../../2015/08/25/clojure-donts-lazy-effects.html">Clojure Don’ts: Lazy Effects</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-877"><a class = "posts-by-tag-item-title" href="../../../2015/08/10/clojure-donts-redundant-map.html">Clojure Don’ts: Redundant map</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-870"><a class = "posts-by-tag-item-title" href="../../../2015/06/16/clojure-donts-single-branch-if.html">Clojure Don’ts: Single-branch if</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-854"><a class = "posts-by-tag-item-title" href="../../../2015/06/10/clojure-donts-heisenparameter.html">Clojure Don’ts: The Heisenparameter</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-849"><a class = "posts-by-tag-item-title" href="../../../2015/06/01/clojure-donts-optional-arguments-with-varargs.html">Clojure Don’ts: Optional Arguments with Varargs</a></li><li class="posts-by-tag-item Clojure do's and don'ts errors" id="posts-by-tag-item-836"><a class = "posts-by-tag-item-title" href="../../../2015/05/27/clojure-uncaught-exceptions.html">Clojure Do’s: Uncaught Exceptions</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-831"><a class = "posts-by-tag-item-title" href="../../../2015/05/17/clojure-record-constructors.html">Record Constructors</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-826"><a class = "posts-by-tag-item-title" href="../../../2015/05/10/clojure-namespace-aliases.html">Clojure Do’s: Namespace Aliases</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-820"><a class = "posts-by-tag-item-title" href="../../../2015/05/02/clojure-donts-isa.html">Clojure Don’ts: isa?</a></li><li class="posts-by-tag-item Clojure do's and don'ts" id="posts-by-tag-item-812"><a class = "posts-by-tag-item-title" href="../../../2015/04/26/clojure-donts-concat.html">Clojure Don’ts: Concat</a></li></ul></section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="Footer Primary Menu">
					<div class="menu-main-menu-container"><ul id="menu-main-menu-1" class="primary-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="../../../about-me.html">About Me</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-633"><a href="../../../writing.html">Writing</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="../../../presentations.html">Presentations</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="../../../software.html">Software</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="../../../contact.html">Contact</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
			
			<div class="site-info">
								<span class="site-title"><a href="../../../index.html" rel="home">Digital Digressions by Stuart Sierra</a></span>
				<a href="https://wordpress.org/">Proudly powered by WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

	<div style="display:none">
	<div class="grofile-hash-map-55878d0196b91803f9cb2c372b0551d3">
	</div>
	</div>
<script type='text/javascript' src='https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201635'></script>
<script type='text/javascript' src='https://secure.gravatar.com/js/gprofiles.js?ver=2016Sepaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/plugins/jetpack/modules/wpgroho167b.js?ver=4.6'></script>
<script type='text/javascript' src='../../../wp-content/themes/twentysixteen/js/skip-link-focus-fix8de4.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/themes/twentysixteen/js/functions8de4.js?ver=20160816'></script>
<script type='text/javascript' src='../../../wp-includes/js/wp-embed.min167b.js?ver=4.6'></script>
<script type='text/javascript' src='https://stats.wp.com/e-201635.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.2.2',blog:'2702563',post:'0',tz:'-4',srv:'stuartsierra.com'} ]);
	_stq.push([ 'clickTrackerInit', '2702563', '0' ]);
</script>
</body>

<!-- Mirrored from stuartsierra.com/tag/ruby/page/3 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 Sep 2016 17:01:55 GMT -->
</html>

<!-- Dynamic page generated in 0.338 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2016-09-02 12:58:54 -->

<!-- Compression = gzip -->
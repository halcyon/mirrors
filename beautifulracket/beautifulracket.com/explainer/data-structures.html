<!DOCTYPE html>
<html>
  
<!-- Mirrored from beautifulracket.com/explainer/data-structures.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 16 Mar 2017 05:46:54 GMT -->
<head>
    <meta charset="UTF-8">
    <title>Beautiful Racket: Data structures</title>
    <link rel="stylesheet" type="text/css" media="all" href="../styles.css"/>
    <script type="text/javascript" src="../functions.js"></script>
    <script type="text/javascript" src="../clipboard.min.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-74684045-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
<body>
<div id="alert">Thank you for your comment</div>
    <div id="doc"><h3 class="dept" anchorize="false"><a href="../index.html">Beau­ti­ful Racket</a> / <a href="../index.html#explainers">explain­ers</a></h3><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;data-structures&quot;)"></div><h1 anchor="data-structures" id="data-structures" hyphens="none">Data structures</h1></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_poKHa&quot;)"></div><p id="a_poKHa">Racket’s data struc­tures have dis­tinct char­ac­ter­is­tics that often make one more suit­able for a par­tic­u­lar job: <span class="tooltip" onclick="this.classList.toggle('tooltip_visible')"> + <span class="tooltip-inner">Chart adapted from <a class=" ext" href="http://stackoverflow.com/a/27589146/1486915">Jens Axel Søgaard</a>.</span></span></p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_mtPiO&quot;)"></div><div id="a_mtPiO"><table class="quick" form="false" id="a_jYg2j"><tr><th>Struc­ture</th><th>Access</th><th>Val­ues</th><th>Index</th><th>Muta­ble?</th></tr><tr><td hyphens="none">pair</td><td hyphens="none">random</td><td hyphens="none">two</td><td hyphens="none">nothing</td><td hyphens="none">no</td></tr><tr><td hyphens="none">list</td><td hyphens="none">sequential</td><td hyphens="none">variable</td><td hyphens="none">nothing</td><td hyphens="none">no</td></tr><tr><td hyphens="none">hash table</td><td hyphens="none">random</td><td hyphens="none">variable</td><td hyphens="none">keys</td><td hyphens="none">optional</td></tr><tr><td hyphens="none">association list</td><td hyphens="none">sequential or random</td><td hyphens="none">variable</td><td hyphens="none">car</td><td hyphens="none">no</td></tr><tr><td hyphens="none">vector</td><td hyphens="none">random</td><td hyphens="none">fixed</td><td hyphens="none">integers</td><td hyphens="none">optional</td></tr><tr><td hyphens="none">struct</td><td hyphens="none">random</td><td hyphens="none">fixed</td><td hyphens="none">identifiers</td><td hyphens="none">optional</td></tr></table></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_MkTsy&quot;)"></div><p id="a_MkTsy">The hash table, vec­tor, and struct are avail­able in muta­ble (mean­ing, inter­nal val­ues can be changed) and immutable vari­ants. As a rule, unless you need a muta­ble struc­ture, choose an immutable one, because Racket can bet­ter opti­mize immutable struc­tures for speed.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;pairs&quot;)"></div><h3 anchor="pairs" class="subhead" id="pairs"><a href="#pairs">Pairs</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_gDGmU&quot;)"></div><p id="a_gDGmU">A <em>pair</em> holds two val­ues. A pair is made with <a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" class="docs" hyphens="none">cons</a>, and the val­ues can be retrieved with <a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._car))" class="docs" hyphens="none">car</a> and <a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cdr))" class="docs" hyphens="none">cdr</a>. If you’ve got exactly two val­ues, great. If you’ve got more, look else­where.</p></div><ul><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_WXUd5&quot;)"></div><p id="a_WXUd5">More about <a class="explainer" href="pairs.html">pairs</a></p></div></li></ul><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;lists&quot;)"></div><h3 anchor="lists" class="subhead" id="lists"><a href="#lists">Lists</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_CuWpz&quot;)"></div><p id="a_CuWpz">A <em>list</em> holds any num­ber of val­ues. Because lists are made from a sequence of linked pairs, they’re opti­mized for sequen­tial access, and thus are the char­ac­ter­is­tic data struc­tures used in iter­a­tion and recur­sion. Ran­dom access (with <a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list-ref))" class="docs" hyphens="none">list-ref</a>) is fea­si­ble with short lists. For long lists, ran­dom access can be slow, so a <a href="#vector">vec­tor</a> is the bet­ter option.</p></div><ul><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_wThQx&quot;)"></div><p id="a_wThQx">More about <a class="explainer" href="lists.html">lists</a></p></div></li></ul><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;hash-tables&quot;)"></div><h3 anchor="hash-tables" class="subhead" id="hash-tables"><a href="#hash-tables">Hash tables</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_ucj38&quot;)"></div><p id="a_ucj38">A <em>hash table</em> is a map­ping of keys to val­ues, which can them­selves be any data type. Hash val­ues can be retrieved with <a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hash-ref))" class="docs" hyphens="none">hash-ref</a>:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_GysrM&quot;)"></div><div class="highlight-container" id="a_GysrM"><div id="code_43" form="false" decode="exclude" style="font-size:0;width:0;height:0">(define ht (hash<br/>            'foo "bar"<br/>            '(1 2 3) expt<br/>            42 #'(start-zombie-apocalypse)))<br/><br/>(hash-ref ht '(1 2 3)) ; #&lt;procedure:expt&gt;<br/>(hash-ref ht 42) ; #&lt;syntax:5:17 (start-zombie-apocalypse)&gt;<br/>(hash-ref ht 'foo) ; "bar"</div><div class="highlight" form="false" id="a_tmcQc"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="n">ht</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hash))" class="docs" hyphens="none">hash</a></span>
            <span class="o">&#39;</span><span class="ss">foo</span> <span class="s2">"bar"</span>
            <span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._expt))" class="docs" hyphens="none">expt</a></span>
            <span class="mi">42</span> <span class="o">#&#39;</span><span class="p">(</span><span class="n">start-zombie-apocalypse</span><span class="p">)))</span>

<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hash-ref))" class="docs" hyphens="none">hash-ref</a></span> <span class="n">ht</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">))</span> <span class="c1">; #&lt;procedure:expt&gt;</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hash-ref))" class="docs" hyphens="none">hash-ref</a></span> <span class="n">ht</span> <span class="mi">42</span><span class="p">)</span> <span class="c1">; #&lt;syntax:5:17 (start-zombie-apocalypse)&gt;</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hash-ref))" class="docs" hyphens="none">hash-ref</a></span> <span class="n">ht</span> <span class="o">&#39;</span><span class="ss">foo</span><span class="p">)</span> <span class="c1">; "bar"</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk" data-clipboard-target="#code_43" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_q0WAa&quot;)"></div><p id="a_q0WAa">A hash table can be muta­ble—mean­ing, val­ues can be added, deleted, or updated—or immutable. An immutable hash table is cre­ated with <a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hash))" class="docs" hyphens="none">hash</a> (as demon­strated above). A muta­ble hash table is cre­ated with <a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._make-hash))" class="docs" hyphens="none">make-hash</a>, and then can be changed with <a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hash-set!))" class="docs" hyphens="none">hash-set!</a>:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_UmHey&quot;)"></div><div class="highlight-container" id="a_UmHey"><div id="code_44" form="false" decode="exclude" style="font-size:0;width:0;height:0">(define mht (make-hash))<br/>(hash-set! mht 'foo "bar")<br/>(hash-ref mht 'foo) ; "bar"<br/>(hash-set! mht 'foo 42)<br/>(hash-ref mht 'foo) ; 42</div><div class="highlight" form="false" id="a_DiV4k"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="n">mht</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._make-hash))" class="docs" hyphens="none">make-hash</a></span><span class="p">))</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hash-set!))" class="docs" hyphens="none">hash-set!</a></span> <span class="n">mht</span> <span class="o">&#39;</span><span class="ss">foo</span> <span class="s2">"bar"</span><span class="p">)</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hash-ref))" class="docs" hyphens="none">hash-ref</a></span> <span class="n">mht</span> <span class="o">&#39;</span><span class="ss">foo</span><span class="p">)</span> <span class="c1">; "bar"</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hash-set!))" class="docs" hyphens="none">hash-set!</a></span> <span class="n">mht</span> <span class="o">&#39;</span><span class="ss">foo</span> <span class="mi">42</span><span class="p">)</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hash-ref))" class="docs" hyphens="none">hash-ref</a></span> <span class="n">mht</span> <span class="o">&#39;</span><span class="ss">foo</span><span class="p">)</span> <span class="c1">; 42</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk1" data-clipboard-target="#code_44" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_dpjgX&quot;)"></div><p id="a_dpjgX">By default, a hash table uses <a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._equal~3f))" class="docs" hyphens="none">equal?</a> to com­pare keys. Hash tables that use the faster <a class="explainer" href="equality.html">equal­ity</a> func­tions (<a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._eq~3f))" class="docs" hyphens="none">eq?</a> and <a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._eqv~3f))" class="docs" hyphens="none">eqv?</a>) are also avail­able. If your keys are only sym­bols, you can use <a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hasheq))" class="docs" hyphens="none">hasheq</a> or <a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._make-hasheq))" class="docs" hyphens="none">make-hasheq</a>; if your keys are only sym­bols or num­bers, you can use <a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._hasheqv))" class="docs" hyphens="none">hasheqv</a> or <a href="http://docs.racket-lang.org/reference/hashtables.html#(def._((quote._~23~25kernel)._make-hasheqv))" class="docs" hyphens="none">make-hasheqv</a>.</p></div><ul><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_aeQbS&quot;)"></div><p id="a_aeQbS">More about <a class="explainer" href="equality.html">equal­ity</a></p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_AXe6Q&quot;)"></div><p id="a_AXe6Q"><span><a href="http://docs.racket-lang.org/guide/hash-tables.html">Hash tables</a> in the Racket Guide</span></p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_g7yyP&quot;)"></div><p id="a_g7yyP"><span><a href="http://docs.racket-lang.org/reference/hashtables.html">Hash tables</a> in the Racket Ref­er­ence</span></p></div></li></ul><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;association-lists&quot;)"></div><h3 anchor="association-lists" class="subhead" id="association-lists"><a href="#association-lists">Asso­ci­a­tion lists</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_ofY4Q&quot;)"></div><p id="a_ofY4Q">The hum­ble <em>asso­ci­a­tion list</em> is often over­looked for small jobs. It’s not a dis­tinct data struc­ture, but rather a list where every ele­ment is a pair that holds a key and value (aka an <a class="glossary" href="../appendix/glossary.html#association"><span class="glossary-link-text">asso­ci­a­tion</span></a>):</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_FVOyk&quot;)"></div><div class="highlight-container" id="a_FVOyk"><div id="code_45" form="false" decode="exclude" style="font-size:0;width:0;height:0">(define assn (list (cons 'k1 "v1") (cons 'k2 "v2")))<br/>assn ; '((k1 . "v1") (k2 . "v2"))</div><div class="highlight" form="false" id="a_mM2ki"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="n">assn</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="docs" hyphens="none">list</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" class="docs" hyphens="none">cons</a></span> <span class="o">&#39;</span><span class="ss">k1</span> <span class="s2">"v1"</span><span class="p">)</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" class="docs" hyphens="none">cons</a></span> <span class="o">&#39;</span><span class="ss">k2</span> <span class="s2">"v2"</span><span class="p">)))</span>
<span class="n">assn</span> <span class="c1">; &#39;((k1 . "v1") (k2 . "v2"))</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk2" data-clipboard-target="#code_45" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_frnUA&quot;)"></div><p id="a_frnUA">Asso­ci­a­tion lists are easy to make and break, with the help of <a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/map..rkt)._map))" class="docs" hyphens="none">map</a>:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_eInxz&quot;)"></div><div class="highlight-container" id="a_eInxz"><div id="code_46" form="false" decode="exclude" style="font-size:0;width:0;height:0">(define assn (map cons (range 5) '(a b c d e)))<br/>assn ; '((0 . a) (1 . b) (2 . c) (3 . d) (4 . e))<br/>(define keys (map car assn))<br/>keys ; '(0 1 2 3 4)<br/>(define vals (map cdr assn))<br/>vals ; '(a b c d e)</div><div class="highlight" form="false" id="a_9TAvS"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="n">assn</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/map..rkt)._map))" class="docs" hyphens="none">map</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" class="docs" hyphens="none">cons</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._range))" class="docs" hyphens="none">range</a></span> <span class="mi">5</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">a</span> <span class="ss">b</span> <span class="ss">c</span> <span class="ss">d</span> <span class="ss">e</span><span class="p">)))</span>
<span class="n">assn</span> <span class="c1">; &#39;((0 . a) (1 . b) (2 . c) (3 . d) (4 . e))</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="n">keys</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/map..rkt)._map))" class="docs" hyphens="none">map</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._car))" class="docs" hyphens="none">car</a></span> <span class="n">assn</span><span class="p">))</span>
<span class="n">keys</span> <span class="c1">; &#39;(0 1 2 3 4)</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="n">vals</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/map..rkt)._map))" class="docs" hyphens="none">map</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cdr))" class="docs" hyphens="none">cdr</a></span> <span class="n">assn</span><span class="p">))</span>
<span class="n">vals</span> <span class="c1">; &#39;(a b c d e)</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk3" data-clipboard-target="#code_46" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_c6znZ&quot;)"></div><p id="a_c6znZ">As lists, asso­ci­a­tion lists work with the usual <a class="explainer" href="lists.html">list</a> func­tions. They can also be used with <a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/list..rkt)._assoc))" class="docs" hyphens="none">assoc</a> (and its vari­ants <a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/list..rkt)._assv))" class="docs" hyphens="none">assv</a>, <a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/list..rkt)._assq))" class="docs" hyphens="none">assq</a>, and <a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/list..rkt)._assf))" class="docs" hyphens="none">assf</a>) to find par­tic­u­lar ele­ment pairs:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_3xKJc&quot;)"></div><div class="highlight-container" id="a_3xKJc"><div id="code_47" form="false" decode="exclude" style="font-size:0;width:0;height:0">(define assn (map cons (range 5) '(a b c d e)))<br/>(assoc 3 assn) ; '(3 . d)</div><div class="highlight" form="false" id="a_jhmDC"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="n">assn</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/map..rkt)._map))" class="docs" hyphens="none">map</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" class="docs" hyphens="none">cons</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._range))" class="docs" hyphens="none">range</a></span> <span class="mi">5</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">a</span> <span class="ss">b</span> <span class="ss">c</span> <span class="ss">d</span> <span class="ss">e</span><span class="p">)))</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/list..rkt)._assoc))" class="docs" hyphens="none">assoc</a></span> <span class="mi">3</span> <span class="n">assn</span><span class="p">)</span> <span class="c1">; &#39;(3 . d)</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk4" data-clipboard-target="#code_47" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_hiyVt&quot;)"></div><p id="a_hiyVt">Asso­ci­a­tion lists also can be used in a hash-table-ish way with generic <a class="glossary" href="../appendix/glossary.html#dictionary"><span class="glossary-link-text">dic­tio­nary</span></a> func­tions like <a href="http://docs.racket-lang.org/reference/dicts.html#(def._((lib._racket/dict..rkt)._dict-ref))" class="docs" hyphens="none">dict-ref</a>:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_8eFkD&quot;)"></div><div class="highlight-container" id="a_8eFkD"><div id="code_48" form="false" decode="exclude" style="font-size:0;width:0;height:0">(require racket/dict)<br/>(define assn (map cons (range 5) '(a b c d e)))<br/>(dict-ref assn 3) ; 'd</div><div class="highlight" form="false" id="a_3bYpk"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="docs" hyphens="none">require</a></span> <span class="n">racket/dict</span><span class="p">)</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="n">assn</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/private/map..rkt)._map))" class="docs" hyphens="none">map</a></span> <span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" class="docs" hyphens="none">cons</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket/list..rkt)._range))" class="docs" hyphens="none">range</a></span> <span class="mi">5</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">a</span> <span class="ss">b</span> <span class="ss">c</span> <span class="ss">d</span> <span class="ss">e</span><span class="p">)))</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/dicts.html#(def._((lib._racket/dict..rkt)._dict-ref))" class="docs" hyphens="none">dict-ref</a></span> <span class="n">assn</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">; &#39;d</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk5" data-clipboard-target="#code_48" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><ul><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_wThQx6&quot;)"></div><p id="a_wThQx6">More about <a class="explainer" href="lists.html">lists</a></p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_q2W2R&quot;)"></div><p id="a_q2W2R"><span><a href="http://docs.racket-lang.org/reference/reference/dicts.html">Dic­tio­nar­ies</a> in the Racket Ref­er­ence</span></p></div></li></ul><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;vectors&quot;)"></div><h3 anchor="vectors" class="subhead" id="vectors"><a href="#vectors">Vec­tors</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_pkB5S&quot;)"></div><p id="a_pkB5S">A <em>vec­tor</em> is an array of val­ues, indexed by loca­tion and opti­mized for ran­dom access. Though vec­tors come in immutable and muta­ble vari­ants, the length of a vec­tor is always fixed. <span class="tooltip" onclick="this.classList.toggle('tooltip_visible')"> + <span class="tooltip-inner">But see <a href="http://docs.racket-lang.org/data/gvector.html">grow­able vec­tors</a>, which can be resized.</span></span></p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_eYjxw&quot;)"></div><p id="a_eYjxw">A basic immutable vec­tor can be made with <a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector))" class="docs" hyphens="none">vector</a> and val­ues retrieved with <a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector-ref))" class="docs" hyphens="none">vector-ref</a>:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_SGnDs&quot;)"></div><div class="highlight-container" id="a_SGnDs"><div id="code_49" form="false" decode="exclude" style="font-size:0;width:0;height:0">(define vec (vector 'sym "str" 42))<br/>vec ; '#(sym "str" 42)<br/>(vector-ref vec 0) ; 'sym<br/>(vector-ref vec 1) ; "str"<br/>(vector-ref vec 2) ; 42</div><div class="highlight" form="false" id="a_UYbxw"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="n">vec</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector))" class="docs" hyphens="none">vector</a></span> <span class="o">&#39;</span><span class="ss">sym</span> <span class="s2">"str"</span> <span class="mi">42</span><span class="p">))</span>
<span class="n">vec</span> <span class="c1">; &#39;#(sym "str" 42)</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector-ref))" class="docs" hyphens="none">vector-ref</a></span> <span class="n">vec</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">; &#39;sym</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector-ref))" class="docs" hyphens="none">vector-ref</a></span> <span class="n">vec</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">; "str"</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector-ref))" class="docs" hyphens="none">vector-ref</a></span> <span class="n">vec</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">; 42</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk7" data-clipboard-target="#code_49" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_FAC75&quot;)"></div><p id="a_FAC75">For a muta­ble vec­tor, use <a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._make-vector))" class="docs" hyphens="none">make-vector</a> (with the length of the vec­tor) and <a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector-set!))" class="docs" hyphens="none">vector-set!</a>:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_InzaF&quot;)"></div><div class="highlight-container" id="a_InzaF"><div id="code_50" form="false" decode="exclude" style="font-size:0;width:0;height:0">(define mvec (make-vector 2))<br/>(vector-set! mvec 0 'sym)<br/>(vector-set! mvec 1 "str")<br/>mvec ; '#(sym "str")<br/>(vector-set! mvec 1 42)<br/>mvec ; '#(sym 42)</div><div class="highlight" form="false" id="a_VzeCT"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="n">mvec</span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._make-vector))" class="docs" hyphens="none">make-vector</a></span> <span class="mi">2</span><span class="p">))</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector-set!))" class="docs" hyphens="none">vector-set!</a></span> <span class="n">mvec</span> <span class="mi">0</span> <span class="o">&#39;</span><span class="ss">sym</span><span class="p">)</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector-set!))" class="docs" hyphens="none">vector-set!</a></span> <span class="n">mvec</span> <span class="mi">1</span> <span class="s2">"str"</span><span class="p">)</span>
<span class="n">mvec</span> <span class="c1">; &#39;#(sym "str")</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector-set!))" class="docs" hyphens="none">vector-set!</a></span> <span class="n">mvec</span> <span class="mi">1</span> <span class="mi">42</span><span class="p">)</span>
<span class="n">mvec</span> <span class="c1">; &#39;#(sym 42)</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk8" data-clipboard-target="#code_50" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_58hYl&quot;)"></div><p id="a_58hYl">Vec­tors and lists can be mutu­ally con­verted with <a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector-~3elist))" class="docs" hyphens="none">vector-&gt;list</a> and <a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._list-~3evector))" class="docs" hyphens="none">list-&gt;vector</a>.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_8tmxY&quot;)"></div><p id="a_8tmxY">A vec­tor is faster than a hash table, so if you can use sequen­tial inte­gers for keys, a vec­tor is the bet­ter choice.</p></div><ul><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_UfbAU&quot;)"></div><p id="a_UfbAU"><span><a href="http://docs.racket-lang.org/guide/vectors.html">Vec­tors</a> in the Racket Guide</span></p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_D5Ted&quot;)"></div><p id="a_D5Ted"><span><a href="http://docs.racket-lang.org/reference/vectors.html">Vec­tors</a> in the Racket Ref­er­ence</span></p></div></li></ul><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;structure-types&quot;)"></div><h3 anchor="structure-types" class="subhead" id="structure-types"><a href="#structure-types">Struc­ture types</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_zPhrr&quot;)"></div><p id="a_zPhrr">A <em>struc­ture type</em> is a user-defined data struc­ture with an arbi­trary num­ber of fields. Like a hash table, a struc­ture type allows access to its fields by name. Like a vec­tor, the num­ber of fields is fixed by the struc­ture-type def­i­n­i­tion.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_mkPGJ&quot;)"></div><p id="a_mkPGJ">The <a href="http://docs.racket-lang.org/reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="docs" hyphens="none">struct</a> form defines the struc­ture type itself, and also man­u­fac­tures a <a class="glossary" href="../appendix/glossary.html#predicate"><span class="glossary-link-text">pred­i­cate</span></a> func­tion and <a class="glossary" href="../appendix/glossary.html#getter"><span class="glossary-link-text">get­ter</span></a> func­tions (and, for muta­ble struc­ture types, <a class="glossary" href="../appendix/glossary.html#setter"><span class="glossary-link-text">set­ter</span></a> func­tions): <span class="tooltip" onclick="this.classList.toggle('tooltip_visible')"> + <span class="tooltip-inner">The <span class="my-code" decode="exclude">#:transparent</span> option makes the struc­ture type print­able in the REPL.</span></span></p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_bvX7u&quot;)"></div><div class="highlight-container" id="a_bvX7u"><div id="code_51" form="false" decode="exclude" style="font-size:0;width:0;height:0">(struct style (color size weight) #:transparent #:mutable)<br/>(define s (style "red" 42 'bold))<br/>s ; (style "red" 42 'bold)<br/>(style? s) ; #t<br/>(style-color s) ; "red"<br/>(set-style-color! s "blue")<br/>(style-color s) ; "blue"</div><div class="highlight" form="false" id="a_e6u1h"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="docs" hyphens="none">struct</a></span> <span class="n">style</span> <span class="p">(</span><span class="n">color</span> <span class="n">size</span> <span class="n">weight</span><span class="p">)</span> <span class="kd">#:transparent</span> <span class="kd">#:mutable</span><span class="p">)</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="n">s</span> <span class="p">(</span><span class="n">style</span> <span class="s2">"red"</span> <span class="mi">42</span> <span class="o">&#39;</span><span class="ss">bold</span><span class="p">))</span>
<span class="n">s</span> <span class="c1">; (style "red" 42 &#39;bold)</span>
<span class="p">(</span><span class="n">style?</span> <span class="n">s</span><span class="p">)</span> <span class="c1">; #t</span>
<span class="p">(</span><span class="n">style-color</span> <span class="n">s</span><span class="p">)</span> <span class="c1">; "red"</span>
<span class="p">(</span><span class="n">set-style-color!</span> <span class="n">s</span> <span class="s2">"blue"</span><span class="p">)</span>
<span class="p">(</span><span class="n">style-color</span> <span class="n">s</span><span class="p">)</span> <span class="c1">; "blue"</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk9" data-clipboard-target="#code_51" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_UcmQz&quot;)"></div><p id="a_UcmQz">It’s not uncom­mon for a Rack­e­teer to throw some val­ues into a list as a quick-and-dirty data struc­ture. But for any­thing that will be used more than once, a struc­ture type is bet­ter:</p></div><ol><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_2renq&quot;)"></div><p id="a_2renq">The struc­ture-type get­ters and set­ters have read­able names.</p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_espTZ&quot;)"></div><p id="a_espTZ">The struc­ture type can have fields added to its def­i­n­i­tion with­out chang­ing exist­ing ref­er­ences.</p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_hwfMc&quot;)"></div><p id="a_hwfMc">An instance of a struc­ture type is rep­re­sented as a sin­gle object in mem­ory, so it can be passed around a pro­gram “by ref­er­ence” (mean­ing, it’s not dupli­cated if passed from one func­tion to another).</p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_4Zf82&quot;)"></div><p id="a_4Zf82">A struc­ture type has its own unique pred­i­cate, which can be effi­ciently tested (say, inside a <a class="explainer" href="contracts.html">con­tract</a>).</p></div></li></ol><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_HBEsq&quot;)"></div><p id="a_HBEsq">The dis­ad­van­tage of a struc­ture type is that it’s a dis­tinct data type from a hash table, vec­tor, or list, so it can’t be directly used with the library func­tions that con­sume those types. There’s a lit­tle more house­keep­ing to get val­ues in &amp; out.</p></div><ul><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_pLWH6&quot;)"></div><p id="a_pLWH6"><span><a href="http://docs.racket-lang.org/guide/define-struct.html">Pro­gram­mer-Defined Datatypes</a> in the Racket Guide</span></p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_U6NOc&quot;)"></div><p id="a_U6NOc"><span><a href="http://docs.racket-lang.org/reference/define-struct.html">Struc­ture Types</a> in the Racket Ref­er­ence</span></p></div></li></ul><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;classes&quot;)"></div><h3 anchor="classes" class="subhead" id="classes"><a href="#classes">Classes</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_26OEd&quot;)"></div><p id="a_26OEd"><em>Classes</em>—in the object-ori­ented pro­gram­ming (OOP) sense—are a big deal in many lan­guages. But not in Racket.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_VHdND&quot;)"></div><p id="a_VHdND">Racket has them, of course. They’re used in a cou­ple parts of the library (most promi­nently, the <a href="http://docs.racket-lang.org/framework/index.html">GUI frame­work</a>). Oth­er­wise, rarely. In DSLs, almost never.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_2Ckl4&quot;)"></div><p id="a_2Ckl4">Why is that? OOP encour­ages pro­gram­mers to think about func­tions as things that are tucked inside data struc­tures as “meth­ods.” Classes them­selves often rely on state and muta­tion.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_cxHaK&quot;)"></div><p id="a_cxHaK">Whereas func­tional pro­gram­ming gen­er­ally, and Racket in par­tic­u­lar, encour­ages us to think about data struc­tures as things that are con­sumed by func­tions. And of course, to avoid state and muta­tion where pos­si­ble. So it’s an inver­sion of pri­or­ity.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_qOtk1&quot;)"></div><p id="a_qOtk1">Thus, as a con­se­quence of the func­tional style, most Rack­e­teers don’t find classes necess­sary. But they aren’t avoid­ing OOP as a polit­i­cal ges­ture. If you want to rock it OOP-style in Racket, go ahead. No one will ever say you’re wrong.</p></div><ul><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_YX4ho&quot;)"></div><p id="a_YX4ho"><span><a href="http://docs.racket-lang.org/guide/classes.html">Classes and Objects</a> in the Racket Guide</span></p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_ZppPn&quot;)"></div><p id="a_ZppPn"><span><a href="http://docs.racket-lang.org/reference/mzlib_class.html">Classes and Objects</a> in the Racket Ref­er­ence</span></p></div></li></ul></div>
    <a class="nav-left" href="contracts.html">← prev</a>
    <a class="nav-right" href="equality.html">next →</a>




</body>

<script type="text/javascript">



function show_all_forms() {
 var elems = document.getElementsByClassName('has_form');
 for (var i = 0 ; i < elems.length ; i++) {
  toggle_form(elems[i].id);
 }
}

// for debugging forms only: uncomment next line
// show_all_forms();

// sets up copy-to-clipboard buttons in code boxes
var clipboard = new Clipboard('.copy-button');
clipboard.on('success', function(e) {console.log(e);});
clipboard.on('error', function(e) {console.log(e);});
</script>
<!DOCTYPE html>
<html>
  
<!-- Mirrored from beautifulracket.com/explainer/modules.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 16 Mar 2017 05:46:55 GMT -->
<head>
    <meta charset="UTF-8">
    <title>Beautiful Racket: Modules</title>
    <link rel="stylesheet" type="text/css" media="all" href="../styles.css"/>
    <script type="text/javascript" src="../functions.js"></script>
    <script type="text/javascript" src="../clipboard.min.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-74684045-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
<body>
<div id="alert">Thank you for your comment</div>
    <div id="doc"><h3 class="dept" anchorize="false"><a href="../index.html">Beau­ti­ful Racket</a> / <a href="../index.html#explainers">explain­ers</a></h3><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;modules&quot;)"></div><h1 anchor="modules" id="modules" hyphens="none">Modules</h1></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_Bzqg9&quot;)"></div><p id="a_Bzqg9">A <a class="glossary" href="../appendix/glossary.html#module"><span class="glossary-link-text">mod­ule</span></a> is the basic orga­ni­za­tional unit of code in Racket. Three sim­ple rules:</p></div><ol><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_Jmvu3&quot;)"></div><p id="a_Jmvu3">All pro­gram code is con­tained in a mod­ule, through the use of <a href="http://docs.racket-lang.org/reference/module.html#(form._((quote._~23~25kernel)._module))" class="docs" hyphens="none">module</a> or one of its vari­ants. A mod­ule expres­sion includes a name, an <a class="glossary" href="../appendix/glossary.html#expander"><span class="glossary-link-text">expander</span></a>, and a body con­tain­ing other expres­sions:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_u0XmW&quot;)"></div><div class="highlight-container" id="a_u0XmW"><div id="code_43" form="false" decode="exclude" style="font-size:0;width:0;height:0">(module module-name expander<br/>   expressions-to-expand-and-evaluate ...)</div><div class="highlight" form="false" id="a_CB4WH"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/module.html#(form._((quote._~23~25kernel)._module))" class="docs" hyphens="none">module</a></span> <span class="n">module-name</span> <span class="n">expander</span>
   <span class="n">expressions-to-expand-and-evaluate</span> <span class="nb"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="docs" hyphens="none">...</a></span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk" data-clipboard-target="#code_43" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_gVLgF&quot;)"></div><p id="a_gVLgF">For instance, this code cre­ates a mod­ule named <span class="my-code" decode="exclude">my-module</span>, using the <span class="my-code" decode="exclude">br</span> expander, with one expres­sion inside:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_hEoI4&quot;)"></div><div class="highlight-container" id="a_hEoI4"><div id="code_44" form="false" decode="exclude" style="font-size:0;width:0;height:0">(module my-module br<br/>  (* 6 7))</div><div class="highlight" form="false" id="a_7y6LN"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/module.html#(form._((quote._~23~25kernel)._module))" class="docs" hyphens="none">module</a></span> <span class="n">my-module</span> <span class="n">br</span>
  <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" class="docs" hyphens="none">*</a></span> <span class="mi">6</span> <span class="mi">7</span><span class="p">))</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk1" data-clipboard-target="#code_44" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_BAALL&quot;)"></div><p id="a_BAALL">The expander pro­vides the ini­tial <a class="glossary" href="../appendix/glossary.html#binding"><span class="glossary-link-text">bind­ings</span></a> that are avail­able to expres­sions inside the mod­ule. If those expres­sions refer to bind­ings not pro­vided by the expander, or not oth­er­wise imported within the mod­ule (with <a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="docs" hyphens="none">require</a>), then the mod­ule will not run.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_EH3gj&quot;)"></div><p id="a_EH3gj">For instance, this mod­ule will work, because <span class="my-code" decode="exclude">format-datum</span> is pro­vided by the <span class="my-code" decode="exclude">br</span> lan­guage:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_r686E&quot;)"></div><div class="highlight-container" id="a_r686E"><div id="code_45" form="false" decode="exclude" style="font-size:0;width:0;height:0">(module mod-name br<br/>  (format-datum '(hello world)))</div><div class="highlight" form="false" id="a_5ELTG"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/module.html#(form._((quote._~23~25kernel)._module))" class="docs" hyphens="none">module</a></span> <span class="n">mod-name</span> <span class="n">br</span>
  <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/br/index.html#(def._((lib._br/datum..rkt)._format-datum))" class="docs" hyphens="none">format-datum</a></span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">hello</span> <span class="ss">world</span><span class="p">)))</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk2" data-clipboard-target="#code_45" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_l6Xee&quot;)"></div><p id="a_l6Xee">But this mod­ule will not, because <span class="my-code" decode="exclude">format-datum</span> is not pro­vided by the <span class="my-code" decode="exclude">racket</span> lan­guage:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_1GYP4&quot;)"></div><div class="highlight-container" id="a_1GYP4"><div id="code_46" form="false" decode="exclude" style="font-size:0;width:0;height:0">(module mod-name racket<br/>  (format-datum '(hello world)))</div><div class="highlight" form="false" id="a_3HcQk"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/module.html#(form._((quote._~23~25kernel)._module))" class="docs" hyphens="none">module</a></span> <span class="n">mod-name</span> <span class="nb"><a href="http://docs.racket-lang.org/scribble/scribble_manual_code.html#(form._((lib._scribble/manual..rkt)._racket))" class="docs" hyphens="none">racket</a></span>
  <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/br/index.html#(def._((lib._br/datum..rkt)._format-datum))" class="docs" hyphens="none">format-datum</a></span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">hello</span> <span class="ss">world</span><span class="p">)))</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk3" data-clipboard-target="#code_46" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_VlUxy&quot;)"></div><p id="a_VlUxy">But that can be fixed with a <span class="my-code" decode="exclude">require</span>, and this ver­sion will run:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_5UKyv&quot;)"></div><div class="highlight-container" id="a_5UKyv"><div id="code_47" form="false" decode="exclude" style="font-size:0;width:0;height:0">(module mod-name racket<br/>  (require br)<br/>  (format-datum '(hello world)))</div><div class="highlight" form="false" id="a_JahnR"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/module.html#(form._((quote._~23~25kernel)._module))" class="docs" hyphens="none">module</a></span> <span class="n">mod-name</span> <span class="nb"><a href="http://docs.racket-lang.org/scribble/scribble_manual_code.html#(form._((lib._scribble/manual..rkt)._racket))" class="docs" hyphens="none">racket</a></span>
  <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="docs" hyphens="none">require</a></span> <span class="n">br</span><span class="p">)</span>
  <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/br/index.html#(def._((lib._br/datum..rkt)._format-datum))" class="docs" hyphens="none">format-datum</a></span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">hello</span> <span class="ss">world</span><span class="p">)))</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk4" data-clipboard-target="#code_47" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_pkbh0&quot;)"></div><p id="a_pkbh0">Mod­ules are “lazy” in the sense that the code inside a mod­ule never runs until that mod­ule is explic­itly requested (say, by a <span class="my-code" decode="exclude">require</span> from else­where—see <a class="explainer" href="importing-and-exporting.html">import­ing and export­ing</a>).</p></div></li></ol><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_8fYCQ&quot;)"></div><p id="a_8fYCQ">“What about a source file with a <a href="lang-line.html"><span class="my-code" decode="exclude">#lang</span> line</a>?” The <span class="my-code" decode="exclude">#lang</span> line is just a dis­guised mod­ule expres­sion. Every source file with a <span class="my-code" decode="exclude">#lang</span> line expands to a sin­gle mod­ule expres­sion at the top level. For instance, these two pro­grams are the same, and will both print <span class="my-code" decode="exclude">42</span>:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_h1lm8&quot;)"></div><div class="highlight-container" id="a_h1lm8"><div id="code_48" form="false" decode="exclude" style="font-size:0;width:0;height:0">(* 6 7)</div><div class="highlight" form="false" id="a_hRz3d"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" class="docs" hyphens="none">*</a></span> <span class="mi">6</span> <span class="mi">7</span><span class="p">)</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk5" data-clipboard-target="#code_48" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_hEoI48&quot;)"></div><div class="highlight-container" id="a_hEoI48"><div id="code_49" form="false" decode="exclude" style="font-size:0;width:0;height:0">(module my-module br<br/>  (* 6 7))</div><div class="highlight" form="false" id="a_7y6LN6"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/module.html#(form._((quote._~23~25kernel)._module))" class="docs" hyphens="none">module</a></span> <span class="n">my-module</span> <span class="n">br</span>
  <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" class="docs" hyphens="none">*</a></span> <span class="mi">6</span> <span class="mi">7</span><span class="p">))</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk7" data-clipboard-target="#code_49" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_WnVUO&quot;)"></div><p id="a_WnVUO"> This is why in Racket lingo, a source file is also called a <em>mod­ule</em>.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_2POwY&quot;)"></div><p id="a_2POwY">“What about expres­sions entered at a <a href="repl.html">REPL</a>?” These expres­sions are treated as if they belong to the top-level mod­ule of the lan­guage being used.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;submodules&quot;)"></div><h3 anchor="submodules" class="subhead" id="submodules"><a href="#submodules">Sub­mod­ules</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_8Xpou&quot;)"></div><p id="a_8Xpou">Mod­ules can be nested inside each other to cre­ate hier­achies of <em>sub­mod­ules</em>. They can be nested to any depth, but typ­i­cally go down only one level. Sub­mod­ules are defined with the same <span class="my-code" decode="exclude">module</span> syn­tax as reg­u­lar mod­ules. Sub­mod­ules have two addi­tional rules:</p></div><ol><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_qiIUl&quot;)"></div><p id="a_qiIUl">A sub­mod­ule can <span class="my-code" decode="exclude">require</span> its enc­los­ing mod­ule, or vice versa, but not both.</p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_ZPZBY&quot;)"></div><p id="a_ZPZBY">Con­trary to Racket’s usual eval­u­a­tion rules, a sub­mod­ule does not auto­mat­i­cally run when its enc­los­ing mod­ule runs; like­wise, run­ning a sub­mod­ule does not auto­mat­i­cally run its enc­los­ing mod­ule.</p></div></li></ol><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_tqbKY&quot;)"></div><p id="a_tqbKY">This last rule is impor­tant, and nicely mag­i­cal: even when mod­ules are nested, they behave like totally inde­pen­dent pro­grams. They can <span class="my-code" decode="exclude">provide</span> their own bind­ings.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_dgdjz&quot;)"></div><p id="a_dgdjz">In the exam­ple below, the <span class="my-code" decode="exclude">awake</span> sub­mod­ule has an enclos­ing <span class="my-code" decode="exclude">tired</span> mod­ule and a <span class="my-code" decode="exclude">also-tired</span> sub­mod­ule that will take a long time to run. But with a <span class="my-code" decode="exclude">(require (submod ...))</span> expres­sion, you can run the <span class="my-code" decode="exclude">awake</span> sub­mod­ule with­out trig­ger­ing the oth­ers:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_r6jQg&quot;)"></div><div class="highlight-container" id="a_r6jQg"><div id="code_50" form="false" decode="exclude" style="font-size:0;width:0;height:0">(module tired br<br/>  (sleep 10000)<br/>  (module awake br<br/>    (define greeting "Good morning")<br/>    (provide greeting)<br/>    (module also-tired br<br/>      (sleep 10000))))<br/><br/>(require (submod "." tired awake))<br/>greeting ; prints "Good morning"</div><div class="highlight" form="false" id="a_0qFmw"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/module.html#(form._((quote._~23~25kernel)._module))" class="docs" hyphens="none">module</a></span> <span class="n">tired</span> <span class="n">br</span>
  <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/threads.html#(def._((quote._~23~25kernel)._sleep))" class="docs" hyphens="none">sleep</a></span> <span class="mi">10000</span><span class="p">)</span>
  <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/module.html#(form._((quote._~23~25kernel)._module))" class="docs" hyphens="none">module</a></span> <span class="n">awake</span> <span class="n">br</span>
    <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="n">greeting</span> <span class="s2">"Good morning"</span><span class="p">)</span>
    <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._provide))" class="docs" hyphens="none">provide</a></span> <span class="n">greeting</span><span class="p">)</span>
    <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/module.html#(form._((quote._~23~25kernel)._module))" class="docs" hyphens="none">module</a></span> <span class="n">also-tired</span> <span class="n">br</span>
      <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/threads.html#(def._((quote._~23~25kernel)._sleep))" class="docs" hyphens="none">sleep</a></span> <span class="mi">10000</span><span class="p">))))</span>

<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="docs" hyphens="none">require</a></span> <span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._submod))" class="docs" hyphens="none">submod</a></span> <span class="s2">"."</span> <span class="n">tired</span> <span class="n">awake</span><span class="p">))</span>
<span class="n">greeting</span> <span class="c1">; prints "Good morning"</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk9" data-clipboard-target="#code_50" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_DlabS&quot;)"></div><p id="a_DlabS"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._submod))" class="docs" hyphens="none">submod</a> allows access to sub­mod­ules through a filesys­tem-ish nota­tion. In this case, <span class="my-code" decode="exclude">"."</span> means “start in the cur­rent mod­ule,” and <span class="my-code" decode="exclude">tired awake</span> is the sub­mod­ule “path.”</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;special-module-forms&quot;)"></div><h3 anchor="special-module-forms" class="subhead" id="special-module-forms"><a href="#special-module-forms">Spe­cial mod­ule forms</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_HsXeo&quot;)"></div><p id="a_HsXeo"><a href="http://docs.racket-lang.org/reference/module.html#(form._((lib._racket/private/base..rkt)._module+))" class="docs" hyphens="none">module+</a> defines a mod­ule that adopts all the bind­ings of the sur­round­ing mod­ule. It can still <span class="my-code" decode="exclude">define</span> and <span class="my-code" decode="exclude">provide</span> addi­tional bind­ings. It can also be defined in sep­a­rate pieces: all <span class="my-code" decode="exclude">module+</span> expres­sions with the same name will be com­bined into a sin­gle sub­mod­ule.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_0rUgB&quot;)"></div><p id="a_0rUgB"><a href="http://docs.racket-lang.org/reference/module.html#(form._((quote._~23~25kernel)._module*))" class="docs" hyphens="none">module*</a> defines a mod­ule that can <span class="my-code" decode="exclude">require</span> its enclos­ing mod­ule (but not vice versa).</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;main-submodules&quot;)"></div><h3 anchor="main-submodules" class="subhead" id="main-submodules"><a href="#main-submodules">Main sub­mod­ules</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_497K2&quot;)"></div><p id="a_497K2">Any code in a <span class="my-code" decode="exclude">main</span> sub­mod­ule will be eval­u­ated when the enclos­ing source file is run directly in DrRacket or on the com­mand line, but not when it the source file is <span class="my-code" decode="exclude">require</span>d. This allows a source file to <span class="my-code" decode="exclude">provide</span> bind­ings but also have dif­fer­ent behav­ior when it’s invoked directly:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_We9OJ&quot;)"></div><div class="highlight-container" id="a_We9OJ"><div id="code_51" form="false" decode="exclude" style="font-size:0;width:0;height:0">(provide launch-rocket)<br/>(define (launch-rocket) "whee")<br/><br/>(module+ main<br/>  (launch-rocket))</div><div class="highlight" form="false" id="a_IoWw9"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/require.html#(form._((lib._racket/private/base..rkt)._provide))" class="docs" hyphens="none">provide</a></span> <span class="n">launch-rocket</span><span class="p">)</span>
<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="docs" hyphens="none">define</a></span> <span class="p">(</span><span class="n">launch-rocket</span><span class="p">)</span> <span class="s2">"whee"</span><span class="p">)</span>

<span class="p">(</span><span class="nb"><a href="http://docs.racket-lang.org/reference/module.html#(form._((lib._racket/private/base..rkt)._module+))" class="docs" hyphens="none">module+</a></span> <span class="n">main</span>
  <span class="p">(</span><span class="n">launch-rocket</span><span class="p">))</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpka" data-clipboard-target="#code_51" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;test-submodules&quot;)"></div><h3 anchor="test-submodules" class="subhead" id="test-submodules"><a href="#test-submodules">Test sub­mod­ules</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_QS2XB&quot;)"></div><p id="a_QS2XB">It’s com­mon in Racket to put <a class="glossary" href="../appendix/glossary.html#unit-test"><span class="glossary-link-text">unit tests</span></a> inside a sub­mod­ule called <span class="my-code" decode="exclude">test</span> (usu­ally declared with <span class="my-code" decode="exclude">module+</span>, so it can use all the vari­ables defined nearby). See <a href="tests.html">tests</a>.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;reader-submodules&quot;)"></div><h3 anchor="reader-submodules" class="subhead" id="reader-submodules"><a href="#reader-submodules">Reader sub­mod­ules</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_VPOEO&quot;)"></div><p id="a_VPOEO">When a lan­guage is spec­i­fied on the <a href="lang-line.html"><span class="my-code" decode="exclude">#lang</span> line</a>, Racket will first try invoke the reader for that lan­guage. The first place Racket looks for a reader is in a <span class="my-code" decode="exclude">reader</span> sub­mod­ule of the source file indi­cated.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_g0dpE&quot;)"></div><div class="highlight-container" id="a_g0dpE"><div id="code_52" form="false" decode="exclude" style="font-size:0;width:0;height:0">#lang "yo.rkt" ; looks for reader in `(submod "yo.rkt" reader)`<br/>#lang br ; looks for reader in `(submod br reader)`</div><div class="highlight" form="false" id="a_6la2K"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="source"><pre><span class="kn">#lang </span><span class="nn">"yo.rkt"</span> <span class="c1">; looks for reader in `(submod "yo.rkt" reader)`</span>
<span class="kn">#lang </span><span class="nn">br</span> <span class="c1">; looks for reader in `(submod br reader)`</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpkb" data-clipboard-target="#code_52" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;further&quot;)"></div><h3 anchor="further" class="subhead" id="further"><a href="#further">Fur­ther</a></h3></div><ul><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_JKlt1&quot;)"></div><p id="a_JKlt1"><span><a href="http://docs.racket-lang.org/guide/Module_Syntax.html">Sub­mod­ules</a> in the Racket Guide</span></p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_5gxXC&quot;)"></div><p id="a_5gxXC"><span><a href="http://docs.racket-lang.org/guide/Module_Syntax.html?q=submodule#%28part._main-and-test%29"><span class="my-code" decode="exclude">main</span> and <span class="my-code" decode="exclude">test</span> sub­mod­ules</a> in the Racket Guide</span></p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_UKTST&quot;)"></div><p id="a_UKTST"><span><a href="http://docs.racket-lang.org/reference/eval-model.html?q=submodule#%28part._submodules%29">Sub­mod­ules</a> in the Racket Ref­er­ence</span></p></div></li></ul></div>
    <a class="nav-left" href="macros.html">← prev</a>
    <a class="nav-right" href="numbers.html">next →</a>




</body>

<script type="text/javascript">



function show_all_forms() {
 var elems = document.getElementsByClassName('has_form');
 for (var i = 0 ; i < elems.length ; i++) {
  toggle_form(elems[i].id);
 }
}

// for debugging forms only: uncomment next line
// show_all_forms();

// sets up copy-to-clipboard buttons in code boxes
var clipboard = new Clipboard('.copy-button');
clipboard.on('success', function(e) {console.log(e);});
clipboard.on('error', function(e) {console.log(e);});
</script>
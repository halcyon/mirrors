<!DOCTYPE html>
<html>
  
<!-- Mirrored from beautifulracket.com/jsonic-3/the-package-server.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 16 Mar 2017 05:46:57 GMT -->
<head>
    <meta charset="UTF-8">
    <title>Beautiful Racket: Finishing moves: jsonic</title>
    <link rel="stylesheet" type="text/css" media="all" href="../styles.css"/>
    <script type="text/javascript" src="../functions.js"></script>
    <script type="text/javascript" src="../clipboard.min.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-74684045-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
<body>
<div id="alert">Thank you for your comment</div>
    <div id="doc"><h3 class="dept" anchorize="false"><a href="../index.html">Beau­ti­ful Racket</a> / <a href="../index.html#tutorials">tuto­ri­als</a></h3><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;finishing-moves-jsonic&quot;)"></div><h1 anchor="finishing-moves-jsonic" id="finishing-moves-jsonic" hyphens="none">Finishing moves: <span class="my-code" decode="exclude">jsonic</span></h1></div><ul class="siblinks"><li><a href="intro.html">1&emsp;intro</a></li><li><a href="documentation.html">2&emsp;doc­u­men­ta­tion</a></li><li><a href="the-info.rkt-file.html">3&emsp;the info.rkt file</a></li><li><a class="here" href="the-package-server.html">4&emsp;the pack­age server</a></li><li><a href="recap.html">5&emsp;recap</a></li><li><a href="source-listing.html">6&emsp;source list­ing</a></li></ul><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_vCLmN&quot;)"></div><div class="author-note" id="a_vCLmN"><p anchorize="false">This part of the tuto­r­ial requires some basic knowl­edge of using a Git repo to store source code. If you’re unfa­mil­iar with Git, it’s a ver­sion-con­trol sys­tem for soft­ware. It’s not hard to use, but it’s not part of this book. Check out the online book <a class=" ext" href="https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control">Pro Git</a>. If you don’t want to deal with Git now, you can move on to the <a href="../wires/index.html">next lan­guage tuto­r­ial</a>.</p><p anchorize="false">This part of the tuto­r­ial also involves using Racket’s offi­cial pack­age server. After you’re done with this tuto­r­ial, please <strong>delete your work</strong> so that the pack­age server stays tidy for every­one. <a href="#deleting-our-work">Instruc­tions below</a>. Thank you!</p></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;introducing-the-package-server&quot;)"></div><h3 anchor="introducing-the-package-server" class="subhead" id="introducing-the-package-server"><a href="#introducing-the-package-server">Intro­duc­ing the pack­age server</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_6iJsv&quot;)"></div><p id="a_6iJsv">Dur­ing the <a href="../setup.html">setup</a> for these tuto­r­ial projects, we had to install the <span class="my-code" decode="exclude">beautiful-racket</span> pack­age from the com­mand line like so:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_uiNnL&quot;)"></div><div class="highlight-container" id="a_uiNnL"><div id="code_43" form="false" decode="exclude" style="font-size:0;width:0;height:0">&gt; raco pkg install beautiful-racket</div><div class="highlight" form="false" id="a_kAxHb"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="source"><pre><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e))" class="docs" hyphens="none">&gt;</a></span> <span class="n">raco</span> <span class="n">pkg</span> <span class="n">install</span> <span class="n">beautiful-racket</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk" data-clipboard-target="#code_43" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_ULVhl&quot;)"></div><p id="a_ULVhl">This was our first use of the Racket <em>pack­age server</em>. The pack­age server lives at <a href="http://pkgs.racket-lang.org/"><span class="my-code" decode="exclude">pkgs.racket-lang.org</span></a>. The server is a shared Racket resource with three roles:</p></div><ol><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_7vbLr&quot;)"></div><p id="a_7vbLr">It makes find­ing, installing, and updat­ing pack­ages eas­ier for users.</p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_pl0UI&quot;)"></div><p id="a_pl0UI">It makes dis­trib­ut­ing pack­ages—includ­ing lan­guages—eas­ier for devel­op­ers.</p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_NwcFN&quot;)"></div><p id="a_NwcFN">It rebuilds and retests all Racket pack­ages daily to make sure they still work as expected (and posts a mes­sage when they don’t).</p></div></li></ol><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_rZN6P&quot;)"></div><p id="a_rZN6P">If we <a href="the-info.rkt-file.html">pass a local direc­tory path</a> to <span class="my-code" decode="exclude">raco pkg install</span>, it will install the mod­ules in that direc­tory as a pack­age. But if we pass it a pack­age name (like <span class="my-code" decode="exclude">beautiful-racket</span>) then <span class="my-code" decode="exclude">raco pkg install</span> will con­tact the online pack­age server to dis­cover the loca­tion of the <a href="the-info.rkt-file.html#modules-packages-collections-and-repos">source repo</a> for that pack­age (often on GitHub). Once it finds the repo, it down­loads the source from that loca­tion and installs it.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_bQGS9&quot;)"></div><p id="a_bQGS9">Behind the scenes, the pack­age server han­dles other house­keep­ing as well, in coop­er­a­tion with the local <span class="my-code" decode="exclude">raco</span> tools. For instance, the pack­age server mon­i­tors the source repos of each pack­age for changes (e.g., new com­mits) and asso­ciates a check­sum with each update. That way, if we later do this:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_zHiqm&quot;)"></div><div class="highlight-container" id="a_zHiqm"><div id="code_44" form="false" decode="exclude" style="font-size:0;width:0;height:0">&gt; raco pkg update beautiful-racket</div><div class="highlight" form="false" id="a_Muh4e"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="source"><pre><span class="nb"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3e))" class="docs" hyphens="none">&gt;</a></span> <span class="n">raco</span> <span class="n">pkg</span> <span class="n">update</span> <span class="n">beautiful-racket</span>
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk1" data-clipboard-target="#code_44" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_sq4kx&quot;)"></div><p id="a_sq4kx"><span class="my-code" decode="exclude">raco pkg</span> will coop­er­ate with the pack­age server to fig­ure out whether we have the most recent ver­sion of <span class="my-code" decode="exclude">beautiful-racket</span> (in which case it will do noth­ing) or if there’s a more recent ver­sion (in which case it will down­load and install it).</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_vpaWK&quot;)"></div><p id="a_vpaWK">The pack­age server is also used by <span class="my-code" decode="exclude">raco pkg</span> to resolve miss­ing depen­den­cies. For instance, recall our list of <span class="my-code" decode="exclude">jsonic</span> depen­den­cies:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_1vuTI&quot;)"></div><div class="highlight-container" id="a_1vuTI"><div id="code_45" form="false" decode="exclude" style="font-size:0;width:0;height:0">(define deps '("base"<br/>               "beautiful-racket-lib"<br/>               "brag"<br/>               "draw-lib"<br/>               "gui-lib"<br/>               "parser-tools-lib"<br/>               "rackunit-lib"<br/>               "syntax-color-lib"))<br/>(define build-deps '("scribble-lib"))</div><div class="highlight" form="false" id="a_jQaVC"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="source"><pre>(define deps &#39;("base"
               "beautiful-racket-lib"
               "brag"
               "draw-lib"
               "gui-lib"
               "parser-tools-lib"
               "rackunit-lib"
               "syntax-color-lib"))
(define build-deps &#39;("scribble-lib"))
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk2" data-clipboard-target="#code_45" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_fuUGX&quot;)"></div><p id="a_fuUGX">Sup­pose a user tries to install <span class="my-code" decode="exclude">jsonic</span> and doesn’t have any of these pack­ages installed. In that case, <span class="my-code" decode="exclude">raco pkg</span> uses the pack­age server to get the source for each pack­age and install it, as if the user had done this man­u­ally:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_xxUN9&quot;)"></div><div class="highlight-container" id="a_xxUN9"><div id="code_46" form="false" decode="exclude" style="font-size:0;width:0;height:0">&gt; raco pkg install base<br/>&gt; raco pkg install beautiful-racket-lib<br/>&gt; raco pkg install brag<br/>···</div><div class="highlight" form="false" id="a_3YlVX"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="source"><pre>&gt; raco pkg install base
&gt; raco pkg install beautiful-racket-lib
&gt; raco pkg install brag
···
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk3" data-clipboard-target="#code_46" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;other-package-server-benefits&quot;)"></div><h3 anchor="other-package-server-benefits" class="subhead" id="other-package-server-benefits"><a href="#other-package-server-benefits">Other pack­age-server ben­e­fits</a></h3></div><ul><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_pOWBD&quot;)"></div><p id="a_pOWBD">Every pack­age listed on the pack­age server is rebuilt daily by Racket’s build server. The build server installs the pack­age on top of the cur­rent release ver­sion of Racket. The results of the most recent build are posted next to the pack­age name at <a href="http://pkgs.racket-lang.org/"><span class="my-code" decode="exclude">pkgs.racket-lang.org</span></a>. (For instance, <a href="http://pkg-build.racket-lang.org/server/built/install/beautiful-racket.txt">here’s the lat­est</a> build report for <span class="my-code" decode="exclude">beautiful-racket</span>.) <span class="tooltip" onclick="this.classList.toggle('tooltip_visible')"> + <span class="tooltip-inner">Many Racket devel­op­ers also use build ser­vices like <a class=" ext" href="https://travis-ci.org/">Travis CI</a>. The advan­tage of Travis CI is that it’s more con­fig­urable, and can build against past and future releases of Racket. Whereas the pack­age server only builds against the cur­rent release.</span></span></p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_fWOoX&quot;)"></div><p id="a_fWOoX">The pack­age server also runs all the tests in each pack­age, using the <span class="my-code" decode="exclude">raco test -p pkg-name</span> com­mand <a href="the-info.rkt-file.html#adjusting-automatic-testing
">we tried before</a>, and reports whether any tests are bro­ken.</p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_3TQcs&quot;)"></div><p id="a_3TQcs">The doc­u­men­ta­tion for every pack­age is built and uploaded to <a href="http://docs.racket-lang.org/"><span class="my-code" decode="exclude">docs.racket-lang.org</span></a>. This serves as a test for the doc­u­men­ta­tion. But for users, it also makes the doc­u­men­ta­tion for every pack­age avail­able with­out hav­ing to install the pack­age them­selves.</p></div></li></ul><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;package-server-prerequisites&quot;)"></div><h3 anchor="package-server-prerequisites" class="subhead" id="package-server-prerequisites"><a href="#package-server-prerequisites">Pack­age server pre­req­ui­sites</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_jxUJl&quot;)"></div><p id="a_jxUJl">We’re going to make our <span class="my-code" decode="exclude">jsonic</span> lan­guage avail­able through the pack­age server (though not per­ma­nently).</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_5l5Hf&quot;)"></div><p id="a_5l5Hf">To get started with the pack­age server, we first need to do two things:</p></div><ol><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_sBuGq&quot;)"></div><p id="a_sBuGq">Set up a user account on the pack­age server. Go to <a href="http://pkgs.racket-lang.org/"><span class="my-code" decode="exclude">pkgs.racket-lang.org</span></a> and click the <em>Login</em> link in the upper-right cor­ner. Enter an email address and pass­word, and click the <em>Log in</em> but­ton. The pack­age server will send a code that can be used to con­firm the email address and cre­ate the account.</p></div></li><li><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_XtAsQ&quot;)"></div><p id="a_XtAsQ">Put our <span class="my-code" decode="exclude">jsonic</span> code in a pub­lic Git repo, for instance on GitHub (though any pub­lic Git host­ing ser­vice is fine). This is nec­es­sary because the pack­age server doesn’t host source repos—it sim­ply acts as an inter­me­di­ary between Racket and source repos else­where.</p></div></li></ol><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;creating-an-entry-on-the-package-server&quot;)"></div><h3 anchor="creating-an-entry-on-the-package-server" class="subhead" id="creating-an-entry-on-the-package-server"><a href="#creating-an-entry-on-the-package-server">Cre­at­ing an entry on the pack­age server</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_MprSW&quot;)"></div><p id="a_MprSW">First we’ll log in to <a href="http://pkgs.racket-lang.org/"><span class="my-code" decode="exclude">pkgs.racket-lang.org</span></a> with the email and pass­word we just set up.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_xMcv6&quot;)"></div><p id="a_xMcv6">Then we’ll click <em>Upload</em> in the upper-right cor­ner. This will show us a form:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_Vldpk4&quot;)"></div><div id="a_Vldpk4" style="text-align:center;padding:0.5rem;padding-bottom:1rem"><img style="width:90%;border:1px solid #ccc" src="pkg-00.gif"/></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_IHa18&quot;)"></div><p id="a_IHa18">We need to edit three fields: the pack­age name, the source, and the descrip­tion.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_IoJgC&quot;)"></div><p id="a_IoJgC">The pack­age name is at the top. This will be the name used by those installing the pack­age with <span class="my-code" decode="exclude">raco pkg install</span>. <span class="tooltip" onclick="this.classList.toggle('tooltip_visible')"> + <span class="tooltip-inner">Or by other devel­op­ers, if they list our lan­guage as a depen­dency in their own pack­ages.</span></span> The pack­age name <a href="the-info.rkt-file.html#modules-packages-collections-and-repos
">does <strong>not</strong> need</a> to be the same as our source repo. Nor does it need to be the same as the <a class="glossary" href="../appendix/glossary.html#collection"><span class="glossary-link-text">col­lec­tion</span></a> name, which <a href="the-info.rkt-file.html#starting-the-info-rkt-for-jsonic">we explic­itly set</a> in the <span class="my-code" decode="exclude">"info.rkt"</span> file as <span class="my-code" decode="exclude">jsonic</span>.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_dcG4P&quot;)"></div><p id="a_dcG4P">Because oth­ers may be try­ing this tuto­r­ial, let’s make our pack­age name <span class="my-code" decode="exclude">jsonic-xyz</span>, where <span class="my-code" decode="exclude">xyz</span> is our ini­tials or other dis­tinct iden­ti­fier—that way, we won’t col­lide with some­one else’s test pack­age. Click the but­ton next to <em>Pack­age Name</em> and enter the name:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_Vldpk5&quot;)"></div><div id="a_Vldpk5" style="text-align:center;padding:0.5rem;padding-bottom:1rem"><img style="width:90%;border:1px solid #ccc" src="pkg-02.gif"/></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_ATYkB&quot;)"></div><p id="a_ATYkB">Next we move to the <em>Source</em> field and enter the URL for our Git repo, which will be some­thing like <span class="my-code" decode="exclude">git://github.com/username/jsonic</span>:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_Vldpk6&quot;)"></div><div id="a_Vldpk6" style="text-align:center;padding:0.5rem;padding-bottom:1rem"><img style="width:90%;border:1px solid #ccc" src="pkg-03.gif"/></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_YGzd0&quot;)"></div><p id="a_YGzd0">Then we move to the <em>Descrip­tion</em> field and option­ally enter a short descrip­tion, which will appear on the main pack­age list­ing:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_Vldpk7&quot;)"></div><div id="a_Vldpk7" style="text-align:center;padding:0.5rem;padding-bottom:1rem"><img style="width:90%;border:1px solid #ccc" src="pkg-04.gif"/></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_5klsV&quot;)"></div><p id="a_5klsV">We press enter to save our changes. When we go back to the main pack­ages list­ing, we’ll see a list­ing for <span class="my-code" decode="exclude">jsonic-xyz</span>:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_Vldpk8&quot;)"></div><div id="a_Vldpk8" style="text-align:center;padding:0.5rem;padding-bottom:1rem"><img style="width:90%;border:1px solid #ccc" src="pkg-05.gif"/></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_jzkLc&quot;)"></div><p id="a_jzkLc">That’s all we need. Now our pack­age will be avail­able to any­one who wants to use it.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;installing-our-language-via-the-package-server&quot;)"></div><h3 anchor="installing-our-language-via-the-package-server" class="subhead" id="installing-our-language-via-the-package-server"><a href="#installing-our-language-via-the-package-server">Installing our lan­guage via the pack­age server</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_m8CdX&quot;)"></div><p id="a_m8CdX">First, let’s remove our locally installed <span class="my-code" decode="exclude">jsonic</span> pro­to­type, so it doesn’t con­flict with the one we’re about to install:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_T10mb&quot;)"></div><div class="highlight-container" id="a_T10mb"><div id="code_47" form="false" decode="exclude" style="font-size:0;width:0;height:0">&gt; raco pkg remove jsonic</div><div class="highlight" form="false" id="a_c0Uw6"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="source"><pre>&gt; raco pkg remove jsonic
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpk9" data-clipboard-target="#code_47" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_Upp0D&quot;)"></div><p id="a_Upp0D">Now let’s rein­stall <span class="my-code" decode="exclude">jsonic</span> from the pack­age server. From the com­mand line, we install our pack­age using its new name:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_g4Jf1&quot;)"></div><div class="highlight-container" id="a_g4Jf1"><div id="code_48" form="false" decode="exclude" style="font-size:0;width:0;height:0">&gt; raco pkg install jsonic-xyz</div><div class="highlight" form="false" id="a_etg8w"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="source"><pre>&gt; raco pkg install jsonic-xyz
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpka" data-clipboard-target="#code_48" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_TEXWq&quot;)"></div><p id="a_TEXWq">This time, <span class="my-code" decode="exclude">raco pkg install</span> will con­sult the pack­age server to get the loca­tion of the <span class="my-code" decode="exclude">jsonic-xyz</span> source. It will down­load and install it. After that, we should be able to look up <span class="my-code" decode="exclude">jsonic</span> in the doc­u­men­ta­tion, or use <span class="my-code" decode="exclude">#lang jsonic</span>, just as we could before.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_XRd4d&quot;)"></div><p id="a_XRd4d">If we ever want to move or rename the source repo, how­ever, we’ll have to return to the pack­age server inter­face to update the <em>Source</em> loca­tion for our pack­age.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;in-the-real-world----&quot;)"></div><h3 anchor="in-the-real-world----" class="subhead" id="in-the-real-world----"><a href="#in-the-real-world----">In the real world ...</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_T02F5&quot;)"></div><p id="a_T02F5">We’d stop here. Once our pack­age is on the pack­age server, there’s no ongo­ing main­te­nance. Within a day or so, the doc­u­men­ta­tion would appear at <a href="http://docs.racket-lang.org/"><span class="my-code" decode="exclude">docs.racket-lang.org/jsonic-xyz</span></a>.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_Oocj4&quot;)"></div><p id="a_Oocj4">Over time, we can update the pack­age sim­ply by push­ing new com­mits to our <span class="my-code" decode="exclude">jsonic</span> repo. We don’t have to notify the pack­age server—it will auto­mat­i­cally detect the change and pass it along to any users who invoke <span class="my-code" decode="exclude">raco pkg update</span>.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;deleting-our-work&quot;)"></div><h3 anchor="deleting-our-work" class="subhead" id="deleting-our-work"><a href="#deleting-our-work">Delet­ing our work</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_LIjZW&quot;)"></div><p id="a_LIjZW">Once we’re sat­is­fied that we’ve got the hang of the pack­age server, let’s erase our tracks. First, from the com­mand line, let’s remove the pack­age we installed from the pack­age server:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_4D1VI&quot;)"></div><div class="highlight-container" id="a_4D1VI"><div id="code_49" form="false" decode="exclude" style="font-size:0;width:0;height:0">&gt; raco pkg remove jsonic-xyz</div><div class="highlight" form="false" id="a_5KSfQ"><table class="sourcetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="source"><pre>&gt; raco pkg remove jsonic-xyz
</pre></div>
</td></tr></tbody></table></div><div class="copy-button" form="false" onClick="notify('copied to clipboard', 1000)" id="a_Vldpkb" data-clipboard-target="#code_49" data-clipboard-action="copy"><img src="../fonts/feather-v1.1/svg/download.svg" alt="copy to clipboard"/></div></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_O2aCO&quot;)"></div><p id="a_O2aCO">Then we log in again to <a href="http://pkgs.racket-lang.org/"><span class="my-code" decode="exclude">pkgs.racket-lang.org</span></a> and click on the entry for <span class="my-code" decode="exclude">jsonic-xyz</span>. At the bot­tom we’ll see a <em>Delete Pack­age</em> but­ton:</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_Vldpkc&quot;)"></div><div id="a_Vldpkc" style="text-align:center;padding:0.5rem;padding-bottom:1rem"><img style="width:90%;border:1px solid #ccc" src="pkg-06.gif"/></div></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_SLc8Q&quot;)"></div><p id="a_SLc8Q">Before we delete <span class="my-code" decode="exclude">jsonic-xyz</span>, let’s notice that since we were gone, the pack­age server peeked into our Git repo and made a list of depen­den­cies and mod­ules. This is part of how the pack­age server helps man­age updates of installed pack­ages.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_dZjHD&quot;)"></div><p id="a_dZjHD">Finally, we click <em>Delete Pack­age</em>.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;by-the-way&quot;)"></div><h3 anchor="by-the-way" class="subhead" id="by-the-way"><a href="#by-the-way">By the way</a></h3></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_plzsx&quot;)"></div><p id="a_plzsx">We won’t be using the pack­age server for the remain­ing tuto­ri­als. The process of turn­ing a lan­guage into a pack­age, and upload­ing it to the pack­age server, is essen­tially the same for any lan­guage.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_I6Wpz&quot;)"></div><p id="a_I6Wpz">For those who want an alter­na­tive to a Git-hosted repo, it’s also pos­si­ble to <a href="http://docs.racket-lang.org/pkg/getting-started.html?q=manual#%28part._manual-deploy%29">deploy a pack­age</a> with­out using Racket’s pack­age server.</p></div><div class="sidebar-container"><div class="sidebar has_form" onclick="toggle_form(&quot;a_WS57O&quot;)"></div><div class="author-note" id="a_WS57O"><p anchorize="false">Once you’re done with this part of the tuto­r­ial, please <strong>delete your work</strong> from the pack­age server so that it stays tidy for every­one. <a href="#deleting-our-work">Instruc­tions above</a>. Thank you!</p></div></div><div anchorize="false" style="height:2em"></div><ul class="siblinks"><li><a href="intro.html">1&emsp;intro</a></li><li><a href="documentation.html">2&emsp;doc­u­men­ta­tion</a></li><li><a href="the-info.rkt-file.html">3&emsp;the info.rkt file</a></li><li><a class="here" href="the-package-server.html">4&emsp;the pack­age server</a></li><li><a href="recap.html">5&emsp;recap</a></li><li><a href="source-listing.html">6&emsp;source list­ing</a></li></ul></div>
    <a class="nav-left" href="the-info.rkt-file.html">← prev</a>
    <a class="nav-right" href="recap.html">next →</a>




</body>

<script type="text/javascript">



function show_all_forms() {
 var elems = document.getElementsByClassName('has_form');
 for (var i = 0 ; i < elems.length ; i++) {
  toggle_form(elems[i].id);
 }
}

// for debugging forms only: uncomment next line
// show_all_forms();

// sets up copy-to-clipboard buttons in code boxes
var clipboard = new Clipboard('.copy-button');
clipboard.on('success', function(e) {console.log(e);});
clipboard.on('error', function(e) {console.log(e);});
</script>
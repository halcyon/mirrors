<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">

<!-- Mirrored from malisper.me/2015/06/30/multiple-value-bind/?replytocom=59 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 01 Sep 2016 17:47:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Multiple-value-bind - Macrology</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="../../../../xmlrpc.php">


<!-- This site is optimized with the Yoast SEO plugin v3.4.2 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="robots" content="noindex,follow"/>
<link rel="canonical" href="index.html" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Multiple-value-bind - Macrology" />
<meta property="og:description" content="Common Lisp is a pretty unique language. One of the many features that makes Common Lisp such an awesome language is multiple values. Yes, you read right. In Common Lisp it is possible for a function to return more than a single value. One example of a function that takes advantage of multiple values is &hellip;" />
<meta property="og:url" content="index.html" />
<meta property="og:site_name" content="Macrology" />
<meta property="article:section" content="Basic Macros" />
<meta property="article:published_time" content="2015-06-30T13:24:41-05:00" />
<meta property="article:modified_time" content="2015-07-04T15:49:11-05:00" />
<meta property="og:updated_time" content="2015-07-04T15:49:11-05:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="Common Lisp is a pretty unique language. One of the many features that makes Common Lisp such an awesome language is multiple values. Yes, you read right. In Common Lisp it is possible for a function to return more than a single value. One example of a function that takes advantage of multiple values is [&hellip;]" />
<meta name="twitter:title" content="Multiple-value-bind - Macrology" />
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='http://fonts.googleapis.com/'>
<link rel="alternate" type="application/rss+xml" title="Macrology &raquo; Feed" href="../../../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Macrology &raquo; Comments Feed" href="../../../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Macrology &raquo; Multiple-value-bind Comments Feed" href="feed/index.html" />
<link rel='stylesheet' id='scrawl-style-css'  href='../../../../wp-content/themes/scrawl-wpcom/style167b.css?ver=4.6' type='text/css' media='all' />
<link rel='stylesheet' id='scrawl-fonts-css'  href='https://fonts.googleapis.com/css?family=Lora:400,700|Merriweather:400italic,400,700,700italic&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='../../../../wp-content/themes/scrawl-wpcom/fonts/genericons6de8.css?ver=3.3' type='text/css' media='all' />
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jqueryb8ff.js?ver=1.12.4'></script>
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jquery-migrate.min330a.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='../../../../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.6" />
<link rel='shortlink' href='../../../../index12d0.html?p=370' />
<meta name='robots' content='noindex,follow' />
<link rel="alternate" type="application/json+oembed" href="../../../../wp-json/oembed/1.0/embed231a.json?url=http%3A%2F%2Fmalisper.me%2F2015%2F06%2F30%2Fmultiple-value-bind%2F" />
<link rel="alternate" type="text/xml+oembed" href="../../../../wp-json/oembed/1.0/embedf9fe?url=http%3A%2F%2Fmalisper.me%2F2015%2F06%2F30%2Fmultiple-value-bind%2F&amp;format=xml" />
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-63547056-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<style type="text/css" id="syntaxhighlighteranchor"></style>

<script type="text/javascript">
  window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var n=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(n?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o);for(var r=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=r(p[c])};
    heap.load("931515525");
</script>
</head>

<body class="single single-post postid-370 single-format-standard">
	<button class="menu-toggle x">
		<span class="lines"></span>
		<span class="screen-reader-text">Primary Menu</span>
	</button>
	<div class="slide-menu">
				
		<h1 class="site-title"><a href="../../../../index.html" rel="home">Macrology</a></h1>
		<h2 class="site-description">Case Studies in Lisp Macros</h2>
		
				
				
			<div id="secondary" class="widget-area" role="complementary">
		<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="http://malisper.me/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></aside><aside id="pages-3" class="widget widget_pages"><h1 class="widget-title">Pages</h1>		<ul>
			<li class="page_item page-item-55"><a href="../../../../about-me/index.html">About Michael Malis</a></li>
<li class="page_item page-item-44"><a href="../../../../about-this-site-2/index.html">About This Site</a></li>
		</ul>
		</aside><aside id="nav_menu-3" class="widget widget_nav_menu"><h1 class="widget-title">Contact Me</h1><div class="menu-contact-me-container"><ul id="menu-contact-me" class="menu"><li id="menu-item-60" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-60"><a href="mailto:michaelmalis2@gmail.com">Email</a></li>
<li id="menu-item-58" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-58"><a href="https://github.com/malisper">Github</a></li>
<li id="menu-item-59" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-59"><a href="https://news.ycombinator.com/user?id=malisper">Hacker News</a></li>
</ul></div></aside><aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archives</h1>		<ul>
			<li><a href='../../../../2016/06/index.html'>June 2016</a></li>
	<li><a href='../../../../2016/04/index.html'>April 2016</a></li>
	<li><a href='../../../../2016/01/index.html'>January 2016</a></li>
	<li><a href='../../../12/index.html'>December 2015</a></li>
	<li><a href='../../../11/index.html'>November 2015</a></li>
	<li><a href='../../../10/index.html'>October 2015</a></li>
	<li><a href='../../../09/index.html'>September 2015</a></li>
	<li><a href='../../../08/index.html'>August 2015</a></li>
	<li><a href='../../../07/index.html'>July 2015</a></li>
	<li><a href='../../index.html'>June 2015</a></li>
	<li><a href='../../../05/index.html'>May 2015</a></li>
		</ul>
		</aside><aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
	<li class="cat-item cat-item-2"><a href="../../../../category/basics/index.html" title="These are basic Lisp macros that should be trivial to understand.">Basic Macros</a>
</li>
	<li class="cat-item cat-item-5"><a href="../../../../category/intermediate-macros/index.html" >Intermediate Macros</a>
</li>
	<li class="cat-item cat-item-6"><a href="../../../../category/advanced-macros/index.html" >Advanced Macros</a>
</li>
	<li class="cat-item cat-item-7"><a href="../../../../category/debugging-common-lisp/index.html" >Debugging Lisp</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../../../category/loops-in-lisp/index.html" >Loops in Lisp</a>
</li>
		</ul>
</aside>	</div><!-- #secondary -->
	</div><!-- .slide-menu -->
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<header id="masthead" class="site-header" role="banner">

		<div class="site-branding">
						<h1 class="site-title"><a href="../../../../index.html" rel="home">Macrology</a></h1>
		</div>

	</header><!-- #masthead -->

	
	
	<div id="content" class="site-content">


	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<article id="post-370" class="post-370 post type-post status-publish format-standard hentry category-basics">
			<header class="entry-header">
			<h1 class="entry-title">Multiple-value-bind</h1>		</header><!-- .entry-header -->
		<div class="entry-content">
		<p>Common Lisp is a pretty unique language. One of the many features that makes Common Lisp such an awesome language is multiple values. Yes, you read right. In Common Lisp it is possible for a function to return more than a single value. One example of a function that takes advantage of multiple values is <b>floor</b>. <b>Floor</b> takes a number as its argument and returns two values, whatever was passed in rounded down and the remainder.</p>
<pre class="brush: plain; title: ; notranslate" title="">
(floor 3.5)
=&gt;
3
0.5
</pre>
<p>When you use <strong>floor</strong> in the manner above, you get two values back, 3 as the first return value, and 0.5 as the second. What&#8217;s really cool is that the values besides the first are completely ignored unless you explicitly ask for them.<span id='easy-footnote-1' class='easy-footnote-margin-adjust'></span><span class='easy-footnote'><a href='#easy-footnote-bottom-1' title='Since we are using floor from the repl, all of the values are shown.'><sup>1</sup></a></span> This means you can pretend that <strong>floor</strong> returns only a single value as long as you don&#8217;t need the other ones. Notice how in the following example, the <strong>+</strong> function is not aware of the second value returned by <strong>floor</strong>:</p>
<pre class="brush: plain; title: ; notranslate" title="">
(+ (floor 3.5) 10)
=&gt; 13
</pre>
<p>Now you may be wondering, &#8220;How can I obtain other values besides the first one?&#8221;. Well, there are several macros for doing that, the main one being <strong>multiple-value-bind</strong>. To use <strong>multiple-value-bind</strong>, you specify a list of the variables you want to bind each value to, followed by the expression that will return multiple values. Let&#8217;s say you want to multiply the two values returned by <strong>floor</strong> together. Here is how you would do that with <strong>multiple-value-bind</strong>:</p>
<pre class="brush: plain; title: ; notranslate" title="">
(multiple-value-bind (val remainder) (floor 3.5)
  (* val remainder))
=&gt; 1.5
</pre>
<p>It is also easy to create your own function that returns multiple values. All you need to do is pass each value you want to return to the <strong>values</strong> function. Below is a function which returns both twice its argument and three times its argument:</p>
<pre class="brush: plain; title: ; notranslate" title="">
(defun multiples (x)
  (values (* 2 x) (* 3 x)))

(multiples 10)
=&gt;
20
30
</pre>
<p>There is just one more thing you need to know about multiple values. If the last call of a function is to another that returns multiple values, the first function will return all of the values the second one returns. If you were to write a function that doubles its argument and then uses <strong>floor</strong> to round it down, that function will return both values that are returned by <strong>floor</strong>.</p>
<pre class="brush: plain; title: ; notranslate" title="">
(defun double-and-round-down (x)
  (floor (* 2 x)))

(double-and-round-down 5.25)
=&gt;
10
0.5
</pre>
<p>This behavior may or may not be desired. The standard way to make sure your function only returns a single value is to wrap the function that returns multiple values with a call to <strong>values</strong>. <strong>Values</strong> will pay attention only to the first value and will return just that and nothing else.</p>
<pre class="brush: plain; title: ; notranslate" title="">
(defun double-and-round-down (x)
  (values (floor (* 2 x))))

(double-and-round-down 5.25)
=&gt; 10
</pre>
<p>And that&#8217;s all you need to know to work with multiple values!</p>
<ol class="easy-footnotes-wrapper"><li class="easy-footnote-single"><span id="easy-footnote-bottom-1" class="easy-footnote-margin-adjust"></span>Since we are using floor from the repl, all of the values are shown.<a class="easy-footnote-to-top" href="#easy-footnote-1"></a></li></ol>			</div><!-- .entry-content -->

	<footer class="entry-footer">
				<div class="entry-meta clear">
			<span class="posted-on">Posted on <a href="index.html" rel="bookmark"><time class="entry-date published" datetime="2015-06-30T13:24:41+00:00">June 30, 2015</time><time class="updated" datetime="2015-07-04T15:49:11+00:00">July 4, 2015</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="../../../../author/malisper/index.html">malisper</a></span></span><span class="category-links"> in <a href="../../../../category/basics/index.html" rel="category tag">Basic Macros</a></span>			<span class="secondary-entry-meta">
								<span class="comments-link"><a href="index.html#comments">8</a></span>							</span>
		</div><!-- .entry-meta -->
	</footer><!-- .entry-footer -->
</article><!-- #post-## -->

			
	<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="../../17/hofeach/index.html" rel="prev"><span class="title">Previous post</span>Hofeach</a></div><div class="nav-next"><a href="../../../07/07/debugging-lisp-part-1-recompilation/index.html" rel="next"><span class="title">Next post</span>Debugging Lisp Part 1: Recompilation</a></div></div>
	</nav>
			
<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			8 thoughts on &ldquo;<span>Multiple-value-bind</span>&rdquo;		</h2>

		<ol class="comment-list">
					<li id="comment-51" class="comment even thread-even depth-1">
			<article id="div-comment-51" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://0.gravatar.com/avatar/0345f6261d6ced21145afdec166fd114?s=64&amp;d=mm&amp;r=g' srcset='http://0.gravatar.com/avatar/0345f6261d6ced21145afdec166fd114?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />						<b class="fn"><a href='http://fare.livejournal.com/tag/lisp' rel='external nofollow' class='url'>François-René Rideau</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-51">
							<time datetime="2015-07-05T00:16:53+00:00">
								July 5, 2015 at 12:16 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>I find that use of multiple-value-bind tends to quickly get your code indented far to the right. Many people have tried to address this issue by inventing mother-of-all macros that generalize let* into accepting arbitrary binders. Marco Baringer once taught me to instead use a generic nest macro that reuses existing binders without causing runaway indentation, by automatically nesting all expressions. It&#8217;s now part of uiop and fare-utils.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index740f.html?replytocom=51#respond' onclick='return addComment.moveForm( "div-comment-51", "51", "respond", "370" )' aria-label='Reply to François-René Rideau'>Reply</a></div>			</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-53" class="comment odd alt thread-odd thread-alt depth-1 parent">
			<article id="div-comment-53" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/5583ee5cd9fc9109043328f4e0fdf7ae?s=64&amp;d=mm&amp;r=g' srcset='http://2.gravatar.com/avatar/5583ee5cd9fc9109043328f4e0fdf7ae?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />						<b class="fn"><a href='http://www.ccil.org/~cowan' rel='external nofollow' class='url'>John Cowan</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-53">
							<time datetime="2015-07-05T11:41:53+00:00">
								July 5, 2015 at 11:41 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Multiple values definitely aren&#8217;t unique.  Scheme has them exactly like Common Lisp, except that what happens when the caller isn&#8217;t set up to receive the number of values that the callee returns.  Some Schemes use the Common Lisp rules (truncate to one value or supply a value out of nowhere), some throw an error, some silently misbehave (leading to a later error): <a href="http://trac.sacrideo.us/wg/wiki/MultipleValues" rel="nofollow">details here</a>.  This gives implementers more choices while requiring users to be more careful.</p>
<p>In Python, ML, and Haskell, multiple values are a first-class construct called tuples, which can be thought of in Lisp terms as immutable lists or structs without field names.</p>
<p>In Ada, Algol 68, and C#, the convention is to label certain parameters to a function as output parameters; the actual arguments passed must be places in the sense of <code>setf</code>.   Assignment to the output parameters within a function causes the places to be side-effected.  Internally this is typically implemented using boxed references.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index5dd2.html?replytocom=53#respond' onclick='return addComment.moveForm( "div-comment-53", "53", "respond", "370" )' aria-label='Reply to John Cowan'>Reply</a></div>			</article><!-- .comment-body -->
<ol class="children">
		<li id="comment-54" class="comment byuser comment-author-malisper bypostauthor even depth-2">
			<article id="div-comment-54" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/2587b67431f9cc2a998a25e42e2d172d?s=64&amp;d=mm&amp;r=g' srcset='http://2.gravatar.com/avatar/2587b67431f9cc2a998a25e42e2d172d?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />						<b class="fn">malisper</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-54">
							<time datetime="2015-07-05T12:10:23+00:00">
								July 5, 2015 at 12:10 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Almost all of the kinds of multiple values you mention increase coupling between the caller and callee. If you suddenly decide that you want the callee to return an additional value, you have to change all of the callers to ignore it. Although, I do like how Guile and NexJ signal an error when returning zero values to a function that expects some.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index129f.html?replytocom=54#respond' onclick='return addComment.moveForm( "div-comment-54", "54", "respond", "370" )' aria-label='Reply to malisper'>Reply</a></div>			</article><!-- .comment-body -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-55" class="comment odd alt thread-even depth-1 parent">
			<article id="div-comment-55" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/5583ee5cd9fc9109043328f4e0fdf7ae?s=64&amp;d=mm&amp;r=g' srcset='http://2.gravatar.com/avatar/5583ee5cd9fc9109043328f4e0fdf7ae?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />						<b class="fn"><a href='http://www.ccil.org/~cowan' rel='external nofollow' class='url'>John Cowan</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-55">
							<time datetime="2015-07-05T13:37:49+00:00">
								July 5, 2015 at 1:37 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>True.  That&#8217;s where the tuple system is a win, but it is heavier-weight because it is first-class.  The output-parameter system also works with coupling, provided the language has static or dynamic overloading on arity.  Googling shows that Go has Scheme-style multiple values; Lua has CL-style multiple values; Octave has output parameters; Ruby returns multiple values as an array.</p>
<p>Fare:  Scheme now has <code>let-values</code> and <code>let*-values</code>, as well as <code>define-values</code> (which inherently conses, unless it is primitive).</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='indexbbac.html?replytocom=55#respond' onclick='return addComment.moveForm( "div-comment-55", "55", "respond", "370" )' aria-label='Reply to John Cowan'>Reply</a></div>			</article><!-- .comment-body -->
<ol class="children">
		<li id="comment-59" class="comment byuser comment-author-malisper bypostauthor even depth-2">
			<article id="div-comment-59" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/2587b67431f9cc2a998a25e42e2d172d?s=64&amp;d=mm&amp;r=g' srcset='http://2.gravatar.com/avatar/2587b67431f9cc2a998a25e42e2d172d?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />						<b class="fn">malisper</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-59">
							<time datetime="2015-07-05T16:36:57+00:00">
								July 5, 2015 at 4:36 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>You are right about the output-parameter system in a language which supports optional arguments provides the same functionality. I&#8217;m just trying to understand how tuples are a win. If you have a function that returns a single value and want to change it to one that returns a tuple, doesn&#8217;t all of the code that expects a single value have to be changed to expect a tuple?</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index7653.html?replytocom=59#respond' onclick='return addComment.moveForm( "div-comment-59", "59", "respond", "370" )' aria-label='Reply to malisper'>Reply</a></div>			</article><!-- .comment-body -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-60" class="comment odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-60" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/8dd65fb8d640d3c460a2f6d6ccd5f7dd?s=64&amp;d=mm&amp;r=g' srcset='http://2.gravatar.com/avatar/8dd65fb8d640d3c460a2f6d6ccd5f7dd?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />						<b class="fn"><a href='http://www.hexstreamsoft.com/' rel='external nofollow' class='url'>Jean-Philippe Paradis</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-60">
							<time datetime="2015-07-05T18:04:04+00:00">
								July 5, 2015 at 6:04 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>I don&#8217;t think any discussion of multiple-values, perhaps even an introductory one, is complete without at least mentioning MULTIPLE-VALUE-CALL. It is the primitive and is truly mind-expanding. MULTIPLE-VALUE-BIND is (at least conceptually) defined in terms of it, as is MULTIPLE-VALUE-LIST.</p>
<p>As for using VALUES with a single argument to force the returning of only the primary value among multiple values, while it&#8217;s what has been used traditionally I prefer to use IDENTITY as that makes the code even more clear because IDENTITY always accepts and returns only a single argument (so unlike VALUES you don&#8217;t have to check how many arguments are given). If you see (identity foo) you can immediately assume that the code wants to evaluate FOO and then return only the primary value (or NIL if no values).</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index2096.html?replytocom=60#respond' onclick='return addComment.moveForm( "div-comment-60", "60", "respond", "370" )' aria-label='Reply to Jean-Philippe Paradis'>Reply</a></div>			</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-68" class="comment even thread-even depth-1">
			<article id="div-comment-68" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/5583ee5cd9fc9109043328f4e0fdf7ae?s=64&amp;d=mm&amp;r=g' srcset='http://2.gravatar.com/avatar/5583ee5cd9fc9109043328f4e0fdf7ae?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />						<b class="fn"><a href='http://www.ccil.org/~cowan' rel='external nofollow' class='url'>John Cowan</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-68">
							<time datetime="2015-07-07T19:59:08+00:00">
								July 7, 2015 at 7:59 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>In most languages, a 1-tuple is the same as a single value.  In Python, this is not so, and <code>x = f()</code> where <code>f</code> now returns multiple values will cause <i>x</i> to have a tuple value.</p>
<p>Scheme does not support the full strength of <code>multiple-value-call</code>, because there can only be one sender of values rather than an arbitrary number as CL allows.  On the good side, <code>call-with-values</code> is a procedure rather than a macro.  The first argument is a thunk which is invoked, and then all its results are passed to the second argument, which is a procedure that can accept that many arguments.  It&#8217;s trivial to write a two-argument version of the <code>multiple-value-call</code> macro on top of this.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='indexa129.html?replytocom=68#respond' onclick='return addComment.moveForm( "div-comment-68", "68", "respond", "370" )' aria-label='Reply to John Cowan'>Reply</a></div>			</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-119" class="comment odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-119" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://0.gravatar.com/avatar/3d5bd47f9edb40c4eee3e9bae3aa5f27?s=64&amp;d=mm&amp;r=g' srcset='http://0.gravatar.com/avatar/3d5bd47f9edb40c4eee3e9bae3aa5f27?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />						<b class="fn">Andrew Kirkpatrick</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.html#comment-119">
							<time datetime="2015-07-10T08:27:39+00:00">
								July 10, 2015 at 8:27 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>I understand that a benefit of multiple values is they don&#8217;t cons in efficient implementations, the values being present in CPU registers for the caller to use or ignore. They certainly come in handy for communicating metadata that is not always wanted or expected, such as an error caught and suppressed by IGNORE-ERRORS.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index57d3.html?replytocom=119#respond' onclick='return addComment.moveForm( "div-comment-119", "119", "respond", "370" )' aria-label='Reply to Andrew Kirkpatrick'>Reply</a></div>			</article><!-- .comment-body -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		
	
	
					<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply to <a href="#comment-59">malisper</a> <small><a rel="nofollow" id="cancel-comment-reply-link" title="Cancel reply" href="index.html#respond"><span class="screen-reader-text">Cancel reply</span></a></small></h3>				<form action="http://malisper.me/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
					<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required='true' required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required='true' required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='370' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='59' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="18bdb16370" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="25"/></p>				</form>
					</div><!-- #respond -->
		
</div><!-- #comments -->
		
		</main><!-- #main -->
	</div><!-- #primary -->

	</div><!-- #content -->

	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
			<a href="http://wordpress.org/">Proudly powered by WordPress</a>
			<span class="sep"> ~ </span>
			Theme: Scrawl by <a href="https://wordpress.com/themes/" rel="designer">WordPress.com</a>.		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

<script type='text/javascript' src='../../../../wp-content/plugins/akismet/_inc/form2d73.html?ver=3.1.11'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore09b1.js?ver=3.0.9b'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPlain09b1.js?ver=3.0.9b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore09b1.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeEclipse09b1.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<link rel='stylesheet' id='qtipstyles-css'  href='../../../../wp-content/plugins/easy-footnotes/assets/qtip/jquery.qtip.min167b.css?ver=4.6' type='text/css' media='' />
<link rel='stylesheet' id='easyfootnotescss-css'  href='../../../../wp-content/plugins/easy-footnotes/assets/easy-footnotes167b.css?ver=4.6' type='text/css' media='' />
<link rel='stylesheet' id='dashicons-css'  href='../../../../wp-includes/css/dashicons.min167b.css?ver=4.6' type='text/css' media='all' />
<script type='text/javascript' src='../../../../wp-content/themes/scrawl-wpcom/js/scrawld56c.js?ver=20150309'></script>
<script type='text/javascript' src='../../../../wp-content/themes/scrawl-wpcom/js/skip-link-focus-fix08e0.js?ver=20130115'></script>
<script type='text/javascript' src='../../../../wp-includes/js/comment-reply.min167b.js?ver=4.6'></script>
<script type='text/javascript' src='../../../../wp-includes/js/wp-embed.min167b.js?ver=4.6'></script>
<script type='text/javascript' src='../../../../wp-includes/js/imagesloaded.min55a0.js?ver=3.2.0'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/easy-footnotes/assets/qtip/jquery.qtip.min167b.js?ver=4.6'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/easy-footnotes/assets/qtip/jquery.qtipcall167b.js?ver=4.6'></script>

</body>

<!-- Mirrored from malisper.me/2015/06/30/multiple-value-bind/?replytocom=59 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 01 Sep 2016 17:47:04 GMT -->
</html>
<!-- Dynamic page generated in 0.093 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2016-09-01 12:23:41 -->

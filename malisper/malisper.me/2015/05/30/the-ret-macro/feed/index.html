<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	>
<channel>
	<title>Comments on: The Ret Macro</title>
	<atom:link href="http://malisper.me/2015/05/30/the-ret-macro/feed/" rel="self" type="application/rss+xml" />
	<link>http://malisper.me/2015/05/30/the-ret-macro/</link>
	<description>Case Studies in Lisp Macros</description>
	<lastBuildDate>Thu, 14 Apr 2016 08:46:03 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.6</generator>
	<item>
		<title>By: Wojciech Gac</title>
		<link>http://malisper.me/2015/05/30/the-ret-macro/#comment-2584</link>
		<dc:creator><![CDATA[Wojciech Gac]]></dc:creator>
		<pubDate>Fri, 15 Jan 2016 12:45:40 +0000</pubDate>
		<guid isPermaLink="false">http://malisper.me/?p=8#comment-2584</guid>
		<description><![CDATA[I thought about generalizing your macro to handle an arbitrary number of bindings, so that you could give it e.g. 3 bindings and after running the body it would return those 3 bindings as values. Here&#039;s what I came up with:

(defmacro multi-ret ((&#038;rest bindings) &#038;body body)
  (let ((vars (loop for (v nil) on bindings by #&#039;cddr collect v)))
    `(let (,@(loop for (var val) on bindings by #&#039;cddr
                collect (list var val)))
     ,@body
     (funcall #&#039;values ,@vars))))

Example of usage:
(multi-ret (a 1 b &#039;())
  (loop repeat 5
     do
       (push a b)
       (incf a)))
&#062; 6
&#062; (5 4 3 2 1)]]></description>
		<content:encoded><![CDATA[<p>I thought about generalizing your macro to handle an arbitrary number of bindings, so that you could give it e.g. 3 bindings and after running the body it would return those 3 bindings as values. Here&#8217;s what I came up with:</p>
<p>(defmacro multi-ret ((&amp;rest bindings) &amp;body body)<br />
  (let ((vars (loop for (v nil) on bindings by #&#8217;cddr collect v)))<br />
    `(let (,@(loop for (var val) on bindings by #&#8217;cddr<br />
                collect (list var val)))<br />
     ,@body<br />
     (funcall #&#8217;values ,@vars))))</p>
<p>Example of usage:<br />
(multi-ret (a 1 b &#8216;())<br />
  (loop repeat 5<br />
     do<br />
       (push a b)<br />
       (incf a)))<br />
&gt; 6<br />
&gt; (5 4 3 2 1)</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: James M. Lawrence</title>
		<link>http://malisper.me/2015/05/30/the-ret-macro/#comment-6</link>
		<dc:creator><![CDATA[James M. Lawrence]]></dc:creator>
		<pubDate>Tue, 09 Jun 2015 05:26:17 +0000</pubDate>
		<guid isPermaLink="false">http://malisper.me/?p=8#comment-6</guid>
		<description><![CDATA[FYI a similar PROG1-LET macro was once proposed on the alexandria mailing list. https://www.mail-archive.com/alexandria-devel@common-lisp.net/msg00403.html]]></description>
		<content:encoded><![CDATA[<p>FYI a similar PROG1-LET macro was once proposed on the alexandria mailing list. <a href="https://www.mail-archive.com/alexandria-devel@common-lisp.net/msg00403.html" rel="nofollow">https://www.mail-archive.com/alexandria-devel@common-lisp.net/msg00403.html</a></p>
]]></content:encoded>
	</item>
</channel>
</rss>

<!-- Dynamic page generated in 0.050 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2016-09-01 12:24:17 -->
